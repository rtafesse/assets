function e(e){return e&&e.__esModule?e.default:e}const t="https://m.media-amazon.com/images/I/819FiCoe2FL.jpg",n=221;const r=0,i=768,o=1024,a=1280;var s={};Object.defineProperty(s,"__esModule",{value:!0}),s.getDetectedPlatform=void 0;var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(e){void 0===e&&(e="top");var t=null;if(!t&&"top"===e){var n=null;try{n=void 0!==window.top.location.search?window.top:null}catch(e){}t=n}if(!t&&"parent"===e){n=null;try{n=void 0!==window.parent.location.search?window.parent:null}catch(e){}t=n}return t||(t=window),t};var u=/^http(s)?\:\/\/m\.(.*\.)?imdb\.com/,l=/(Android|OS|Windows Phone) (\d+)[\._](\d+)[\._]?(\d+)?/,d=/Android (\d{2,})/,f=/iP(hone|ad|od)/,p=/Version\/[\d\.]+.*Safari/,E=/(Chrome|Safari|MSIE|Firefox)/,m=/(SamsungBrowser|Galaxy Nexus Build|iPhone OS 8|iPhone OS 7)/,h=function(){function e(){this._isWindowsDevice=!1,this._isIOSDevice=!1,this._isAndroidDevice=!1,this._isIMDbApp=!1,this._isSafari=!1,this._isMobileDevice=!1,this._isMobileSite=!1,this._hasTouch=!1,this._mobilePlatformVersion={major:0,minor:0,patch:0,androidAPI:0},this._chromeVersion=0,this._canAutoplay=!1,this._canTransitionTransform=!1,this._siteVariant="";var e=window.navigator.userAgent,t=window.location.href;this._isWindowsDevice=e.indexOf("Windows Phone")>-1,this._isIOSDevice=e.search(f)>-1,this._isAndroidDevice=e.indexOf("Android")>-1,this._isIMDbApp=e.indexOf("IMDb-flg")>-1,this._isSafari=e.search(p)>-1,this._isMobileDevice=this._isWindowsDevice||this._isIOSDevice||this._isAndroidDevice,this._isMobileSite=t.search(u)>-1,this._hasTouch=void 0!==document.ontouchstart,this._mobilePlatformVersion=function(e,t,n){var r={major:0,minor:0,patch:0,androidAPI:0};(i=e.match(l))&&i.length>0&&(r.major=parseInt(i[2],10)||0,r.minor=parseInt(i[3],10)||0,r.patch=parseInt(i[4],10)||0);if(t&&n){var i;(i=e.match(d))&&i.length>0?r.androidAPI=parseInt(i[1],10)||0:r.androidAPI=0}return r}(e,this.isIMDbApp,this.isAndroidDevice),this._chromeVersion=v(e),this._canAutoplay=function(e,t,n,r,i){if(t)return n?e.androidAPI>=17||e.major>=4&&!(4===e.major&&e.minor<2):!!(r&&e.major>=4);if(i)return!1;return!0}(this.mobilePlatformVersion,this.isIMDbApp,this.isAndroidDevice,this.isIOSDevice,this.isMobileDevice),this._canTransitionTransform=this.isDesktopSite||function(e,t,n,r){var i=!n&&r.major<9;if(t)return!i;if(m.test(e))return!1;if(E.test(e)){if(-1!==e.indexOf("Chrome/")){var o=v(e);if(!Number.isNaN(o)&&o<46)return!1}return!0}return!1}(e,this.isIMDbApp,this.isAndroidDevice,this.mobilePlatformVersion),this._siteVariant=function(e,t,n,r){var i="";e?(i="app",i+=t?"-ios-ph":n?"-andr-ph":"-unknown"):i=r?"mobile":"web";return i}(this.isIMDbApp,this.isIOSDevice,this.isAndroidDevice,this.isMobileSite)}return Object.defineProperty(e.prototype,"isWindowsDevice",{get:function(){return this._isWindowsDevice},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIOSDevice",{get:function(){return this._isIOSDevice},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAndroidDevice",{get:function(){return this._isAndroidDevice},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileDevice",{get:function(){return this._isMobileDevice},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIMDbApp",{get:function(){return this._isIMDbApp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSafari",{get:function(){return this._isSafari},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDesktopSite",{get:function(){return!this.isMobileDevice},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileSite",{get:function(){return this._isMobileSite},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasTouch",{get:function(){return this._hasTouch},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"chromeVersion",{get:function(){return this._chromeVersion},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mobilePlatformVersion",{get:function(){return this._mobilePlatformVersion},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canAutoplay",{get:function(){return this._canAutoplay},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canTransitionTransform",{get:function(){return this._canTransitionTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"siteVariant",{get:function(){return this._siteVariant},enumerable:!1,configurable:!0}),e}();function v(e){return-1!==e.indexOf("Chrome/")?parseInt(e.substr(e.indexOf("Chrome/")+"Chrome/".length,2),10):0}s.getDetectedPlatform=function(){var e=window.navigator.userAgent.toLowerCase(),t=c.default("top").location.search.match(/platform=(\w+)/)||[],n=DeviceInfo.PlatformType.unknown;switch(!0){case null!==t&&t.length>0:var r=t[1];void 0!==DeviceInfo.PlatformType[r]&&(n=DeviceInfo.PlatformType[r]);break;case e.indexOf("iphone")>-1:n=DeviceInfo.PlatformType.ios;break;case e.indexOf("android")>-1:n=DeviceInfo.PlatformType.android;break;default:n=DeviceInfo.PlatformType.web}return n};var g=new h;Object.freeze(g),s.default=g;const _=(e,t,n)=>{const r=e/255,i=t/255,o=n/255,a=Math.max(r,i,o),s=Math.min(r,i,o);let c=0;return a===r&&(c=(i-o)/(a-s)),a===i&&(c=2+(o-r)/(a-s)),a===o&&(c=4+(r-i)/(a-s)),c*=60,c<0?c+360:c},b=e=>new Promise((t=>{try{const n=new Image;n.crossOrigin="Anonymous",n.onload=()=>{const e=document.createElement("canvas"),r=e.getContext("2d");e.width=n.width,e.height=n.height,null==r||r.clearRect(0,0,e.width,e.height),null==r||r.drawImage(n,0,0,n.width,n.height);const i=((e,t,n)=>{const r={};let i,o,a,s,c;o=a=s=c=0,i=e.getImageData(0,0,t,n);for(let e=0,t=i.data;e<t.length;e+=4){if(o=t[e],a=t[e+1],s=t[e+2],c=t[e+3],c<127.5)continue;const n=parseInt(""+_(o,a,s));r[n]=++r[n]||0}return r})(r,n.width,n.height),o=Object.keys(i).sort(((e,t)=>i[parseInt(t)]-i[parseInt(e)])).filter((e=>!!e&&!isNaN(parseInt(e))));t((parseInt(o[0])+parseInt(o[1])+parseInt(o[2])+parseInt(o[3])+parseInt(o[4])+parseInt(o[5]))/5)},n.src=e}catch(e){t(0)}}));function y(){const e=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t)});return 1===parseInt(e.dev)}var I={};Object.defineProperty(I,"__esModule",{value:!0}),I.VideoFullscreenButton=void 0;var C={};Object.defineProperty(C,"__esModule",{value:!0});var M=function(e){var t=this;if(void 0===e&&(e=[]),this.observers=[],this.clear=function(){for(var e=t.observers.length-1;e>0;e--)t.observers.splice(e,1)},this.notify=function(e,n){"string"==typeof e&&t.observers.forEach((function(r){t.notifyObserver(r,e,n)}))},this.notifyObserver=function(e,t,n){e&&"object"==typeof e&&e[t]&&"function"==typeof e[t]&&e[t].apply(e,n)},this.subscribe=function(e){return!(!e||"object"!=typeof e||-1!==t.observers.indexOf(e)||(t.observers.push(e),0))},this.unsubscribe=function(e){var n=t.observers.indexOf(e);return!(!e||-1===n||(t.observers.splice(n,1),0))},this.getAllObserverKeys=function(){var e=new Set;return t.observers.forEach((function(t){Object.keys(t).forEach((function(t){e.add(t)}))})),e},!(e instanceof Array))throw new TypeError("Notifiers should be instantiated with either an Array of observers or no argument at all. Received "+e);this.clear(),e.forEach((function(e){return t.subscribe(e)}))};C.default=M;var A=function(){function e(e,t){var n=this;this.element=e,this.notifier=new C.default,this._enabled=!0,this._status="normal",this.activate=function(){n.element.removeEventListener("click",n.onClick),n.element.addEventListener("click",n.onClick)},this.deactivate=function(){n.element.removeEventListener("click",n.onClick)},this.onClick=function(){var e="normal"===n.status?"onRequestFullScreen":"onRequestNormalScreen";n.notify(e)},this.updateEnabled=function(){n.enabled?n.activate():n.deactivate(),n.notify("onEnabledChange",n.enabled)},this.notify=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];n.notifier.notify(e,t)},this.subscribe=function(e){return n.notifier.subscribe(e)},this.unsubscribe=function(e){return n.notifier.unsubscribe(e)},this.observer=t||{},this.notifier.subscribe(this.observer),this.activate()}return Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(e){var t=e!==this._enabled;this._enabled=e,t&&this.updateEnabled()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFullScreen",{get:function(){return"full"===this.status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._status},set:function(e){var t=e!==this.status;this._status=e,t&&this.notify("onStatusChange",this.status)},enumerable:!1,configurable:!0}),e}();I.VideoFullscreenButton=A,I.default=A;var T={};Object.defineProperty(T,"__esModule",{value:!0}),T.VideoSlateButton=void 0;var P=function(){function e(e,t){var n=this;this.element=e,this.notifier=new C.default,this._enabled=!0,this._playbackStatus="notstarted",this.activate=function(){n.deactivate(),n.element.addEventListener("click",n.onClick)},this.deactivate=function(){n.element.removeEventListener("click",n.onClick)},this.onClick=function(){var e=void 0;switch(n.playbackStatus){case"completed":e="onRequestRestart";break;case"playing":e="onRequestPause";break;case"notstarted":case"paused":e="onRequestPlay"}e&&n.notify(e)},this.updateEnabled=function(){n.enabled?n.activate():n.deactivate(),n.notify("onEnabledChange",n.enabled)},this.notify=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];n.notifier.notify(e,t)},this.subscribe=function(e){return n.notifier.subscribe(e)},this.unsubscribe=function(e){return n.notifier.unsubscribe(e)},this.observer=t||{},this.notifier.subscribe(this.observer),this.activate()}return Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(e){var t=e!==this._enabled;this._enabled=e,t&&this.updateEnabled()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playbackStatus",{get:function(){return this._playbackStatus},set:function(e){var t=e!==this.playbackStatus;this._playbackStatus=e,t&&this.notify("onPlaybackStatusChange",this.playbackStatus)},enumerable:!1,configurable:!0}),e}();T.VideoSlateButton=P,T.default=P;var R={},k=R&&R.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},w=R&&R.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(R,"__esModule",{value:!0}),R.Video=void 0;var O={},S=O&&O.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},L=O&&O.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(O,"__esModule",{value:!0}),O.InteroperableMedia=void 0;var D={};Object.defineProperty(D,"__esModule",{value:!0}),D.default=C.default;var N={};Object.defineProperty(N,"__esModule",{value:!0}),N.MODULE_NAME=void 0,N.MODULE_NAME="IMDbMediaInteroperabilityPlugin";var V,F={},j=F&&F.__extends||(V=function(e,t){return(V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}V(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(F,"__esModule",{value:!0}),F.MissingNativeWebBridgeError=F.RequestPlaybackResponseError=F.SetStatusError=void 0;var B=function(e){function t(t,n,r){var i=e.call(this)||this;return i.message="setStatus("+t+") failed [mediaKey: "+n+", lastPermisson: "+r+"]",i.name=N.MODULE_NAME+"_SetStatusError",i}return j(t,e),t}(Error);F.SetStatusError=B;var x=function(e){function t(){var t=e.call(this)||this;return t.message="requestPlayback failed",t.name=N.MODULE_NAME+"_RequestPlaybackResponseError",t}return j(t,e),t}(Error);F.RequestPlaybackResponseError=x;var U=function(e){function t(){var t=e.call(this)||this;return t.message="window.NativeWebBridge is undefined",t.name=N.MODULE_NAME+"_MissingNativeWebBridgeError",t}return j(t,e),t}(Error);F.MissingNativeWebBridgeError=U;var K=function(){function e(t,n){var r=this;if(this.element=t,this.notifier=new D.default,this.lastPermission=void 0,this.mediaKey=void 0,this.isSubscribed=!1,this._isUserPaused=!1,this._isFullscreen=!1,this.pause=function(e){void 0===e&&(e={}),r._isUserPaused=!!e.userInitiated,r.setStatus("setMediaPaused")},this.play=function(e){return void 0===e&&(e={}),S(r,void 0,void 0,(function(){return L(this,(function(t){return this.requestPlayback(e),[2]}))}))},this.setMediaPaused=function(e){void 0===e&&(e={}),r._isUserPaused=!!e.userInitiated,r.setStatus("setMediaPaused")},this.setMediaPlaying=function(){r.setStatus("setMediaPlay")},this.setMediaEnded=function(){r.setStatus("setMediaEnded")},this.setIsFullscreen=function(e){r._isFullscreen=e},this.subscribe=function(e){return r.notifier.subscribe(e)},this.unsubscribe=function(e){return r.notifier.unsubscribe(e)},this.subscribeToNotifications=function(e){void 0===e&&(e={});var t=!!e.shouldRequestPlayback;r.isSubscribed||(r.isSubscribed=window.NativeWebBridge.subscribe({onMediaPermissionsChanged:r.onMediaPermissionsChanged}),t&&r.requestPlayback({userInitiated:!1}))},this.onMediaPermissionsChanged=function(e){var t=e.permission,n=e.key;if(t){var i=t.toLowerCase();switch(r.lastPermission=i,r.mediaKey=n,r.log("onMediaPermissionsChanged: "+i),i){case"granted":r.notify("onPlayPermissionGranted");break;case"denied":r.notify("onPlayPermissionDenied");break;case"pending":r.notify("onPlayPermissionPending")}}},this.setStatus=function(t){return S(r,void 0,void 0,(function(){var n;return L(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,window.NativeWebBridge[t]({key:this.mediaKey,permission:this.lastPermission})];case 1:return r.sent(),[3,3];case 2:if(n=r.sent(),this.log("SetStatusError",n),!e.SILENT_ON_ERROR)throw new F.SetStatusError(t,this.mediaKey,this.lastPermission);return[3,3];case 3:return[2]}}))}))},this.requestPlayback=function(t){return void 0===t&&(t={}),S(r,void 0,void 0,(function(){var n,r,i;return L(this,(function(o){switch(o.label){case 0:if(this.log("requestPlayback",t),t.userInitiated&&(this._isUserPaused=!1),this.isSubscribed||(this.isSubscribed=window.NativeWebBridge.subscribe({onMediaPermissionsChanged:this.onMediaPermissionsChanged})),"granted"===(null===(i=this.lastPermission)||void 0===i?void 0:i.toLowerCase()))return this.notify("onPlayPermissionGranted"),[2];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,window.NativeWebBridge.requestPlayback({name:window.name,userInitiated:!!t.userInitiated,videoFrame:this.getMediaFrame()})];case 2:return n=o.sent(),this.log("requestPlayback success"),this.onMediaPermissionsChanged(n),[3,4];case 3:if(r=o.sent(),this.log("RequestPlaybackResponseError",r),!e.SILENT_ON_ERROR)throw new F.RequestPlaybackResponseError;return[3,4];case 4:return[2]}}))}))},this.getMediaFrame=function(){var e=r.element.getBoundingClientRect(),t={x:e.left+parent.window.scrollX,y:e.top+parent.window.scrollY,width:e.width,height:e.height};return r._isFullscreen&&(t.isFullscreen=!0),t},this.notify=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];r.notifier.notify(e,t)},this.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.LOGGING_ENABLED&&console.log("["+N.MODULE_NAME+"]",t)},this.notifier.subscribe(n),void 0===window.NativeWebBridge&&(this.log("NO NATIVE WEB BRIDGE"),!e.SILENT_ON_ERROR))throw new F.MissingNativeWebBridgeError}return Object.defineProperty(e.prototype,"isFullscreen",{get:function(){return this._isFullscreen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUserPaused",{get:function(){return this._isUserPaused},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"permissionStatus",{get:function(){return this.lastPermission},enumerable:!1,configurable:!0}),e.LOGGING_ENABLED=!1,e.SILENT_ON_ERROR=!1,e}();O.InteroperableMedia=K,O.default=K;var G={},q=G&&G.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},W=G&&G.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(G,"__esModule",{value:!0}),G.removeDocumentFullScreenEventHandler=G.addDocumentFullScreenEventHandler=G.requestNormalScreen=G.requestFullscreen=G.getFullscreenElement=G.supportsFullscreen=void 0;G.supportsFullscreen=function(e){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled||e.webkitSupportsFullscreen};G.getFullscreenElement=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement};G.requestFullscreen=function(e){return q(void 0,void 0,void 0,(function(){return W(this,(function(t){return e.requestFullscreen?[2,e.requestFullscreen()]:e.webkitRequestFullscreen?[2,e.webkitRequestFullscreen()]:e.msRequestFullscreen?[2,e.msRequestFullscreen()]:e.mozRequestFullScreen?[2,e.mozRequestFullScreen()]:e.webkitEnterFullscreen?[2,e.webkitEnterFullscreen()]:[2]}))}))};G.requestNormalScreen=function(e){return q(void 0,void 0,void 0,(function(){return W(this,(function(t){return document.exitFullscreen?[2,document.exitFullscreen()]:document.webkitExitFullscreen?[2,document.webkitExitFullscreen()]:document.mozCancelFullScreen?[2,document.mozCancelFullScreen()]:document.msExitFullscreen?[2,document.msExitFullscreen()]:e.webkitExitFullscreen?[2,e.webkitExitFullscreen()]:[2]}))}))};G.addDocumentFullScreenEventHandler=function(e,t){t?void 0!==parent.document.onfullscreenchange?parent.document.addEventListener("fullscreenchange",e):void 0!==parent.document.onwebkitfullscreenchange?parent.document.addEventListener("webkitfullscreenchange",e):void 0!==parent.document.onmozfullscreenchange?parent.document.addEventListener("mozfullscreenchange",e):void 0!==parent.document.onmsfullscreenchange&&parent.document.addEventListener("msfullscreenchange",e):void 0!==document.onfullscreenchange?document.addEventListener("fullscreenchange",e):void 0!==document.onwebkitfullscreenchange?document.addEventListener("webkitfullscreenchange",e):void 0!==document.onmozfullscreenchange?document.addEventListener("mozfullscreenchange",e):void 0!==document.onmsfullscreenchange&&document.addEventListener("msfullscreenchange",e)};G.removeDocumentFullScreenEventHandler=function(e,t){t?void 0!==parent.document.onfullscreenchange?parent.document.removeEventListener("fullscreenchange",e):void 0!==parent.document.onwebkitfullscreenchange?parent.document.removeEventListener("webkitfullscreenchange",e):void 0!==parent.document.onmozfullscreenchange?parent.document.removeEventListener("mozfullscreenchange",e):void 0!==parent.document.onmsfullscreenchange&&parent.document.removeEventListener("msfullscreenchange",e):void 0!==document.onfullscreenchange?document.removeEventListener("fullscreenchange",e):void 0!==document.onwebkitfullscreenchange?document.removeEventListener("webkitfullscreenchange",e):void 0!==document.onmozfullscreenchange?document.removeEventListener("mozfullscreenchange",e):void 0!==document.onmsfullscreenchange&&document.removeEventListener("msfullscreenchange",e)};var H=function(){function e(e){var t=this;if(this.notifier=new C.default,this.observer={},this.fullscreenStatus="normal",this.playRequested=!1,this._isUserPaused=!1,this._playing=!1,this._muted=null,this._volume=null,this._progress=0,this._bufferProgress=0,this.useMediaInterop=!1,this.interopMedia=null,this.inIframe=!1,this.setFullscreenStatus=function(e){var n=e!==t.fullscreenStatus;n&&(t.fullscreenStatus=e,t.notify("onFullScreenStatusChange",e)),n&&"full"===e&&(t.notify("onFullScreen"),t.interopMedia&&t.interopMedia.setIsFullscreen(!0)),n&&"normal"===e&&(t.notify("onNormalScreen"),t.interopMedia&&t.interopMedia.setIsFullscreen(!1))},this.activate=function(){t.removeEventListeners(),t.addEventListeners()},this.deactivate=function(){t.removeEventListeners()},this.enterFullScreen=function(){return k(t,void 0,void 0,(function(){var e;return w(this,(function(t){switch(t.label){case 0:if(!(0,G.supportsFullscreen)(this.element))return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),this.setFullscreenStatus("requested"),[4,(0,G.requestFullscreen)(this.element)];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),this.setFullscreenStatus("error"),console.log(e),[3,4];case 4:return[3,6];case 5:this.setFullscreenStatus("denied"),t.label=6;case 6:return[2]}}))}))},this.enterNormalScreen=function(){return k(t,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,(0,G.requestNormalScreen)(this.element)];case 1:return e.sent(),[2]}}))}))},this.mute=function(){t.element.muted=!0},this.unmute=function(){t.element.muted=!1},this.pause=function(e){void 0===e&&(e={}),t._playing=!1,t.playRequested=!(null==e?void 0:e.userInitiated)&&t.playRequested,t._isUserPaused=!0===(null==e?void 0:e.userInitiated),t.element.pause(),t.interopMedia&&t.interopMedia.pause(e)},this.play=function(e){return void 0===e&&(e={}),k(t,void 0,void 0,(function(){var t;return w(this,(function(n){return t=this.allowPlay(),this.interopMedia?(this.playRequested=!0,[2,this.interopMedia.play(e)]):[2,t]}))}))},this.restart=function(e){void 0===e&&(e={}),t.element.currentTime=0,setTimeout((function(){t.play(e)}))},this.reset=function(e){void 0===e&&(e={}),t.element.currentTime=0,setTimeout((function(){t.pause(e)}))},this.subscribe=function(e){return t.notifier.subscribe(e)},this.unsubscribe=function(e){return t.notifier.unsubscribe(e)},this.allowPlay=function(){return k(t,void 0,void 0,(function(){var e,t;return w(this,(function(n){switch(n.label){case 0:e=!1,this._playError=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.element.play()];case 2:return n.sent(),e=!0,[3,4];case 3:return t=n.sent(),this._playError=t,[3,4];case 4:return[2,e]}}))}))},this.onPlayPermissionGranted=function(){console.log("onPlayPermissionGranted"),t.playRequested&&t.allowPlay()},this.onPlayPermissionDenied=function(){console.log("onPlayPermissionDenied"),t.pause({userInitiated:!1})},this.onPlayPermissionPending=function(){console.log("onPlayPermissionPending")},this.setElementRequirements=function(){t.volumeChangeEvent(),t.element.controlsList&&(t.element.controlsList="nodownload nofullscreen noremoteplayback")},this.updateProgress=function(){var e=t.progress;t._progress=t.duration?t.time/t.duration:0,e!==t.progress&&t.notify("onProgressChange",t.progress)},this.updateResourceLoadProgress=function(){if(4===t.element.readyState)return t._bufferProgress=1,void t.notify("onBufferProgressChange",t.resourceLoadProgress);if(t.duration>0)for(var e=0;e<t.element.buffered.length;e++)if(t.element.buffered.start(t.element.buffered.length-1-e)<t.time){t._bufferProgress=t.element.buffered.end(t.element.buffered.length-1-e)/t.duration,t.notify("onBufferProgressChange",t.resourceLoadProgress);break}},this.notify=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];t.notifier.notify(e,n)},this.initEvent=function(){t.updateProgress(),t.notify("onInit")},this.metadataEvent=function(){t.updateProgress(),t.notify("onMetaData")},this.pauseEvent=function(){t._playing=!1,t.notify("onPause")},this.playEvent=function(){var e=!1===t.playing;t._playing=!0,t.updateProgress(),e&&t.notify("onPlay")},this.playingEvent=function(){var e=!1===t.playing;t._playing=!0,t.useMediaInterop&&t.interopMedia.setMediaPlaying(),e&&t.notify("onPlaying")},this.endEvent=function(){var e;t._playing=!1,t.notify("onComplete"),null===(e=t.interopMedia)||void 0===e||e.setMediaEnded()},this.timeUpdateEvent=function(){t.updateProgress(),t.notify("onTimeUpdate")},this.durationChangeEvent=function(){t.updateProgress()},this.volumeChangeEvent=function(){var e=t.element.muted!==t._muted,n=t.element.volume!==t._volume;t._muted=t.element.muted,t._volume=t.element.volume,e&&t.notify(t.muted?"onMute":"onUnmute"),n&&t.notify("onVolumeChange",t.element.volume)},this.progressEvent=function(){t.updateResourceLoadProgress()},this.fullscreenEvent=function(){t.setFullscreenStatus(t.isFullScreen?"full":"normal")},this.addEventListeners=function(){t.element.addEventListener("loadstart",t.initEvent),t.element.addEventListener("timeupdate",t.timeUpdateEvent),t.element.addEventListener("loadedmetadata",t.metadataEvent),t.element.addEventListener("durationchange",t.durationChangeEvent),t.element.addEventListener("play",t.playEvent),t.element.addEventListener("playing",t.playingEvent),t.element.addEventListener("pause",t.pauseEvent),t.element.addEventListener("ended",t.endEvent),t.element.addEventListener("volumechange",t.volumeChangeEvent),t.element.addEventListener("progress",t.progressEvent),t.element.addEventListener("canplaythrough",t.progressEvent),t.element.addEventListener("fullscreenchange",t.fullscreenEvent),t.element.addEventListener("mozfullscreenchange",t.fullscreenEvent),t.element.addEventListener("MSFullscreenChange",t.fullscreenEvent),t.element.addEventListener("webkitfullscreenchange",t.fullscreenEvent),t.element.addEventListener("webkitendfullscreen",t.fullscreenEvent),document.addEventListener("webkitendfullscreen",t.fullscreenEvent),(0,G.addDocumentFullScreenEventHandler)(t.fullscreenEvent,t.inIframe)},this.removeEventListeners=function(){t.element.removeEventListener("loadstart",t.initEvent),t.element.removeEventListener("timeupdate",t.timeUpdateEvent),t.element.removeEventListener("loadedmetadata",t.metadataEvent),t.element.removeEventListener("durationchange",t.durationChangeEvent),t.element.removeEventListener("play",t.playEvent),t.element.removeEventListener("playing",t.playingEvent),t.element.removeEventListener("pause",t.pauseEvent),t.element.removeEventListener("ended",t.endEvent),t.element.removeEventListener("volumechange",t.volumeChangeEvent),t.element.removeEventListener("progress",t.progressEvent),t.element.removeEventListener("canplaythrough",t.progressEvent),t.element.removeEventListener("fullscreenchange",t.fullscreenEvent),t.element.removeEventListener("mozfullscreenchange",t.fullscreenEvent),t.element.removeEventListener("MSFullscreenChange",t.fullscreenEvent),t.element.removeEventListener("webkitfullscreenchange",t.fullscreenEvent),(0,G.removeDocumentFullScreenEventHandler)(t.fullscreenEvent,t.inIframe)},this.element=e.element,this.initAttributes=this.element.attributes,this.observer=e.observer||{},this.inIframe=e.inIframe,this.notifier.subscribe(this.observer),this.activate(),this.setElementRequirements(),e.useMediaInterop){var n=this;this.mediaInteropObserver={onPlayPermissionGranted:n.onPlayPermissionGranted,onPlayPermissionDenied:n.onPlayPermissionDenied,onPlayPermissionPending:n.onPlayPermissionPending},this.interopMedia=new O.default(this.element,this.mediaInteropObserver)}}return Object.defineProperty(e.prototype,"muted",{get:function(){return this._muted},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFullScreen",{get:function(){return!!(0,G.getFullscreenElement)()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this.element.paused},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUserPaused",{get:function(){return this._isUserPaused},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playError",{get:function(){return this._playError},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"time",{get:function(){return this.element.currentTime||0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this.element.duration||0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"progress",{get:function(){return this._progress},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resourceLoadProgress",{get:function(){return this._bufferProgress},enumerable:!1,configurable:!0}),e}();R.Video=H,R.default=H;var Q={},Y=Q&&Q.__assign||function(){return Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Y.apply(this,arguments)},X=Q&&Q.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},z=Q&&Q.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(Q,"__esModule",{value:!0}),Q.VideoPlayer=Q.VideoPlayerConfigDefault=void 0,Q.VideoPlayerConfigDefault={preferNativeFullScreenControls:!0};var $=function(){function e(e,t,n){var r=this;void 0===n&&(n=Q.VideoPlayerConfigDefault),this.video=e,this.ui=t,this.isSeeking=!1,this._uiEnabled=!0,this.play=function(e){void 0===e&&(e={}),r.video.play(e)},this.pause=function(e){void 0===e&&(e={}),r.video.pause(e)},this.updateUIEnabled=function(){var e=r.uiEnabled;Object.keys(r.ui).forEach((function(t){r.ui[t].enabled=e}))},this.setPlaybackStatus=function(e){var t;1===r.video.progress&&"paused"===e&&(e="completed"),r._playbackStatus=e,(null===(t=r.ui)||void 0===t?void 0:t.slateButton)&&(r.ui.slateButton.playbackStatus="seeking"!==e?r.playbackStatus:r.seekStartPlaybackStatus)},this.onUIProgressBarClick=function(e){r.currentTime=r.video.duration*e},this.onUIProgressBarDragOffset=function(e){r.currentTime=r.video.duration*e,r.seekStartPlaybackStatus="seeking"!==r.playbackStatus?r.playbackStatus:r.seekStartPlaybackStatus,r.isSeeking||(r.isSeeking=!0,r.setPlaybackStatus("seeking"))},this.onUIProgressBarDragEnd=function(){r.isSeeking=!1,r.setPlaybackStatus("seeking"!==r.playbackStatus?r.playbackStatus:r.seekStartPlaybackStatus)},this.onVideoInit=function(){r.setPlaybackStatus("notstarted")},this.onVideoComplete=function(){var e;r.setPlaybackStatus("completed"),(null===(e=r.ui)||void 0===e?void 0:e.playButton)&&(r.ui.playButton.status="pause")},this.onVideoBufferProgressChange=function(e){var t;(null===(t=r.ui)||void 0===t?void 0:t.progressBar)&&(r.ui.progressBar.bufferProgress=e)},this.onVideoProgressChange=function(e){var t;(null===(t=r.ui)||void 0===t?void 0:t.progressBar)&&(r.ui.progressBar.progress=e)},this.onVideoMute=function(){var e;(null===(e=r.ui)||void 0===e?void 0:e.muteButton)&&(r.ui.muteButton.status="mute")},this.onVideoUnmute=function(){var e;(null===(e=r.ui)||void 0===e?void 0:e.muteButton)&&(r.ui.muteButton.status="unmute")},this.onVideoFullScreen=function(){var e;r.init.preferNativeFullScreenControls&&(r.videoElement.controls=!0),(null===(e=r.ui)||void 0===e?void 0:e.fullscreenButton)&&(r.ui.fullscreenButton.status="full")},this.onVideoNormalScreen=function(){var e;r.video.initAttributes.getNamedItem("controls")&&(r.videoElement.controls=!!r.video.initAttributes.getNamedItem("controls").value),(null===(e=r.ui)||void 0===e?void 0:e.fullscreenButton)&&(r.ui.fullscreenButton.status="normal")},this.onVideoFullScreenError=function(){var e;(null===(e=r.ui)||void 0===e?void 0:e.fullscreenButton)&&(r.ui.fullscreenButton.status="normal")},this.onVideoPlay=function(){var e;r.setPlaybackStatus("playing"),(null===(e=r.ui)||void 0===e?void 0:e.playButton)&&(r.ui.playButton.status="play")},this.onVideoPause=function(){var e;r.setPlaybackStatus("paused"),(null===(e=r.ui)||void 0===e?void 0:e.playButton)&&(r.ui.playButton.status="pause")},this.onVideoPlayError=function(){var e;r.setPlaybackStatus("error"),(null===(e=r.ui)||void 0===e?void 0:e.playButton)&&(r.ui.playButton.status="pause")},this.onUIFullScreenRequest=function(){r.video.enterFullScreen()||r.onVideoFullScreenError()},this.onUINormalScreenRequest=function(){r.video.enterNormalScreen()},this.onUIPlayRequest=function(){return X(r,void 0,void 0,(function(){return z(this,(function(e){switch(e.label){case 0:return[4,this.video.play()];case 1:return e.sent()||this.onVideoPlayError(),[2]}}))}))},this.onUIPauseRequest=function(){r.video.pause({userInitiated:!0})},this.onUIMuteRequest=function(){r.video.mute()},this.onUIUnmuteRequest=function(){r.video.unmute()},this.onUIRestartRequest=function(){r.video.restart({userInitiated:!0})};var i=this;this.init=Y(Y({},Q.VideoPlayerConfigDefault),n),this.video.subscribe({onInit:i.onVideoInit,onComplete:i.onVideoComplete,onPause:i.onVideoPause,onPlay:i.onVideoPlay,onBufferProgressChange:i.onVideoBufferProgressChange,onProgressChange:i.onVideoProgressChange,onMute:i.onVideoMute,onUnmute:i.onVideoUnmute,onFullScreen:i.onVideoFullScreen,onNormalScreen:i.onVideoNormalScreen}),(null==t?void 0:t.fullscreenButton)&&this.ui.fullscreenButton.subscribe({onRequestFullScreen:i.onUIFullScreenRequest,onRequestNormalScreen:i.onUINormalScreenRequest}),(null==t?void 0:t.playButton)&&this.ui.playButton.subscribe({onPlayRequest:i.onUIPlayRequest,onPauseRequest:i.onUIPauseRequest}),(null==t?void 0:t.muteButton)&&(this.ui.muteButton.subscribe({onMuteRequest:i.onUIMuteRequest,onUnmuteRequest:i.onUIUnmuteRequest}),this.ui.muteButton.status=this.video.muted?"mute":"unmute"),(null==t?void 0:t.progressBar)&&this.ui.progressBar.subscribe({onClick:i.onUIProgressBarClick,onDragOffset:i.onUIProgressBarDragOffset,onDragEnd:i.onUIProgressBarDragEnd}),(null==t?void 0:t.slateButton)&&this.ui.slateButton.subscribe({onRequestPause:i.onUIPauseRequest,onRequestPlay:i.onUIPlayRequest,onRequestRestart:i.onUIRestartRequest})}return Object.defineProperty(e.prototype,"videoElement",{get:function(){return this.video.element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this.videoElement.currentTime},set:function(e){this.videoElement.currentTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playbackStatus",{get:function(){return this._playbackStatus},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uiEnabled",{get:function(){return this._uiEnabled},set:function(e){var t=e!==this._uiEnabled;this._uiEnabled=e,t&&this.updateUIEnabled()},enumerable:!1,configurable:!0}),e}();Q.VideoPlayer=$,Q.default=$;var J={};Object.defineProperty(J,"__esModule",{value:!0}),J.trackCarouselThumbnail=J.trackCarouselCTA=J.trackYoutube=J.trackInstagram=J.trackTwitter=J.trackFacebook=J.trackCollapse=J.trackExpand=J.trackSynopsisNav=J.trackCharactersNav=J.trackGalleryNav=J.trackWatchlistDelete=J.trackWatchlistAdd=J.trackViewableImpression=J.trackView=J.trackVideoPlaybackEvent=J.trackVideoNav=J.trackTimeToEngagement=J.trackSecondaryCTA=J.trackPrimaryCTA=J.trackDwell=J.trackCustomNav=J.trackClickthrough=void 0;var Z={};Object.defineProperty(Z,"__esModule",{value:!0}),Z.VIDEO_TYPE_EVENT_TRACKER_MAP=Z.VIDEO_PLAYBACK_EVENT_METRIC_MAP=Z.METRIC_VIDEO_COMPLETE=Z.METRIC_VIDEO_THIRD_QUARTILE=Z.METRIC_VIDEO_MIDPOINT=Z.METRIC_VIDEO_FIRST_QUARTILE=Z.METRIC_VIDEO_START=Z.METRIC_CLICK_CAROUSEL_THUMBNAIL=Z.METRIC_CLICK_CAROUSEL_CTA=Z.METRIC_CLICK_YOUTUBE=Z.METRIC_CLICK_INSTAGRAM=Z.METRIC_CLICK_TWITTER=Z.METRIC_CLICK_FACEBOOK=Z.METRIC_CLICK_CUSTOM_NAV=Z.METRIC_CLICK_COLLAPSE=Z.METRIC_CLICK_EXPAND=Z.METRIC_CLICK_SYNOPSIS_NAV=Z.METRIC_CLICK_CHARACTERS_NAV=Z.METRIC_CLICK_GALLERY_NAV=Z.METRIC_CLICK_VIDEO_NAV=Z.METRIC_CLICK_SECONDARY_CTA=Z.METRIC_CLICK_PRIMARY_CTA=Z.ALLOWED_NO_PREFIX_METRICS=Z.SITEWIDE_METRIC_MAP=Z.BASE_METRIC_MAP=Z.METRIC_WATCHLIST_DELETE=Z.METRIC_WATCHLIST_ADD=Z.METRIC_ENGAGEMENT_DEPTH=Z.METRIC_ENGAGEMENTS_TOTAL=Z.METRIC_DWELL_TIME=Z.METRIC_TIME_UNTIL_ENGAGEMENT=Z.METRIC_VIEWABLE_IMPRESSION=Z.METRIC_VIEWED=Z.METRIC_INIT=Z.TRACKING_URL=Z.REF_MARKER_WATCHLIST_RIBBION=Z.REF_MARKER_MAX_LENGTH=Z.REF_MARKER_REGEX=Z.REF_MARKER_DELIMETER=Z.REF_MARKER_PREFIX=Z.PAGE_ACTION_REGEX=Z.PAGE_ACTION_DELIMETER=Z.PAGE_ACTION_PREFIX=Z.PAGE_ACTION_MAX_LENGTH=Z.MODULE_NAME=void 0,Z.MODULE_NAME="IMDbAdvertisingTracking",Z.PAGE_ACTION_MAX_LENGTH=30,Z.PAGE_ACTION_PREFIX="crt",Z.PAGE_ACTION_DELIMETER="-";var ee="^".concat(Z.PAGE_ACTION_PREFIX).concat(Z.PAGE_ACTION_DELIMETER);Z.PAGE_ACTION_REGEX=new RegExp(ee),Z.REF_MARKER_PREFIX="crt",Z.REF_MARKER_DELIMETER="_";var te="^".concat(Z.REF_MARKER_PREFIX).concat(Z.REF_MARKER_DELIMETER);Z.REF_MARKER_REGEX=new RegExp(te),Z.REF_MARKER_MAX_LENGTH=64,Z.REF_MARKER_WATCHLIST_RIBBION="wl_ribbon",Z.TRACKING_URL="/tr/",Z.METRIC_INIT={name:"init",type:"measurement",pageAction:"{prefix}-init"},Z.METRIC_VIEWED={name:"view",type:"measurement",pageAction:"{prefix}-view"},Z.METRIC_VIEWABLE_IMPRESSION={name:"vimp",type:"measurement",pageAction:"{prefix}-vimp"},Z.METRIC_TIME_UNTIL_ENGAGEMENT={name:"vtoint",type:"measurement",pageAction:"{prefix}-vtoint-{ms}"},Z.METRIC_DWELL_TIME={name:"dwell",type:"measurement",pageAction:"{prefix}-dwell-{ms}"},Z.METRIC_ENGAGEMENTS_TOTAL={name:"engtot",type:"aggregate",pageAction:"{prefix}-engtot-{count}"},Z.METRIC_ENGAGEMENT_DEPTH={name:"engdpth",type:"aggregate",pageAction:"{prefix}-engdpth-{count}-{total}"},Z.METRIC_WATCHLIST_ADD={name:"watchlist-add",type:"engagement",pageAction:"watchlist-add-{tconst}",multiple:!0},Z.METRIC_WATCHLIST_DELETE={name:"watchlist-del",type:"engagement",pageAction:"watchlist-del-{tconst}",multiple:!0},Z.BASE_METRIC_MAP={init:Z.METRIC_INIT,view:Z.METRIC_VIEWED,viewableImpression:Z.METRIC_VIEWABLE_IMPRESSION,vimp:Z.METRIC_VIEWABLE_IMPRESSION,timeToEngagement:Z.METRIC_TIME_UNTIL_ENGAGEMENT,vtoint:Z.METRIC_TIME_UNTIL_ENGAGEMENT,engdpth:Z.METRIC_ENGAGEMENT_DEPTH,engtot:Z.METRIC_ENGAGEMENTS_TOTAL,dwell:Z.METRIC_DWELL_TIME,engagementTotal:Z.METRIC_ENGAGEMENTS_TOTAL,engagementDepth:Z.METRIC_ENGAGEMENT_DEPTH},Z.SITEWIDE_METRIC_MAP={"watchlist-add":Z.METRIC_WATCHLIST_ADD,watchlistAdd:Z.METRIC_WATCHLIST_ADD,"watchlist-del":Z.METRIC_WATCHLIST_DELETE,watchlistDelete:Z.METRIC_WATCHLIST_DELETE},Z.ALLOWED_NO_PREFIX_METRICS=new Set,Object.keys(Z.SITEWIDE_METRIC_MAP).forEach((function(e){var t=Z.SITEWIDE_METRIC_MAP[e];Z.ALLOWED_NO_PREFIX_METRICS.add(t.name)})),Z.METRIC_CLICK_PRIMARY_CTA={name:"clickPrimaryCTA",type:"engagement",pageAction:"{prefix}-cta-primary{unit}"},Z.METRIC_CLICK_SECONDARY_CTA={name:"clickSecondaryCTA",type:"engagement",pageAction:"{prefix}-cta-secondary{unit}"},Z.METRIC_CLICK_VIDEO_NAV={name:"clickVideoNav",type:"engagement",pageAction:"{prefix}-nav-video-{unit}"},Z.METRIC_CLICK_GALLERY_NAV={name:"clickGalleryNav",type:"engagement",tracker:"tabClick6",pageAction:"{prefix}-nav-gallery"},Z.METRIC_CLICK_CHARACTERS_NAV={name:"clickCharactersNav",type:"engagement",tracker:"tabClick7",pageAction:"{prefix}-nav-characters"},Z.METRIC_CLICK_SYNOPSIS_NAV={name:"clickSynopsisNav",type:"engagement",tracker:"tabClick8",pageAction:"{prefix}-nav-synopsis"},Z.METRIC_CLICK_EXPAND={name:"clickExpand",type:"engagement",tracker:"tabClick9",pageAction:"{prefix}-expand"},Z.METRIC_CLICK_COLLAPSE={name:"clickCollapse",type:"engagement",tracker:"tabClick10",pageAction:"{prefix}-collapse"},Z.METRIC_CLICK_CUSTOM_NAV={name:"clickCustomNav",type:"engagement",pageAction:"{prefix}-nav-custom-{unit}"},Z.METRIC_CLICK_FACEBOOK={name:"clickFacebook",type:"engagement",tracker:"adCustomAction3",pageAction:"{prefix}-facebook"},Z.METRIC_CLICK_TWITTER={name:"clickTwitter",type:"engagement",tracker:"adCustomAction4",pageAction:"{prefix}-twitter"},Z.METRIC_CLICK_INSTAGRAM={name:"clickInstagram",type:"engagement",tracker:"adCustomAction5",pageAction:"{prefix}-instagram"},Z.METRIC_CLICK_YOUTUBE={name:"clickYoutube",type:"engagement",tracker:"adCustomAction6",pageAction:"{prefix}-youtube"},Z.METRIC_CLICK_CAROUSEL_CTA={name:"clickCarouselCTA",type:"engagement",tracker:"adCustomAction7",pageAction:"{prefix}-cta-carousel"},Z.METRIC_CLICK_CAROUSEL_THUMBNAIL={name:"clickCarouselThumbnail",type:"engagement",tracker:"adCustomAction8",pageAction:"{prefix}-thumbnail-carousel"},Z.METRIC_VIDEO_START={name:"videoStart",type:"video",tracker:"videoStart",pageAction:"{prefix}-"},Z.METRIC_VIDEO_FIRST_QUARTILE={name:"videoFirstQuartile",type:"video",tracker:"videoFirstQuartile",pageAction:"{prefix}-"},Z.METRIC_VIDEO_MIDPOINT={name:"videoMidpoint",type:"video",tracker:"videoMidpoint",pageAction:"{prefix}-"},Z.METRIC_VIDEO_THIRD_QUARTILE={name:"videoThirdQuartile",type:"video",tracker:"videoThirdQuartile",pageAction:"{prefix}-"},Z.METRIC_VIDEO_COMPLETE={name:"videoComplete",type:"video",tracker:"videoComplete",pageAction:"{prefix}-"},Z.VIDEO_PLAYBACK_EVENT_METRIC_MAP={start:Z.METRIC_VIDEO_START,firstQuartile:Z.METRIC_VIDEO_FIRST_QUARTILE,midpoint:Z.METRIC_VIDEO_MIDPOINT,thirdQuartile:Z.METRIC_VIDEO_THIRD_QUARTILE,complete:Z.METRIC_VIDEO_COMPLETE},Z.VIDEO_TYPE_EVENT_TRACKER_MAP=new Map,Z.VIDEO_TYPE_EVENT_TRACKER_MAP.set("intro",{start:"videoStart2",complete:"videoComplete2",firstQuartile:"videoFirstQuartile2",midpoint:"videoMidpoint2",thirdQuartile:"videoThirdQuartile2"}),Z.VIDEO_TYPE_EVENT_TRACKER_MAP.set("trailer1",{start:"videoStart3",complete:"videoComplete3",firstQuartile:"videoFirstQuartile3",midpoint:"videoMidpoint3",thirdQuartile:"videoThirdQuartile3"}),Z.VIDEO_TYPE_EVENT_TRACKER_MAP.set("trailer2",{start:"videoStart4",complete:"videoComplete4",firstQuartile:"videoFirstQuartile4",midpoint:"videoMidpoint4",thirdQuartile:"videoThirdQuartile4"}),Z.VIDEO_TYPE_EVENT_TRACKER_MAP.set("trailer3",{start:"videoStart5",complete:"videoComplete5",firstQuartile:"videoFirstQuartile5",midpoint:"videoMidpoint5",thirdQuartile:"videoThirdQuartile5"}),Z.VIDEO_TYPE_EVENT_TRACKER_MAP.set("trailer4",{start:"adCustomAction1051",firstQuartile:"adCustomAction1052",midpoint:"adCustomAction1053",thirdQuartile:"adCustomAction1054",complete:"adCustomAction1055"}),Z.VIDEO_TYPE_EVENT_TRACKER_MAP.set("trailer5",{start:"adCustomAction1056",firstQuartile:"adCustomAction1057",midpoint:"adCustomAction1058",thirdQuartile:"adCustomAction1059",complete:"adCustomAction1060"}),Z.VIDEO_TYPE_EVENT_TRACKER_MAP.set("trailer6",{start:"adCustomAction1061",firstQuartile:"adCustomAction1062",midpoint:"adCustomAction1063",thirdQuartile:"adCustomAction1064",complete:"adCustomAction1065"}),Z.VIDEO_TYPE_EVENT_TRACKER_MAP.set("trailer7",{start:"adCustomAction1066",firstQuartile:"adCustomAction1067",midpoint:"adCustomAction1068",thirdQuartile:"adCustomAction1069",complete:"adCustomAction1070"}),Z.VIDEO_TYPE_EVENT_TRACKER_MAP.set("trailer8",{start:"adCustomAction1071",firstQuartile:"adCustomAction1072",midpoint:"adCustomAction1073",thirdQuartile:"adCustomAction1074",complete:"adCustomAction1075"}),Z.VIDEO_TYPE_EVENT_TRACKER_MAP.set("trailer9",{start:"adCustomAction1076",firstQuartile:"adCustomAction1077",midpoint:"adCustomAction1078",thirdQuartile:"adCustomAction1079",complete:"adCustomAction1080"}),Z.VIDEO_TYPE_EVENT_TRACKER_MAP.set("trailer10",{start:"adCustomAction1081",firstQuartile:"adCustomAction1082",midpoint:"adCustomAction1083",thirdQuartile:"adCustomAction1084",complete:"adCustomAction1085"});var ne={},re=ne&&ne.__assign||function(){return re=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},re.apply(this,arguments)};Object.defineProperty(ne,"__esModule",{value:!0}),ne.getSnapshot=ne.trackEngagementTotal=ne.trackEngagementDepth=ne.trackMetric=ne.trackAdMetric=ne.trackSitewideMetric=ne.trackBaseMetric=ne.setUniqueEngagementTotal=ne.setSilentOnError=ne.setClickstreamConfig=ne.setPageDetails=ne.silentOnError=ne.creativeDetails=ne.pageDetails=void 0;var ie={},oe=ie&&ie.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(ie,"__esModule",{value:!0}),ie.MissingGetRedirect=ie.RefMarkerFormatError=ie.RefMarkerLengthError=ie.PageActionPrefixError=ie.PageActionLengthError=ie.MissingPageDetailsError=ie.MissingDynamicPropsError=ie.MetricNotSitewideMetric=ie.MetricNotBaseMetric=ie.AdMetricIndexRangeError=void 0;var ae=function(e){function t(t,n,r,i){var o=this,a="trackAdMetric(".concat(t,") for index:").concat(n," is outside the index boundary between [").concat(r," - ").concat(i,"]");return(o=e.call(this,a)||this).name="".concat(Z.MODULE_NAME,"_AdMetricIndexRangeError"),o}return oe(t,e),t}(Error);ie.AdMetricIndexRangeError=ae;var se=function(e){function t(t){var n=this,r="trackBaseMetric(".concat(t,") is not a recognized base tracking metric. Make sure metricName is defined as a base tracking metric");return(n=e.call(this,r)||this).name="".concat(Z.MODULE_NAME,"_MetricNotBaseMetric"),n}return oe(t,e),t}(Error);ie.MetricNotBaseMetric=se;var ce=function(e){function t(t){var n=this,r="trackSitewideMetric(".concat(t,") is not a recognized sitewide tracking metric. Make sure metricName is defined as a sitewide tracking metric");return(n=e.call(this,r)||this).name="".concat(Z.MODULE_NAME,"_MetricNotSitewideMetric"),n}return oe(t,e),t}(Error);ie.MetricNotSitewideMetric=ce;var ue=function(e){function t(t,n){void 0===n&&(n={});var r=this,i="".concat(t," is not being provided correct dynamic properties[").concat(JSON.stringify(n),"]");return(r=e.call(this,i)||this).name="".concat(Z.MODULE_NAME,"_MissingDynamicPropsError"),r}return oe(t,e),t}(Error);ie.MissingDynamicPropsError=ue;var le=function(e){function t(t){var n=this,r="".concat(t," tracked before defining PageDetails. pageType and subPageType values must be defined before firing metrics. Call 'setPageDetails( value:PageDetails )'  or 'setTrackingInit( value:TrackingInit )' before tracking metrics");return(n=e.call(this,r)||this).name="".concat(Z.MODULE_NAME,"_MissingPageDetailsError"),n}return oe(t,e),t}(Error);ie.MissingPageDetailsError=le;var de=function(e){function t(t){var n=this,r="".concat(t," exceeds the ").concat(Z.PAGE_ACTION_MAX_LENGTH," character limit");return(n=e.call(this,r)||this).name="".concat(Z.MODULE_NAME,"_PageActionLengthError"),n}return oe(t,e),t}(Error);ie.PageActionLengthError=de;var fe=function(e){function t(t){var n=this,r="".concat(t," does not start with ").concat(Z.PAGE_ACTION_PREFIX);return(n=e.call(this,r)||this).name="".concat(Z.MODULE_NAME,"_PageActionPrefixError"),n}return oe(t,e),t}(Error);ie.PageActionPrefixError=fe;var pe=function(e){function t(t){var n=this,r="".concat(t," exceeds the ").concat(Z.REF_MARKER_MAX_LENGTH," character limit");return(n=e.call(this,r)||this).name="".concat(Z.MODULE_NAME,"_RefMarkerLengthError"),n}return oe(t,e),t}(Error);ie.RefMarkerLengthError=pe;var Ee=function(e){function t(t){var n=this,r="RefMarker must start with ".concat(Z.REF_MARKER_PREFIX,". Received ").concat(t);return(n=e.call(this,r)||this).name="".concat(Z.MODULE_NAME,"_MetricRefMarkerFormatError"),n}return oe(t,e),t}(Error);ie.RefMarkerFormatError=Ee;var me=function(e){function t(){var t=this;return(t=e.call(this,"No getRedirect method defined on window scope")||this).name="".concat(Z.MODULE_NAME,"_MissingGetRedirect"),t}return oe(t,e),t}(Error);ie.MissingGetRedirect=me;var he={};Object.defineProperty(he,"__esModule",{value:!0}),he.encodeParameters=void 0;he.encodeParameters=function(e){return Object.keys(e).map((function(t){if(void 0!==e[t]){var n=encodeURIComponent(t),r=encodeURIComponent(e[t]);return"".concat(n,"=").concat(r)}return""})).join("&")},he.default=he.encodeParameters;var ve={};Object.defineProperty(ve,"__esModule",{value:!0}),ve.getDynamicMetricName=void 0;ve.getDynamicMetricName=function(e,t){var n=e;return Object.keys(t).forEach((function(e){var r=new RegExp("{".concat(e,"}")),i=t[e].toString();n=n.replace(r,i)})),n},ve.default=ve.getDynamicMetricName;var ge={};Object.defineProperty(ge,"__esModule",{value:!0}),ge.getPageDetails=void 0;var _e=function(e){var t=e.head?e.head.querySelector("meta[property$='pageConst'], meta[property$='pageId']"):void 0;return t?t.content:void 0},be=function(e){var t=e.head?e.head.querySelector("meta[property$='pageType']"):null;return t?t.content:""},ye=function(e){var t=e.head?e.head.querySelector("meta[property$='subpageType'], meta[property$='subPageType']"):null;return t?t.content:""};ge.getPageDetails=function(){var e=null;try{var t=window.top.document;e={pageType:be(t),subPageType:ye(t),pageConst:_e(t)}}catch(e){}return e};var Ie={};Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.getRefMarkerFromCreativeDetails=void 0;Ie.getRefMarkerFromCreativeDetails=function(e){var t=e.adId,n=e.creativeId,r=[Z.REF_MARKER_PREFIX,Z.REF_MARKER_DELIMETER,t,Z.REF_MARKER_DELIMETER,n];return"".concat(r.join(""))};var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.validateDynamicMetricParams=void 0;Ce.validateDynamicMetricParams=function(e,t){var n=e.match(/\{(\w+)\}/g),r=!0;return n&&n.forEach((function(e){var n=e.replace(/[{}]/g,"");r=r?void 0!==t[n]:r})),r},Ce.default=Ce.validateDynamicMetricParams;var Me,Ae=[],Te=new Set;ne.pageDetails=void 0,ne.creativeDetails=void 0,ne.silentOnError=!1;var Pe,Re=0,ke=0;ne.setPageDetails=function(e){ne.pageDetails=e,Me={ht:"actionOnly",pt:ne.pageDetails.pageType,spt:ne.pageDetails.subPageType},e.pageConst&&(Me.const=e.pageConst)};ne.setClickstreamConfig=function(e){ne.creativeDetails=e,Pe=(0,Ie.getRefMarkerFromCreativeDetails)(ne.creativeDetails),ne.pageDetails||(0,ne.setPageDetails)((0,ge.getPageDetails)())};ne.setSilentOnError=function(e){ne.silentOnError=e};ne.setUniqueEngagementTotal=function(e){ke=e};ne.trackBaseMetric=function(e,t){var n=Z.BASE_METRIC_MAP[e];if(!n)throw new ie.MetricNotBaseMetric(e);(0,ne.trackMetric)(n,t)};ne.trackSitewideMetric=function(e,t,n){var r=Z.SITEWIDE_METRIC_MAP[e];if(!r)throw new ie.MetricNotSitewideMetric(e);(0,ne.trackMetric)(r,t)};ne.trackAdMetric=function(e,t){(0,ne.trackMetric)(e,t)};ne.trackMetric=function(e,t,n){var r=n||Pe,i=void 0,o=void 0;if(e.tracker){if(ne.silentOnError)try{De(e.tracker)}catch(e){}else De(e.tracker);i=e.tracker}if(e.pageAction&&r){var a=null;if(ne.silentOnError)try{a=Oe(e,t,r);var s=(0,he.default)(a);Le(s)}catch(e){}else{a=Oe(e,t,r);s=(0,he.default)(a);Le(s)}o=a.pageAction}(o||i)&&we(e,o,r)};ne.trackEngagementDepth=function(e){void 0===e&&(e=ke),(0,ne.trackMetric)(Z.METRIC_ENGAGEMENT_DEPTH,{count:Te.size,total:e})};ne.trackEngagementTotal=function(){(0,ne.trackMetric)(Z.METRIC_ENGAGEMENTS_TOTAL,{count:Re})};ne.getSnapshot=function(){return{creativeDetails:ne.creativeDetails,pageDetails:ne.pageDetails,silentOnError:ne.silentOnError,firedMetrics:Ae,engagementCount:Re,uniqueEngagements:Te,uniqueEngagementTotal:ke}},window.getTrackingSnapshot=ne.getSnapshot;var we=function(e,t,n){var r=re(re({},e),{recordedTime:Date.now()});if(t&&(r.pageAction=t),n&&(r.ref_=n),Ae.push(r),"engagement"===r.type){Re+=1;var i=JSON.stringify({pageAction:r.pageAction,tracker:r.tracker});Te.add(i)}},Oe=function(e,t,n){if(!e.pageAction)return null;var r=Se(e,t),i=re(re({},Me),{pageAction:r});if(n){if(!Z.REF_MARKER_REGEX.test(n))throw new ie.RefMarkerFormatError(n);if(n.length>Z.REF_MARKER_MAX_LENGTH)throw new ie.RefMarkerLengthError(n);i.ref_=n}return i},Se=function(e,t){var n,r=re(re({},t),{prefix:Z.PAGE_ACTION_PREFIX});if(e.pageAction&&r){if(!(0,Ce.default)(e.pageAction,r))throw new ie.MissingDynamicPropsError(e.pageAction,t);n=(0,ve.default)(e.pageAction,r)}if(!n)throw new Error("metric name ".concat(n," does not exist"));if(!Z.PAGE_ACTION_REGEX.test(n))throw new ie.PageActionPrefixError(n);if(void 0===ne.pageDetails)throw new ie.MissingPageDetailsError(n);if(n.length>Z.PAGE_ACTION_MAX_LENGTH)throw new ie.PageActionLengthError(n);return n},Le=function(e){var t=new XMLHttpRequest;t.withCredentials=!0,t.open("POST",Z.TRACKING_URL),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(e)},De=function(e){var t=window.getClickTracker(e);(new Image).src=t},Ne={};Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.trackClickthrough=void 0;Ne.trackClickthrough=function(){if(void 0===window.getRedirect)throw new ie.MissingGetRedirect;(new Image).src=window.getRedirect()},Object.defineProperty(J,"trackClickthrough",{enumerable:!0,get:function(){return Ne.trackClickthrough}});var Ve={},Fe=Ve&&Ve.__assign||function(){return Fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Fe.apply(this,arguments)};Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.trackCustomNav=void 0;Ve.trackCustomNav=function(e){if(void 0===e&&(e=1),e<1||e>2)throw new ie.AdMetricIndexRangeError("trackSecondaryCTA",e,1,2);var t=1===e?"adCustomAction":"adCustomAction2",n=1===e?"":"2";(0,ne.trackAdMetric)(Fe(Fe({},Z.METRIC_CLICK_CUSTOM_NAV),{tracker:t}),{unit:n})},Ve.default=Ve.trackCustomNav,Object.defineProperty(J,"trackCustomNav",{enumerable:!0,get:function(){return Ve.trackCustomNav}});var je={};Object.defineProperty(je,"__esModule",{value:!0}),je.trackDwell=void 0;je.trackDwell=function(e){(0,ne.trackMetric)(Z.METRIC_DWELL_TIME,{ms:e})},je.default=je.trackDwell,Object.defineProperty(J,"trackDwell",{enumerable:!0,get:function(){return je.trackDwell}});var Be={},xe=Be&&Be.__assign||function(){return xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},xe.apply(this,arguments)};Object.defineProperty(Be,"__esModule",{value:!0}),Be.trackPrimaryCTA=void 0;Be.trackPrimaryCTA=function(e){if(void 0===e&&(e=1),e<1||e>2)throw new ie.AdMetricIndexRangeError("trackPrimaryCTA",e,1,2);var t=1===e?"tabClick":"tabClick2",n=1===e?"":"2";(0,ne.trackAdMetric)(xe(xe({},Z.METRIC_CLICK_PRIMARY_CTA),{tracker:t}),{unit:n})},Be.default=Be.trackPrimaryCTA,Object.defineProperty(J,"trackPrimaryCTA",{enumerable:!0,get:function(){return Be.trackPrimaryCTA}});var Ue={},Ke=Ue&&Ue.__assign||function(){return Ke=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ke.apply(this,arguments)};Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.trackSecondaryCTA=void 0;Ue.trackSecondaryCTA=function(e){if(void 0===e&&(e=1),e<1||e>2)throw new ie.AdMetricIndexRangeError("trackSecondaryCTA",e,1,2);var t=1===e?"adCustomAction1001":"adCustomAction1002",n=1===e?"":"2";(0,ne.trackAdMetric)(Ke(Ke({},Z.METRIC_CLICK_SECONDARY_CTA),{tracker:t}),{unit:n})},Ue.default=Ue.trackSecondaryCTA,Object.defineProperty(J,"trackSecondaryCTA",{enumerable:!0,get:function(){return Ue.trackSecondaryCTA}});var Ge={};Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.trackTimeToEngagement=void 0;Ge.trackTimeToEngagement=function(e){(0,ne.trackMetric)(Z.METRIC_TIME_UNTIL_ENGAGEMENT,{ms:e})},Ge.default=Ge.trackTimeToEngagement,Object.defineProperty(J,"trackTimeToEngagement",{enumerable:!0,get:function(){return Ge.trackTimeToEngagement}});var qe={},We=qe&&qe.__assign||function(){return We=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},We.apply(this,arguments)};Object.defineProperty(qe,"__esModule",{value:!0}),qe.trackVideoNav=void 0;var He=["tabClick3","tabClick4","tabClick5"];qe.trackVideoNav=function(e){if(void 0===e&&(e=1),e<1||e>3)throw new ie.AdMetricIndexRangeError("trackVideoNav",e,1,3);var t=He[e-1],n=1===e?"":e.toString();(0,ne.trackAdMetric)(We(We({},Z.METRIC_CLICK_VIDEO_NAV),{tracker:t}),{unit:n})},qe.default=qe.trackVideoNav,Object.defineProperty(J,"trackVideoNav",{enumerable:!0,get:function(){return qe.trackVideoNav}});var Qe={},Ye=Qe&&Qe.__assign||function(){return Ye=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ye.apply(this,arguments)};Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.trackVideoPlaybackEvent=void 0;Qe.trackVideoPlaybackEvent=function(e,t){var n=Z.VIDEO_PLAYBACK_EVENT_METRIC_MAP[t],r=Z.VIDEO_TYPE_EVENT_TRACKER_MAP.get(e)[t],i=Ye(Ye({},n),{tracker:r});(0,ne.trackAdMetric)(i),(0,ne.trackAdMetric)(n)},Object.defineProperty(J,"trackVideoPlaybackEvent",{enumerable:!0,get:function(){return Qe.trackVideoPlaybackEvent}});var Xe={};Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.trackView=void 0;Xe.trackView=function(){(0,ne.trackMetric)(Z.METRIC_VIEWED)},Xe.default=Xe.trackView,Object.defineProperty(J,"trackView",{enumerable:!0,get:function(){return Xe.trackView}});var ze={};Object.defineProperty(ze,"__esModule",{value:!0}),ze.trackViewableImpression=void 0;ze.trackViewableImpression=function(){(0,ne.trackMetric)(Z.METRIC_VIEWABLE_IMPRESSION)},ze.default=ze.trackViewableImpression,Object.defineProperty(J,"trackViewableImpression",{enumerable:!0,get:function(){return ze.trackViewableImpression}});var $e={};Object.defineProperty($e,"__esModule",{value:!0}),$e.trackWatchlistAdd=void 0;$e.trackWatchlistAdd=function(e){(0,ne.trackMetric)(Z.METRIC_WATCHLIST_ADD,{tconst:e},Z.REF_MARKER_WATCHLIST_RIBBION)},$e.default=$e.trackWatchlistAdd,Object.defineProperty(J,"trackWatchlistAdd",{enumerable:!0,get:function(){return $e.trackWatchlistAdd}});var Je={};Object.defineProperty(Je,"__esModule",{value:!0}),Je.trackWatchlistDelete=void 0;Je.trackWatchlistDelete=function(e){(0,ne.trackMetric)(Z.METRIC_WATCHLIST_DELETE,{tconst:e},Z.REF_MARKER_WATCHLIST_RIBBION)},Je.default=Je.trackWatchlistDelete,Object.defineProperty(J,"trackWatchlistDelete",{enumerable:!0,get:function(){return Je.trackWatchlistDelete}});J.trackGalleryNav=function(){(0,ne.trackAdMetric)(Z.METRIC_CLICK_GALLERY_NAV)};J.trackCharactersNav=function(){(0,ne.trackAdMetric)(Z.METRIC_CLICK_CHARACTERS_NAV)};J.trackSynopsisNav=function(){(0,ne.trackAdMetric)(Z.METRIC_CLICK_SYNOPSIS_NAV)};J.trackExpand=function(){(0,ne.trackAdMetric)(Z.METRIC_CLICK_EXPAND)};J.trackCollapse=function(){(0,ne.trackAdMetric)(Z.METRIC_CLICK_COLLAPSE)};J.trackFacebook=function(){(0,ne.trackAdMetric)(Z.METRIC_CLICK_FACEBOOK)};J.trackTwitter=function(){(0,ne.trackAdMetric)(Z.METRIC_CLICK_TWITTER)};J.trackInstagram=function(){(0,ne.trackAdMetric)(Z.METRIC_CLICK_INSTAGRAM)};J.trackYoutube=function(){(0,ne.trackAdMetric)(Z.METRIC_CLICK_YOUTUBE)};J.trackCarouselCTA=function(){(0,ne.trackAdMetric)(Z.METRIC_CLICK_CAROUSEL_CTA)};J.trackCarouselThumbnail=function(){(0,ne.trackAdMetric)(Z.METRIC_CLICK_CAROUSEL_THUMBNAIL)};let Ze;window.addEventListener("DOMContentLoaded",(()=>{!async function(){Ze=!parent.document.getElementById("top_ad");const{poster:c,shell:u,doc:l,clickthrough:d,fullscreen:f,video:p,slate:E}={shell:document.getElementById("video-wall-companion"),doc:document.documentElement,video:document.getElementById("video")||document.querySelector(".video-container video"),slate:document.getElementById("video-slate"),fullscreen:document.getElementById("video-fullscreen"),clickthrough:document.getElementById("clickthrough"),poster:document.getElementById("video-poster")},m=!!y()||function(e="5dvw-000002"){var t;const n=window.ad_utils||window.top.ad_utils,r=(null===(t=document.ad)||void 0===t?void 0:t.cid)||e,i=(null==n?void 0:n.fp)||null;return!(!i||!(null==i?void 0:i.should_autoplay(r))||r.log("KIKI"))}(),h=n||(await b(t)||0);let v,g;l.style.setProperty("--cvp-color-primary",((e,t,n)=>{n/=100;const r=t*Math.min(n,1-n)/100,i=t=>{const i=(t+e/30)%12,o=n-r*Math.max(Math.min(i-3,9-i,1),-1);return Math.round(255*o).toString(16).padStart(2,"0")};return`#${i(0)}${i(8)}${i(4)}`})(h,100,50)),l.style.setProperty("--cvp-color-primary-hue",`${h}deg`),function(e,t){let n,r=!1;e.sort(((e,t)=>t.breakpoint-e.breakpoint)).forEach(((e,i,o)=>{const a=window.top.matchMedia(`(min-width: ${e.breakpoint}px)`),{breakpoint:s}=e;a.matches&&!r&&(t(e),n=s,r=!0),a.addEventListener("change",(r=>{if(r.matches)t(e),n=s;else{const e=o[i+1];s===n&&e&&(n=e.breakpoint,t(e))}}))}))}([{label:"xl",breakpoint:a},{label:"lg",breakpoint:o},{label:"md",breakpoint:i},{label:"sm",breakpoint:r}],(e=>{u.setAttribute("data-breakpoint",e.label),"sm"!==e.label&&"md"!==e.label||function(){const e=parent.document.getElementById("inline40_wrapper"),t=null==e?void 0:e.querySelector("iframe"),{width:n}=window.top.document.querySelector("body").getBoundingClientRect();t&&(t.style.width="100%",t.style.height=.8333333333333334*n+"px",e.style.width="100%",e.style.height=.8333333333333334*n+"px")}()})),function(t){let n=t.getAttribute("href"),r="_blank";const i=/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]imdb+)\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/.test(n),o=!(!i&&!n.startsWith("/"));let a=n.replace(/\/$/,"");e(s).isIMDbApp&&o&&i&&(a="imdb://"+a.split(".com")[1]);let c={};c.href=a,o?o&&(c.target="_top"):(c.target=r,c.rel="noopener noreferrer"),t.setAttribute("href",c.href),t.setAttribute("target",c.target),t.setAttribute("rel",c.rel)}(d);const _={onRequestPlay:()=>{u.hasAttribute("data-autoplay")&&u.toggleAttribute("data-autoplay",!1),v.enterFullScreen()},onRequestPause:()=>{u.hasAttribute("data-autoplay")&&(u.toggleAttribute("data-autoplay",!1),v.restart({userInitiated:!0}),v.enterFullScreen())},onRequestRestart:()=>{u.toggleAttribute("data-autoplay",!1),v.enterFullScreen()},onPlaybackStatusChange:e=>{const t=u.hasAttribute("data-autoplay");if("playing"===e&&0===Math.floor(v.time))if(t)try{J.trackVideoPlaybackEvent("intro","start")}catch(e){console.log(e)}else try{J.trackVideoPlaybackEvent("trailer1","start")}catch(e){console.log(e)}if("completed"===e)try{J.trackVideoPlaybackEvent("trailer1","complete")}catch(e){console.log(e)}}},C={fullscreenButton:new I.VideoFullscreenButton(f,{}),slateButton:new T.VideoSlateButton(E,_)},M={onFullScreenStatusChange:e=>{"requested"===e&&v.unmute(),"normal"===e&&(c.classList.toggle("hidden",!1),v.mute(),v.reset({userInitiated:!0}))},onComplete:()=>{c.classList.toggle("hidden",!1),u.toggleAttribute("data-autoplay",!1),v.reset({userInitiated:!0})},onProgressChange:e=>{if(u.hasAttribute("data-autoplay")&&15===Math.floor(v.time)){c.classList.toggle("hidden",!1),u.toggleAttribute("data-autoplay",!1),v.reset({userInitiated:!0});try{J.trackVideoPlaybackEvent("intro","complete")}catch(e){console.log(e)}}},onMetaData:()=>{}};v=new R.Video({element:p,useMediaInterop:!(y()||!Ze),observer:M,inIframe:!0}),g=new Q.VideoPlayer(v,C),m&&(u.toggleAttribute("data-autoplay",!0),c.classList.toggle("hidden",!0),v.restart({userInitiated:!1}));d.addEventListener("click",(()=>{u.hasAttribute("data-autoplay")||setTimeout((()=>{v.pause({userInitiated:!0})}));try{J.trackPrimaryCTA(2)}catch(e){console.log(e)}}))}()}));
//# sourceMappingURL=index.eb00a9d1.js.map
