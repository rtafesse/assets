!function(o){var e={};function t(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return o[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=o,t.c=e,t.d=function(o,e,i){t.o(o,e)||Object.defineProperty(o,e,{enumerable:!0,get:i})},t.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},t.t=function(o,e){if(1&e&&(o=t(o)),8&e)return o;if(4&e&&"object"==typeof o&&o&&o.__esModule)return o;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:o}),2&e&&"string"!=typeof o)for(var n in o)t.d(i,n,function(e){return o[e]}.bind(null,n));return i},t.n=function(o){var e=o&&o.__esModule?function(){return o.default}:function(){return o};return t.d(e,"a",e),e},t.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)},t.p="",t(t.s=6)}([function(o,e){o.exports=function(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}},function(o,e){o.exports=function(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}},function(o,e){function t(o,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}o.exports=function(o,e,i){return e&&t(o.prototype,e),i&&t(o,i),o}},function(o,e){function t(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?o.exports=t=function(o){return typeof o}:o.exports=t=function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},t(e)}o.exports=t},function(module,exports,__webpack_require__){(function(global){!function(o,e,t){if("object"==typeof t&&"string"!=typeof t.nodeName)e(o,t);else{t={};var i=["1.3.2"];function n(o){for(var e in o)o.hasOwnProperty(e)&&(o[e]=n(o[e]));return Object.freeze(o)}for(var r in e(o,t),t)t.hasOwnProperty(r)&&(null==Object.getOwnPropertyDescriptor(o,r)&&Object.defineProperty(o,r,{value:{}}),i.forEach((function(e){if(null==Object.getOwnPropertyDescriptor(o[r],e)){var i=n(t[r]);Object.defineProperty(o[r],e,{get:function(){return i},enumerable:!0})}})))}}(void 0===global?this:global,(function(omidGlobal,omidExports){"use strict";var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.arrayIteratorImpl=function(o){var e=0;return function(){return e<o.length?{done:!1,value:o[e++]}:{done:!0}}},$jscomp.arrayIterator=function(o){return{next:$jscomp.arrayIteratorImpl(o)}},$jscomp.makeIterator=function(o){var e="undefined"!=typeof Symbol&&Symbol.iterator&&o[Symbol.iterator];return e?e.call(o):$jscomp.arrayIterator(o)},$jscomp.arrayFromIterator=function(o){for(var e,t=[];!(e=o.next()).done;)t.push(e.value);return t},$jscomp.arrayFromIterable=function(o){return o instanceof Array?o:$jscomp.arrayFromIterator($jscomp.makeIterator(o))},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(o){var e=function(){};return e.prototype=o,new e},$jscomp.underscoreProtoCanBeSet=function(){var o={};try{return o.__proto__={a:!0},o.a}catch(o){}return!1},$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(o,e){if(o.__proto__=e,o.__proto__!==e)throw new TypeError(o+" is not extensible");return o}:null,$jscomp.inherits=function(o,e){if(o.prototype=$jscomp.objectCreate(e.prototype),o.prototype.constructor=o,$jscomp.setPrototypeOf){var t=$jscomp.setPrototypeOf;t(o,e)}else for(t in e)if("prototype"!=t)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(e,t);i&&Object.defineProperty(o,t,i)}else o[t]=e[t];o.superClass_=e.prototype};var module$exports$omid$common$argsChecker={assertTruthyString:function(o,e){if(!e)throw Error("Value for "+o+" is undefined, null or blank.");if("string"!=typeof e&&!(e instanceof String))throw Error("Value for "+o+" is not a string.");if(""===e.trim())throw Error("Value for "+o+" is empty string.")},assertNotNullObject:function(o,e){if(null==e)throw Error("Value for "+o+" is undefined or null")},assertNumber:function(o,e){if(null==e)throw Error(o+" must not be null or undefined.");if("number"!=typeof e||isNaN(e))throw Error("Value for "+o+" is not a number")},assertNumberBetween:function(o,e,t,i){if((0,module$exports$omid$common$argsChecker.assertNumber)(o,e),e<t||e>i)throw Error("Value for "+o+" is outside the range ["+t+","+i+"]")},assertFunction:function(o,e){if(!e)throw Error(o+" must not be truthy.")},assertPositiveNumber:function(o,e){if((0,module$exports$omid$common$argsChecker.assertNumber)(o,e),0>e)throw Error(o+" must be a positive number.")}},module$exports$omid$common$VersionUtils={},module$contents$omid$common$VersionUtils_SEMVER_DIGITS_NUMBER=3;module$exports$omid$common$VersionUtils.isValidVersion=function(o){return/\d+\.\d+\.\d+(-.*)?/.test(o)},module$exports$omid$common$VersionUtils.versionGreaterOrEqual=function(o,e){o=o.split("-")[0].split("."),e=e.split("-")[0].split(".");for(var t=0;t<module$contents$omid$common$VersionUtils_SEMVER_DIGITS_NUMBER;t++){var i=parseInt(o[t],10),n=parseInt(e[t],10);if(i>n)break;if(i<n)return!1}return!0};var module$exports$omid$common$ArgsSerDe={},module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION="1.0.3";module$exports$omid$common$ArgsSerDe.serializeMessageArgs=function(o,e){return(0,module$exports$omid$common$VersionUtils.isValidVersion)(o)&&(0,module$exports$omid$common$VersionUtils.versionGreaterOrEqual)(o,module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION)?e:JSON.stringify(e)},module$exports$omid$common$ArgsSerDe.deserializeMessageArgs=function(o,e){return(0,module$exports$omid$common$VersionUtils.isValidVersion)(o)&&(0,module$exports$omid$common$VersionUtils.versionGreaterOrEqual)(o,module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION)?e||[]:e&&"string"==typeof e?JSON.parse(e):[]};var module$exports$omid$common$constants={AdEventType:{IMPRESSION:"impression",STATE_CHANGE:"stateChange",GEOMETRY_CHANGE:"geometryChange",SESSION_START:"sessionStart",SESSION_ERROR:"sessionError",SESSION_FINISH:"sessionFinish",MEDIA:"media",VIDEO:"video",LOADED:"loaded",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction"},MediaEventType:{LOADED:"loaded",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction"}};module$exports$omid$common$constants.VideoEventType=module$exports$omid$common$constants.MediaEventType,module$exports$omid$common$constants.ImpressionType={DEFINED_BY_JAVASCRIPT:"definedByJavaScript",UNSPECIFIED:"unspecified",LOADED:"loaded",BEGIN_TO_RENDER:"beginToRender",ONE_PIXEL:"onePixel",VIEWABLE:"viewable",AUDIBLE:"audible",OTHER:"other"},module$exports$omid$common$constants.ErrorType={GENERIC:"generic",VIDEO:"video",MEDIA:"media"},module$exports$omid$common$constants.AdSessionType={NATIVE:"native",HTML:"html",JAVASCRIPT:"javascript"},module$exports$omid$common$constants.EventOwner={NATIVE:"native",JAVASCRIPT:"javascript",NONE:"none"},module$exports$omid$common$constants.AccessMode={FULL:"full",LIMITED:"limited"},module$exports$omid$common$constants.AppState={BACKGROUNDED:"backgrounded",FOREGROUNDED:"foregrounded"},module$exports$omid$common$constants.Environment={APP:"app",WEB:"web"},module$exports$omid$common$constants.InteractionType={CLICK:"click",INVITATION_ACCEPT:"invitationAccept"},module$exports$omid$common$constants.CreativeType={DEFINED_BY_JAVASCRIPT:"definedByJavaScript",HTML_DISPLAY:"htmlDisplay",NATIVE_DISPLAY:"nativeDisplay",VIDEO:"video",AUDIO:"audio"},module$exports$omid$common$constants.MediaType={DISPLAY:"display",VIDEO:"video"},module$exports$omid$common$constants.Reason={NOT_FOUND:"notFound",HIDDEN:"hidden",BACKGROUNDED:"backgrounded",VIEWPORT:"viewport",OBSTRUCTED:"obstructed",CLIPPED:"clipped"},module$exports$omid$common$constants.SupportedFeatures={CONTAINER:"clid",VIDEO:"vlid"},module$exports$omid$common$constants.VideoPosition={PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll",STANDALONE:"standalone"},module$exports$omid$common$constants.VideoPlayerState={MINIMIZED:"minimized",COLLAPSED:"collapsed",NORMAL:"normal",EXPANDED:"expanded",FULLSCREEN:"fullscreen"},module$exports$omid$common$constants.NativeViewKeys={X:"x",LEFT:"left",Y:"y",TOP:"top",WIDTH:"width",HEIGHT:"height",AD_SESSION_ID:"adSessionId",IS_FRIENDLY_OBSTRUCTION_FOR:"isFriendlyObstructionFor",CLIPS_TO_BOUNDS:"clipsToBounds",CHILD_VIEWS:"childViews",END_X:"endX",END_Y:"endY",OBSTRUCTIONS:"obstructions",OBSTRUCTION_CLASS:"obstructionClass",OBSTRUCTION_PURPOSE:"obstructionPurpose",OBSTRUCTION_REASON:"obstructionReason",PIXELS:"pixels"},module$exports$omid$common$constants.MeasurementStateChangeSource={CONTAINER:"container",CREATIVE:"creative"},module$exports$omid$common$constants.ElementMarkup={OMID_ELEMENT_CLASS_NAME:"omid-element"},module$exports$omid$common$constants.CommunicationType={NONE:"NONE",DIRECT:"DIRECT",POST_MESSAGE:"POST_MESSAGE"},module$exports$omid$common$constants.OmidImplementer={OMSDK:"omsdk"};var module$contents$omid$common$InternalMessage_GUID_KEY="omid_message_guid",module$contents$omid$common$InternalMessage_METHOD_KEY="omid_message_method",module$contents$omid$common$InternalMessage_VERSION_KEY="omid_message_version",module$contents$omid$common$InternalMessage_ARGS_KEY="omid_message_args",module$exports$omid$common$InternalMessage=function(o,e,t,i){this.guid=o,this.method=e,this.version=t,this.args=i};module$exports$omid$common$InternalMessage.isValidSerializedMessage=function(o){return!!o&&void 0!==o[module$contents$omid$common$InternalMessage_GUID_KEY]&&void 0!==o[module$contents$omid$common$InternalMessage_METHOD_KEY]&&void 0!==o[module$contents$omid$common$InternalMessage_VERSION_KEY]&&"string"==typeof o[module$contents$omid$common$InternalMessage_GUID_KEY]&&"string"==typeof o[module$contents$omid$common$InternalMessage_METHOD_KEY]&&"string"==typeof o[module$contents$omid$common$InternalMessage_VERSION_KEY]&&(void 0===o[module$contents$omid$common$InternalMessage_ARGS_KEY]||void 0!==o[module$contents$omid$common$InternalMessage_ARGS_KEY])},module$exports$omid$common$InternalMessage.deserialize=function(o){return new module$exports$omid$common$InternalMessage(o[module$contents$omid$common$InternalMessage_GUID_KEY],o[module$contents$omid$common$InternalMessage_METHOD_KEY],o[module$contents$omid$common$InternalMessage_VERSION_KEY],o[module$contents$omid$common$InternalMessage_ARGS_KEY])},module$exports$omid$common$InternalMessage.prototype.serialize=function(){var o={};return o[module$contents$omid$common$InternalMessage_GUID_KEY]=this.guid,o[module$contents$omid$common$InternalMessage_METHOD_KEY]=this.method,o[module$contents$omid$common$InternalMessage_VERSION_KEY]=this.version,o=o,void 0!==this.args&&(o[module$contents$omid$common$InternalMessage_ARGS_KEY]=this.args),o};var module$exports$omid$common$Communication=function(o){this.to=o,this.communicationType_=module$exports$omid$common$constants.CommunicationType.NONE};module$exports$omid$common$Communication.prototype.sendMessage=function(o,e){},module$exports$omid$common$Communication.prototype.handleMessage=function(o,e){this.onMessage&&this.onMessage(o,e)},module$exports$omid$common$Communication.prototype.serialize=function(o){return JSON.stringify(o)},module$exports$omid$common$Communication.prototype.deserialize=function(o){return JSON.parse(o)},module$exports$omid$common$Communication.prototype.isDirectCommunication=function(){return this.communicationType_===module$exports$omid$common$constants.CommunicationType.DIRECT},module$exports$omid$common$Communication.prototype.isCrossOrigin=function(){};var module$exports$omid$common$DetectOmid={OMID_PRESENT_FRAME_NAME:"omid_v1_present",isOmidPresent:function(o){try{return!!o.frames&&!!o.frames[module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME]}catch(o){return!1}},declareOmidPresence:function(o){o.frames&&o.document&&(module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME in o.frames||(null==o.document.body&&module$exports$omid$common$DetectOmid.isMutationObserverAvailable_(o)?module$exports$omid$common$DetectOmid.registerMutationObserver_(o):o.document.body?module$exports$omid$common$DetectOmid.appendPresenceIframe_(o):o.document.write('<iframe style="display:none" id="'+module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME+'" name="'+module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME+'"></iframe>')))},appendPresenceIframe_:function(o){var e=o.document.createElement("iframe");e.id=module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME,e.name=module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME,e.style.display="none",o.document.body.appendChild(e)},isMutationObserverAvailable_:function(o){return"MutationObserver"in o},registerMutationObserver_:function(o){var e=new MutationObserver((function(t){t.forEach((function(t){"BODY"===t.addedNodes[0].nodeName&&(module$exports$omid$common$DetectOmid.appendPresenceIframe_(o),e.disconnect())}))}));e.observe(o.document.documentElement,{childList:!0})}},module$exports$omid$common$DirectCommunication=function(o){module$exports$omid$common$Communication.call(this,o),this.communicationType_=module$exports$omid$common$constants.CommunicationType.DIRECT,this.handleExportedMessage=module$exports$omid$common$DirectCommunication.prototype.handleExportedMessage.bind(this)};$jscomp.inherits(module$exports$omid$common$DirectCommunication,module$exports$omid$common$Communication),module$exports$omid$common$DirectCommunication.prototype.sendMessage=function(o,e){if(!(e=void 0===e?this.to:e))throw Error("Message destination must be defined at construction time or when sending the message.");e.handleExportedMessage(o.serialize(),this)},module$exports$omid$common$DirectCommunication.prototype.handleExportedMessage=function(o,e){module$exports$omid$common$InternalMessage.isValidSerializedMessage(o)&&this.handleMessage(module$exports$omid$common$InternalMessage.deserialize(o),e)},module$exports$omid$common$DirectCommunication.prototype.isCrossOrigin=function(){return!1};var module$exports$omid$common$eventTypedefs={},module$exports$omid$common$exporter={};function module$contents$omid$common$exporter_getOmidExports(){return void 0===omidExports?null:omidExports}function module$contents$omid$common$exporter_getOrCreateName(o,e){return o&&(o[e]||(o[e]={}))}module$exports$omid$common$exporter.packageExport=function(o,e,t){(t=void 0===t?module$contents$omid$common$exporter_getOmidExports():t)&&((o=o.split(".")).slice(0,o.length-1).reduce(module$contents$omid$common$exporter_getOrCreateName,t)[o[o.length-1]]=e)};var module$exports$omid$common$guid={generateGuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(o){var e=16*Math.random()|0;return o="y"===o?(3&e|8).toString(16):e.toString(16)}))}},module$exports$omid$common$logger={error:function(o){for(var e=[],t=0;t<arguments.length;++t)e[t-0]=arguments[t];module$contents$omid$common$logger_executeLog((function(){throw new(Function.prototype.bind.apply(Error,[null,"Could not complete the test successfully - "].concat($jscomp.arrayFromIterable(e))))}),(function(){return console.error.apply(console,$jscomp.arrayFromIterable(e))}))},debug:function(o){for(var e=[],t=0;t<arguments.length;++t)e[t-0]=arguments[t];module$contents$omid$common$logger_executeLog((function(){}),(function(){return console.error.apply(console,$jscomp.arrayFromIterable(e))}))}};function module$contents$omid$common$logger_executeLog(o,e){"undefined"!=typeof jasmine&&jasmine?o():"undefined"!=typeof console&&console&&console.error&&e()}var module$exports$omid$common$OmidGlobalProvider={},module$contents$omid$common$OmidGlobalProvider_globalThis=eval("this");function module$contents$omid$common$OmidGlobalProvider_getOmidGlobal(){if(void 0!==omidGlobal&&omidGlobal)return omidGlobal;if(void 0!==global&&global)return global;if("undefined"!=typeof window&&window)return window;if(void 0!==module$contents$omid$common$OmidGlobalProvider_globalThis&&module$contents$omid$common$OmidGlobalProvider_globalThis)return module$contents$omid$common$OmidGlobalProvider_globalThis;throw Error("Could not determine global object context.")}module$exports$omid$common$OmidGlobalProvider.omidGlobal=module$contents$omid$common$OmidGlobalProvider_getOmidGlobal();var module$exports$omid$common$windowUtils={};function module$contents$omid$common$windowUtils_isValidWindow(o){return null!=o&&void 0!==o.top&&null!=o.top}function module$contents$omid$common$windowUtils_isSameOriginForIE(o){return""===o.x||""!==o.x}module$exports$omid$common$windowUtils.isCrossOrigin=function(o){if(o===module$exports$omid$common$OmidGlobalProvider.omidGlobal)return!1;try{if(void 0===o.location.hostname)return!0;module$contents$omid$common$windowUtils_isSameOriginForIE(o)}catch(o){return!0}return!1},module$exports$omid$common$windowUtils.resolveGlobalContext=function(o){return void 0===o&&"undefined"!=typeof window&&window&&(o=window),module$contents$omid$common$windowUtils_isValidWindow(o)?o:module$exports$omid$common$OmidGlobalProvider.omidGlobal},module$exports$omid$common$windowUtils.resolveTopWindowContext=function(o){return module$contents$omid$common$windowUtils_isValidWindow(o)?o.top:module$exports$omid$common$OmidGlobalProvider.omidGlobal},module$exports$omid$common$windowUtils.evaluatePageUrl=function(o){if(!module$contents$omid$common$windowUtils_isValidWindow(o))return null;try{var e=o.top;return(0,module$exports$omid$common$windowUtils.isCrossOrigin)(e)?null:e.location.href}catch(o){return null}};var module$exports$omid$common$PostMessageCommunication=function(o,e){e=void 0===e?module$exports$omid$common$OmidGlobalProvider.omidGlobal:e,module$exports$omid$common$Communication.call(this,e);var t=this;this.communicationType_=module$exports$omid$common$constants.CommunicationType.POST_MESSAGE,o.addEventListener("message",(function(o){if("object"==typeof o.data){var e=o.data;module$exports$omid$common$InternalMessage.isValidSerializedMessage(e)&&(e=module$exports$omid$common$InternalMessage.deserialize(e),o.source&&t.handleMessage(e,o.source))}}))};$jscomp.inherits(module$exports$omid$common$PostMessageCommunication,module$exports$omid$common$Communication),module$exports$omid$common$PostMessageCommunication.isCompatibleContext=function(o){return!!(o&&o.addEventListener&&o.postMessage)},module$exports$omid$common$PostMessageCommunication.prototype.sendMessage=function(o,e){if(!(e=void 0===e?this.to:e))throw Error("Message destination must be defined at construction time or when sending the message.");e.postMessage(o.serialize(),"*")},module$exports$omid$common$PostMessageCommunication.prototype.isCrossOrigin=function(){return!this.to||(0,module$exports$omid$common$windowUtils.isCrossOrigin)(this.to)};var module$exports$omid$common$Rectangle=function(o,e,t,i){this.x=o,this.y=e,this.width=t,this.height=i},module$exports$omid$common$serviceCommunication={},module$contents$omid$common$serviceCommunication_EXPORTED_SESSION_COMMUNICATION_NAME=["omid","v1_SessionServiceCommunication"],module$contents$omid$common$serviceCommunication_EXPORTED_VERIFICATION_COMMUNICATION_NAME=["omid","v1_VerificationServiceCommunication"],module$contents$omid$common$serviceCommunication_EXPORTED_SERVICE_WINDOW_NAME=["omidVerificationProperties","serviceWindow"];function module$contents$omid$common$serviceCommunication_getValueForKeypath(o,e){return e.reduce((function(o,e){return o&&o[e]}),o)}function module$contents$omid$common$serviceCommunication_startServiceCommunication(o,e,t,i){if(!(0,module$exports$omid$common$windowUtils.isCrossOrigin)(e))try{var n=module$contents$omid$common$serviceCommunication_getValueForKeypath(e,t);if(n)return new module$exports$omid$common$DirectCommunication(n)}catch(o){}return i(e)?new module$exports$omid$common$PostMessageCommunication(o,e):null}function module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(o,e,t,i){for(var n=(e=$jscomp.makeIterator(e)).next();!n.done;n=e.next())if(n=module$contents$omid$common$serviceCommunication_startServiceCommunication(o,n.value,t,i))return n;return null}module$exports$omid$common$serviceCommunication.startSessionServiceCommunication=function(o,e,t){t=void 0===t?module$exports$omid$common$DetectOmid.isOmidPresent:t;var i=[o,(0,module$exports$omid$common$windowUtils.resolveTopWindowContext)(o)];return e&&i.unshift(e),module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(o,i,module$contents$omid$common$serviceCommunication_EXPORTED_SESSION_COMMUNICATION_NAME,t)},module$exports$omid$common$serviceCommunication.startVerificationServiceCommunication=function(o,e){e=void 0===e?module$exports$omid$common$DetectOmid.isOmidPresent:e;var t=[],i=module$contents$omid$common$serviceCommunication_getValueForKeypath(o,module$contents$omid$common$serviceCommunication_EXPORTED_SERVICE_WINDOW_NAME);return i&&t.push(i),t.push((0,module$exports$omid$common$windowUtils.resolveTopWindowContext)(o)),module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(o,t,module$contents$omid$common$serviceCommunication_EXPORTED_VERIFICATION_COMMUNICATION_NAME,e)};var module$exports$omid$common$VastProperties=function(o,e,t,i){this.isSkippable=o,this.skipOffset=e,this.isAutoPlay=t,this.position=i};module$exports$omid$common$VastProperties.prototype.toJSON=function(){return{isSkippable:this.isSkippable,skipOffset:this.skipOffset,isAutoPlay:this.isAutoPlay,position:this.position}};var module$exports$omid$common$version={ApiVersion:"1.0",Version:"1.3.2"},module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION=module$exports$omid$common$version.Version,module$contents$omid$verificationClient$VerificationClient_EventCallback;function module$contents$omid$verificationClient$VerificationClient_getThirdPartyOmid(){var o=module$exports$omid$common$OmidGlobalProvider.omidGlobal.omid3p;return o&&"function"==typeof o.registerSessionObserver&&"function"==typeof o.addEventListener?o:null}var module$exports$omid$verificationClient$VerificationClient=function(o){(this.communication=o||(0,module$exports$omid$common$serviceCommunication.startVerificationServiceCommunication)((0,module$exports$omid$common$windowUtils.resolveGlobalContext)()))?this.communication.onMessage=this.handleMessage_.bind(this):(o=module$contents$omid$verificationClient$VerificationClient_getThirdPartyOmid())&&(this.omid3p=o),this.remoteIntervals_=this.remoteTimeouts_=0,this.callbackMap_={},this.imgCache_=[],this.injectionId_=(o=module$exports$omid$common$OmidGlobalProvider.omidGlobal.omidVerificationProperties)?o.injectionId:void 0};module$exports$omid$verificationClient$VerificationClient.prototype.isSupported=function(){return!(!this.communication&&!this.omid3p)},module$exports$omid$verificationClient$VerificationClient.prototype.registerSessionObserver=function(o,e){(0,module$exports$omid$common$argsChecker.assertFunction)("functionToExecute",o),this.omid3p?this.omid3p.registerSessionObserver(o,e,this.injectionId_):this.sendMessage_("addSessionListener",o,e,this.injectionId_)},module$exports$omid$verificationClient$VerificationClient.prototype.addEventListener=function(o,e){(0,module$exports$omid$common$argsChecker.assertTruthyString)("eventType",o),(0,module$exports$omid$common$argsChecker.assertFunction)("functionToExecute",e),this.omid3p?this.omid3p.addEventListener(o,e):this.sendMessage_("addEventListener",e,o)},module$exports$omid$verificationClient$VerificationClient.prototype.sendUrl=function(o,e,t){(0,module$exports$omid$common$argsChecker.assertTruthyString)("url",o),module$exports$omid$common$OmidGlobalProvider.omidGlobal.document&&module$exports$omid$common$OmidGlobalProvider.omidGlobal.document.createElement?this.sendUrlWithImg_(o,e,t):this.sendMessage_("sendUrl",(function(o){o&&e?e():!o&&t&&t()}),o)},module$exports$omid$verificationClient$VerificationClient.prototype.sendUrlWithImg_=function(o,e,t){var i=this,n=module$exports$omid$common$OmidGlobalProvider.omidGlobal.document.createElement("img");this.imgCache_.push(n);var r=function(o){var e=i.imgCache_.indexOf(n);0<=e&&i.imgCache_.splice(e,1),o&&o()};n.addEventListener("load",r.bind(this,e)),n.addEventListener("error",r.bind(this,t)),n.src=o},module$exports$omid$verificationClient$VerificationClient.prototype.injectJavaScriptResource=function(o,e,t){var i=this;(0,module$exports$omid$common$argsChecker.assertTruthyString)("url",o),module$exports$omid$common$OmidGlobalProvider.omidGlobal.document?this.injectJavascriptResourceUrlInDom_(o,e,t):this.sendMessage_("injectJavaScriptResource",(function(n,r){n?(i.evaluateJavaScript_(r,o),e()):(module$exports$omid$common$logger.error("Service failed to load JavaScript resource."),t())}),o)},module$exports$omid$verificationClient$VerificationClient.prototype.injectJavascriptResourceUrlInDom_=function(o,e,t){var i=module$exports$omid$common$OmidGlobalProvider.omidGlobal.document,n=i.body;(i=i.createElement("script")).onload=e,i.onerror=t,i.src=o,i.type="application/javascript",n.appendChild(i)},module$exports$omid$verificationClient$VerificationClient.prototype.evaluateJavaScript_=function(a,b){try{eval(a)}catch(o){module$exports$omid$common$logger.error('Error evaluating the JavaScript resource from "'+b+'".')}},module$exports$omid$verificationClient$VerificationClient.prototype.setTimeout=function(o,e){if((0,module$exports$omid$common$argsChecker.assertFunction)("functionToExecute",o),(0,module$exports$omid$common$argsChecker.assertPositiveNumber)("timeInMillis",e),this.hasTimeoutMethods_())return module$exports$omid$common$OmidGlobalProvider.omidGlobal.setTimeout(o,e);var t=this.remoteTimeouts_++;return this.sendMessage_("setTimeout",o,t,e),t},module$exports$omid$verificationClient$VerificationClient.prototype.clearTimeout=function(o){(0,module$exports$omid$common$argsChecker.assertPositiveNumber)("timeoutId",o),this.hasTimeoutMethods_()?module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearTimeout(o):this.sendOneWayMessage_("clearTimeout",o)},module$exports$omid$verificationClient$VerificationClient.prototype.setInterval=function(o,e){if((0,module$exports$omid$common$argsChecker.assertFunction)("functionToExecute",o),(0,module$exports$omid$common$argsChecker.assertPositiveNumber)("timeInMillis",e),this.hasIntervalMethods_())return module$exports$omid$common$OmidGlobalProvider.omidGlobal.setInterval(o,e);var t=this.remoteIntervals_++;return this.sendMessage_("setInterval",o,t,e),t},module$exports$omid$verificationClient$VerificationClient.prototype.clearInterval=function(o){(0,module$exports$omid$common$argsChecker.assertPositiveNumber)("intervalId",o),this.hasIntervalMethods_()?module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearInterval(o):this.sendOneWayMessage_("clearInterval",o)},module$exports$omid$verificationClient$VerificationClient.prototype.hasTimeoutMethods_=function(){return"function"==typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.setTimeout&&"function"==typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearTimeout},module$exports$omid$verificationClient$VerificationClient.prototype.hasIntervalMethods_=function(){return"function"==typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.setInterval&&"function"==typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearInterval},module$exports$omid$verificationClient$VerificationClient.prototype.handleMessage_=function(o,e){e=o.method;var t=o.guid;if(o=o.args,"response"===e&&this.callbackMap_[t]){var i=(0,module$exports$omid$common$ArgsSerDe.deserializeMessageArgs)(module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION,o);this.callbackMap_[t].apply(this,i)}"error"===e&&window.console&&module$exports$omid$common$logger.error(o)},module$exports$omid$verificationClient$VerificationClient.prototype.sendOneWayMessage_=function(o,e){for(var t=[],i=1;i<arguments.length;++i)t[i-1]=arguments[i];this.sendMessage_.apply(this,[o,null].concat($jscomp.arrayFromIterable(t)))},module$exports$omid$verificationClient$VerificationClient.prototype.sendMessage_=function(o,e,t){for(var i=[],n=2;n<arguments.length;++n)i[n-2]=arguments[n];this.communication&&(n=(0,module$exports$omid$common$guid.generateGuid)(),e&&(this.callbackMap_[n]=e),i=new module$exports$omid$common$InternalMessage(n,"VerificationService."+o,module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION,(0,module$exports$omid$common$ArgsSerDe.serializeMessageArgs)(module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION,i)),this.communication.sendMessage(i))},(0,module$exports$omid$common$exporter.packageExport)("OmidVerificationClient",module$exports$omid$verificationClient$VerificationClient)}),exports)}).call(this,__webpack_require__(5))},function(o,e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(o){"object"==typeof window&&(t=window)}o.exports=t},function(o,e,t){"use strict";t.r(e);var i=t(3),n=t.n(i),r=t(1),m=t.n(r),s=t(2),a=t.n(s),c=t(0),l=t.n(c),d=Symbol("_omidAdapter"),u=Symbol("_reportError"),$=Symbol("_videoEventCallback"),p=Symbol("_impressionEventCallback"),f=Symbol("_geometryChangeEventCallback"),h=Symbol("_fractionInViewportOMSDK"),_=Symbol("_handlePauseResume"),v=Symbol("_handleVolumeChange"),y=Symbol("_handleStart"),b=Symbol("_viewabilityChangeEventCb"),E=Symbol("_setGroupmTimeCutOff"),S=Symbol("_isPlayerMute"),g=Symbol("_hasGeometryData"),x=Symbol("_isAutoPlay"),I=Symbol("_isMute"),C=Symbol("_adDuration"),O=Symbol("_isVideoOn"),T=Symbol("_atfPixelFired"),M=Symbol("_isGeometrySet"),w=function o(e,t){var i=this;m()(this,o),l()(this,"initViewCompOMSDK",(function(o,e,t,n,r){try{i[E]=r,i[b]=t,i[d].addEventListener("video",(function(o){return i[$](o)})),i[d].addEventListener("impression",(function(t){return i[p](t,o,e,n)}))}catch(o){i[u].reportClientError(o)}})),l()(this,"isAutoPlay",(function(){return i[x]})),l()(this,"isMute",(function(){return i[I]})),l()(this,"isVideoOn",(function(){return i[O]})),l()(this,"getAdDuration",(function(){return i[C]})),l()(this,_,(function(o){i[O]="resume"===o.type,i[b](o.type)})),l()(this,S,(function(o){return 0===o.data.deviceVolume||0===o.data.playerVolume})),l()(this,y,(function(o){i[O]=!0,i[C]=1e3*o.data.duration,i[I]=i[S](o),i[E](i[C])})),l()(this,v,(function(o){i[I]=i[S](o);var e=i[I]?"muteOn":"muteOff";i[b](e)})),l()(this,g,(function(o){return o&&o.data&&o.data.adView&&o.data.adView.geometry&&o.data.adView.geometry.width&&o.data.viewport})),l()(this,$,(function(o){try{"loaded"===o.type?i[x]=o.data.autoPlay:"start"===o.type?i[y](o):"pause"===o.type||"resume"===o.type?i[_](o):"volumeChange"===o.type?i[v](o):("skipped"===o.type||"complete"===o.type)&&i[b](o.type)}catch(o){i[u].reportClientError(o)}})),l()(this,h,(function(o,e,t,n){if(!i[M]&&i[g](o)&&(n(o.data),i[M]=!0),o&&o.data&&o.data.adView&&"number"==typeof o.data.adView.percentageInView){var r=o.data.adView.percentageInView/100;i[T]?t(r):(i[T]=!0,e(r))}})),l()(this,p,(function(o,e,t,n){try{i[d].addEventListener("geometryChange",(function(o){return i[f](o,e,t,n)})),i[h](o,e,t,n)}catch(o){i[u].reportClientError(o)}})),l()(this,f,(function(o,e,t,n){try{i[h](o,e,t,n)}catch(o){i[u].reportClientError(o)}})),this[d]=e,this[u]=t,this[x]=!1,this[I]=!1,this[O]=!1,this[C]=0,this[T]=!1,this[M]=!1},P=Symbol("_utils"),N=Symbol("_reportError"),A=Symbol("_pixelQueue"),D=Symbol("_pixelQueue"),V=Symbol("_checkAndReportDuration"),R=Symbol("_vd"),G=function o(e,t,i,n){var r=this;m()(this,o),l()(this,"visHandler",(function(){r[R].visible||(r[R].startTs=r[P].getTimeStamp(),r[R].latestTs=r[P].getTimeStamp(),r[R].setIntervalHandler=r[P].setInterval((function(){r[V]()}),1e3)),r[R].visible=!0})),l()(this,"invHandler",(function(){r[R].visible&&(r[R].totalDuration+=r[P].getTimeStamp()-r[R].latestTs,r[D].clearInterval(r[R].setIntervalHandler)),r[R].visible=!1})),l()(this,V,(function(){try{if(r[R].visible){for(var o=r[P].getTimeStamp()-r[R].startTs;r[R].pCount<r[R].pixelReportTime.length&&o>=r[R].pixelReportTime[r[R].pCount];)r[R].latestTs=r[P].getTimeStamp(),r[R].totalDuration+=o,r[A].addPixel({vdr:o.toFixed(2),tdr:r[R].totalDuration.toFixed(2)}),r[R].pCount+=1;r[R].pCount>=r[R].pixelReportTime.length&&r[D].clearInterval(r[R].setIntervalHandler)}}catch(o){r[N].reportClientError(o)}})),this[D]=e,this[P]=t,this[N]=i,this[A]=n,this[R]={startTs:0,latestTs:0,totalDuration:0,visible:!1,pixelReportTime:[2e3,4e3,8e3,16e3],setIntervalHandler:null,pCount:0}},U=Symbol("_videoViewability"),k=Symbol("_omidAdapter"),F=Symbol("_pixelQueue"),L=Symbol("_reportError"),j=Symbol("_viewDuration"),B=Symbol("_utils"),H=Symbol("_computeViewability"),K=Symbol("_fireBeacon"),Y=Symbol("_allViewBeaconsFired"),W=Symbol("_seenForTimeIab"),J=Symbol("_seenForTimeGroupm"),z=Symbol("_setGeometryDataOMSDK"),Q=Symbol("_checkAndStartIabTimer"),X=Symbol("_resetIabTimer"),q=Symbol("_checkAndStartGroupmTimer"),Z=Symbol("_resetGroupmTimer"),oo=Symbol("_setGroupmTimeCutOff"),eo=Symbol("_sendViewNot"),to=Symbol("_reportViewEvent"),io=Symbol("_viewabilityEventCb"),no=Symbol("_atfPixelFired"),ro=Symbol("_leftPos"),mo=Symbol("_topPos"),so=Symbol("_iabAreaCuttOff"),ao=Symbol("_groupmAreaCutOff"),co=Symbol("_iabTimeCutOff"),lo=Symbol("_groupmTimeCutOff"),uo=Symbol("_timerIab"),$o=Symbol("_timerStartedIab"),po=Symbol("_timerGroupm"),fo=Symbol("_timerStartedGroupm"),ho=Symbol("_beaconSent"),_o=Symbol("_adWidth"),vo=Symbol("_adHeight"),yo=Symbol("_winWidth"),bo=Symbol("_winHeight"),Eo=Symbol("_area"),So=Symbol("_isBenchmark"),go=Symbol("_maxTimeCutOffGroupm"),xo=function o(e,t,i,n){var r=this,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];m()(this,o),l()(this,Y,(function(){return r[ho].iab&&r[ho].groupm})),l()(this,W,(function(){r[ho].iab||r[Eo]>=r[so]&&(r[K]("viewable",{viewable:!0,defn:"iab",p:r[Eo],t:r[co]}),r[ho].iab=!0)})),l()(this,J,(function(){r[ho].groupm||r[Eo]>=r[ao]&&(r[K]("viewable",{viewable:!0,defn:"groupm",p:r[Eo],t:r[lo]}),r[ho].groupm=!0)})),l()(this,K,(function(o,e){var t,i;if(!("above_the_fold"===o&&r[ho].atf||"viewable"===o&&r[ho][e.defn]))try{var n={},m="",s="";switch(o){case"above_the_fold":r[ho].atf=!0,m=r[So]?"":"atf/",s=r[So]?"atf_ben":"atf",t={},l()(t,s,e.atf),l()(t,"ah",null!==r[vo]?r[vo]:"undefined"),l()(t,"aw",null!==r[_o]?r[_o]:"undefined"),l()(t,"wh",null!==r[bo]?r[bo]:"undefined"),l()(t,"ww",null!==r[yo]?r[yo]:"undefined"),l()(t,"left",null!==r[ro]?r[ro]:"undefined"),l()(t,"top",null!==r[mo]?r[mo]:"undefined"),l()(t,"ts",(new Date).getTime()),n=t,r[F].firePixel(n,m);break;case"viewable":m=r[So]?"":"v/",s=r[So]?"v_ben":"v",i={},l()(i,s,{p:"".concat(e.p),t:"".concat(e.t),def:"".concat(e.defn)}),l()(i,"ah",null!==r[vo]?r[vo]:"undefined"),l()(i,"aw",null!==r[_o]?r[_o]:"undefined"),l()(i,"wh",null!==r[bo]?r[bo]:"undefined"),l()(i,"ww",null!==r[yo]?r[yo]:"undefined"),l()(i,"left",null!==r[ro]?r[ro]:"undefined"),l()(i,"top",null!==r[mo]?r[mo]:"undefined"),l()(i,"ts",(new Date).getTime()),n=i,r[F].firePixel(n,m);break;default:n={}}}catch(o){r[L].reportClientError(o)}})),l()(this,z,(function(o){try{r[ro]=o.adView.geometry.x,r[mo]=o.adView.geometry.y,r[_o]=o.adView.geometry.width,r[vo]=o.adView.geometry.height,r[bo]=o.viewport.height,r[yo]=o.viewport.width}catch(o){r[L].reportClientError(o)}})),l()(this,oo,(function(o){r[lo]=Math.min(r[go],o/2)})),l()(this,eo,(function(o){r[So]||(o?r[j].visHandler():r[j].invHandler())})),l()(this,to,(function(o){o>r[so]?r[eo](!0):r[eo](!1)})),l()(this,H,(function(o){var e=function(){!r[$o]&&r[U].isVideoOn()&&r[Eo]>r[so]&&(!1===r[ho].iab&&(r[uo]&&r[k].clearTimeout(r[uo]),r[uo]=r[B].setTimeout((function(){r[W]()}),r[co])),r[$o]=!0)};r[Q]=e;var t=function(){r[uo]&&(r[k].clearTimeout(r[uo]),r[$o]=!1)};r[X]=t;var i=function(){if(!r[fo]&&r[U].isVideoOn()&&!r[U].isMute()&&!r[U].isAutoPlay()&&r[Eo]>r[ao]&&r[lo])try{!1===r[ho].groupm&&(r[po]&&r[k].clearTimeout(r[po]),r[po]=r[B].setTimeout((function(){r[J]()}),r[lo])),r[fo]=!0}catch(o){r[L].reportClientError(o)}};r[q]=i;var n=function(){r[po]&&(r[k].clearTimeout(r[po]),r[fo]=!1)};r[Z]=n;o&&(r[B].startLatencyForParam("atfComp"),r[U]=new w(r[k],r[L]),r[U].initViewCompOMSDK((function(o){try{var t;r[Eo]=o,t=r[Eo]>r[so],r[Eo]>r[ao]&&i(),r[Eo]>r[so]&&e(),r[B].endLatencyForParam("atfComp"),r[K]("above_the_fold",{atf:t}),r[to](o)}catch(o){r[L].reportClientError(o)}}),(function(o){try{if(r[Eo]=o,r[to](o),r[ho].iab&&r[ho].groupm)return;o>=r[so]&&!r[$o]?e():o<r[so]&&r[$o]&&t(),o>=r[ao]&&!r[fo]?i():o<=r[ao]&&r[fo]&&n()}catch(o){r[L].reportClientError(o)}}),r[io],r[z],r[oo]))})),l()(this,io,(function(o){"resume"===o?(r[Q](),r[q]()):"pause"===o?(r[X](),r[Z]()):"muteOn"===o?r[Z]():"muteOff"===o?r[q]():"skipped"!==o&&"complete"!==o||(r[X](),r[Z](),r[eo](!1))})),l()(this,"collectData",(function(){r[no]=!0,r[H](!0)})),this[k]=e,this[F]=t,this[L]=i,this[B]=n,this[j]=new G(e,n,i,t),this[so]=.5,this[ao]=.9,this[co]=2e3,this[lo]=null,this[go]=15e3,this[uo]=!1,this[$o]=!1,this[po]=!1,this[fo]=!1,this[ho]={atf:!1,iab:!1,groupm:!1},this[ro]=null,this[mo]=null,this[_o]=null,this[vo]=null,this[bo]=null,this[yo]=null,this[Eo]=null,this[So]=s},Io=Symbol("_instrUrl"),Co=Symbol("_pixelQueue"),Oo=Symbol("_omidAdapter"),To=Symbol("_sanitizeInstrUrl"),Mo=Symbol("_getUrlCacheBuster"),wo=Symbol("_flushQueue"),Po=Symbol("_pixelId"),No=Symbol("_timerId"),Ao=function(){function o(e,t){m()(this,o),this[Oo]=t,this[Io]=this[To](e),this[Po]=Math.random().toString(36).substr(2),this[Co]=[],this[No]=null}return a()(o,[{key:"firePixel",value:function(o){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!o||0===Object.keys(o).length)throw new Error("No payload to send");void 0===o.pixelId&&(o.pixelId=this[Po]);var t=this[Io]+e+JSON.stringify(o)+this[Mo]();this[Oo].sendUrl(t)}},{key:"addPixel",value:function(o){var e=this;if(!o||0===Object.keys(o).length)throw new Error("No payload to send");var t=function(){e[Co].length>0&&(e.firePixel({adCsm:e[Co]}),e[wo](),e[Oo].clearTimeout(e[No]))};0===this[Co].length&&(this[No]=this[Oo].setTimeout(t,2500)),this[Co].push(o),this[Co].length>=4&&t()}},{key:To,value:function(o){var e=o;return e&&(!0===/^http:\/\//.test(e)&&(e=e.replace("http://","https://")),e="/"===e[e.length-1]?e:"".concat(e,"/")),e}},{key:Mo,value:function(){var o=Math.round(1e7*Math.random());return"?cb=".concat(o)}},{key:wo,value:function(){this[Co]=[]}},{key:"pixelId",get:function(){return this[Po]}}]),o}(),Do=Symbol("_pixelQueue"),Vo=Symbol("_errorMessages"),Ro=Symbol("_constructErrorMessage"),Go=Symbol("_getErrorMessage"),Uo=Symbol("_get"),ko=Symbol("_sanitizeStackFrame"),Fo=function(){function o(e){m()(this,o),this[Do]=e,this[Vo]=[]}return a()(o,[{key:ko,value:function(o){return o?o.replace(/^\s+|\s+$/g,""):o}},{key:Ro,value:function(o,e){if(e=e||{},!o)return{};o.m&&o.m.message&&(o=o.m);var t,i,n,r,m={m:this[Go](o,e),c:o.c?"".concat(o.c):o.c,s:[],l:o.l||o.line||o.lineno||o.lineNumber,name:o.name,type:o.type},s=0,a=0,c=o.stack||(o.err?o.err.stack:"");if(c&&c.split)for(t=c.split("\n");s<t.length&&m.s.length<20;)i=t[s],s+=1,i&&m.s.unshift(this[ko](i));else for(n=this[Uo](o.args||arguments,"callee"),s=0,a=0;n&&s<20;)r=256,n.skipTrace||(i=n.toString())&&i.substr&&(r=0===a?1024:r,r=1===a?512:r,m.s.unshift(i.substr(0,r)),a+=1),n=this[Uo](n,"caller"),s+=1;return m}},{key:Go,value:function(o,e){var t=e.m||e.message||"";return o.m&&o.m.message?t+=o.m.message:o.m&&o.m.target&&o.m.target.tagName?t+="Error handler invoked by ".concat(o.m.target.tagName," tag"):o.m?t+=o.m:o.message?t+=o.message:t+="Unknown error",t}},{key:Uo,value:function(o,e){try{return o[e]}catch(o){return""}}},{key:"reportClientError",value:function(o){var e=this[Ro](o),t={adViewability:[{error:e}],c:"viewability",api:"MAPPVDO",error:1};-1===this[Vo].indexOf(e)&&(this[Vo].push(e),this[Do].firePixel(t))}}]),o}(),Lo=Symbol("_omidAdapter"),jo=Symbol("_latencyMap"),Bo=Symbol("_getLatency"),Ho=Symbol("_reportError"),Ko=Symbol("_adID"),Yo=Symbol("_isWinPerf"),Wo=Symbol("_isDte"),Jo=function o(e,t,i){var n=this;m()(this,o),l()(this,"checkWinPerfAPI",(function(){return"undefined"!=typeof window&&window.performance&&window.performance.mark&&"function"==typeof window.performance.mark})),l()(this,"checkDateFunction",(function(){return"function"==typeof Date})),l()(this,"startLatencyForParam",(function(o){try{n[Yo]?window.performance.mark("".concat(o,"Start").concat(n[Ko])):void 0===n[jo].get("".concat(o,"Start").concat(n[Ko]))&&n[jo].set("".concat(o,"Start").concat(n[Ko]),n.getTimeStamp())}catch(o){n[Ho].reportClientError(o)}})),l()(this,"endLatencyForParam",(function(o){n[Yo]?(window.performance.mark("".concat(o,"End").concat(n[Ko])),0!==window.performance.getEntriesByName("".concat(o,"Start").concat(n[Ko])).length&&window.performance.measure("".concat(o).concat(n[Ko]),"".concat(o,"Start").concat(n[Ko]),"".concat(o,"End").concat(n[Ko]))):void 0!==n[jo].get("".concat(o,"Start").concat(n[Ko]))&&(n[jo].set("".concat(o,"End").concat(n[Ko]),n.getTimeStamp()),n.latencyMeasureQueue.push({name:"".concat(o).concat(n[Ko]),duration:n[Bo](o)}))})),l()(this,"getTimeStamp",(function(){return n[Yo]?performance.now():n[Wo]?Date.now():void 0})),l()(this,Bo,(function(o){return n[jo].get("".concat(o,"End").concat(n[Ko]))-n[jo].get("".concat(o,"Start").concat(n[Ko]))})),l()(this,"setTimeout",(function(o,e){return n[Lo].setTimeout((function(){try{o()}catch(o){n[Ho].reportClientError(o)}}),e)})),l()(this,"setInterval",(function(o,e){return n[Lo].setInterval((function(){try{o()}catch(o){n[Ho].reportClientError(o)}}),e)})),this[Lo]=e,this[jo]=new Map,this[Ho]=t,this[Yo]=this.checkWinPerfAPI(),this[Wo]=this.checkDateFunction(),this.latencyMeasureQueue=[],this[Ko]=i},zo=t(4),Qo=Symbol("_pixelQueue"),Xo=Symbol("_utils"),qo=Symbol("_reportError"),Zo=Symbol("_omidAdapter"),oe=Symbol("_adID"),ee=Symbol("_reportPerfMetrics"),te=Symbol("_startViewComp"),ie=Symbol("_sessionObsCallback"),ne=Symbol("_setup"),re=Symbol("_reportOMSupport");(new(function(){function o(){var e=this;m()(this,o),l()(this,ee,(function(){var o=null,t={mtd:null};e[Xo].checkWinPerfAPI()?(o=window.performance.getEntriesByType("measure"),t.mtd="win"):(o=e[Xo].latencyMeasureQueue,t.mtd="prim");for(var i=0;i<o.length;i+=1){var n=o[i];if(n.name.endsWith(e[oe]))t[n.name.substring(0,n.name.length-e[oe].length)]=n.duration.toFixed(2)}Object.keys(t).length>1&&e[Qo].addPixel(t)})),l()(this,ie,(function(o){if("sessionStart"===o.type&&o.data&&"object"===n()(o.data)&&o.data.verificationParameters){var t=JSON.parse(o.data.verificationParameters);if(!t.vuInstr)return;e[ne](t.vuInstr,o.data)}})),l()(this,ne,(function(o){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{e[Qo]=new Ao(o,e[Zo]),e[qo]=new Fo(e[Qo]),e[oe]=Math.round(1e7*Math.random()).toString(),e[Xo]=new Jo(e[Zo],e[qo],e[oe]),e[re](t),e[te]()}catch(o){e[qo].reportClientError(o)}})),l()(this,re,(function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={},i=null,n=null;o&&o.context&&(i=o.context.omidJsInfo,n=o.context.omidNativeInfo),t={om:!0,omidJsInfo:i,omidNativeInfo:n},e[Qo].firePixel({adCsm:[t]})})),l()(this,te,(function(){e[Xo].startLatencyForParam("csm");new xo(e[Zo],e[Qo],e[qo],e[Xo],!0).collectData(),e[Xo].endLatencyForParam("csm"),e[ee]()})),this[Zo]=new zo.OmidVerificationClient}return a()(o,[{key:"init",value:function(){var o=this;try{this[Zo].registerSessionObserver((function(e){return o[ie](e)}),"amazon.com-omid")}catch(o){}}}]),o}())).init()}]);