/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/@babel/runtime/helpers/classCallCheck.js":
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/classCallCheck.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\n\n//# sourceURL=webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/createClass.js":
/*!************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/createClass.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\n\n//# sourceURL=webpack:///./node_modules/@babel/runtime/helpers/createClass.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/defineProperty.js":
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/defineProperty.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\n\n//# sourceURL=webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/typeof.js":
/*!*******************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/typeof.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\n\n//# sourceURL=webpack:///./node_modules/@babel/runtime/helpers/typeof.js?");

/***/ }),

/***/ "./node_modules/open-measurement-jsclients/bin/omid-verification-client-v1.js":
/*!************************************************************************************!*\
  !*** ./node_modules/open-measurement-jsclients/bin/omid-verification-client-v1.js ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global) {;(function(omidGlobal, factory, exports) {\n  // CommonJS support\n  if (typeof exports === 'object' && typeof exports.nodeName !== 'string') {\n    factory(omidGlobal, exports);\n\n  // If neither AMD nor CommonJS are used, export to a versioned name in the\n  // global context.\n  } else {\n    var exports = {};\n    var versions = ['1.3.2'];\n    var additionalVersionString = '';\n    if (!!additionalVersionString) {\n       versions.push(additionalVersionString);\n    }\n\n    factory(omidGlobal, exports);\n\n    function deepFreeze(object) {\n      for (var key in object) {\n        if (object.hasOwnProperty(key)) {\n          object[key] = deepFreeze(object[key]);\n        }\n      }\n      return Object.freeze(object);\n    }\n\n    // Inject and freeze the exported components of omid.\n    for (var key in exports) {\n      if (exports.hasOwnProperty(key)) {\n        if (Object.getOwnPropertyDescriptor(omidGlobal, key) == null) {\n          // Define the top level property in the global scope\n          Object.defineProperty(omidGlobal, key, {\n            value: {},\n          });\n        }\n        versions.forEach(function(version) {\n          if (Object.getOwnPropertyDescriptor(omidGlobal[key], version) == null) {\n            var frozenObject = deepFreeze(exports[key]);\n            // Define the object exports keyed-off versions\n            Object.defineProperty(omidGlobal[key], version, {\n              get: function () {\n                return frozenObject;\n              },\n              enumerable: true,\n            });\n          }\n        });\n      }\n    }\n  }\n}(typeof global === 'undefined' ? this : global, function(omidGlobal, omidExports) {\n  'use strict';\nvar $jscomp = $jscomp || {};\n$jscomp.scope = {};\n$jscomp.arrayIteratorImpl = function(a) {\n  var b = 0;\n  return function() {\n    return b < a.length ? {done:!1, value:a[b++]} : {done:!0};\n  };\n};\n$jscomp.arrayIterator = function(a) {\n  return {next:$jscomp.arrayIteratorImpl(a)};\n};\n$jscomp.makeIterator = function(a) {\n  var b = \"undefined\" != typeof Symbol && Symbol.iterator && a[Symbol.iterator];\n  return b ? b.call(a) : $jscomp.arrayIterator(a);\n};\n$jscomp.arrayFromIterator = function(a) {\n  for (var b, c = []; !(b = a.next()).done;) {\n    c.push(b.value);\n  }\n  return c;\n};\n$jscomp.arrayFromIterable = function(a) {\n  return a instanceof Array ? a : $jscomp.arrayFromIterator($jscomp.makeIterator(a));\n};\n$jscomp.ASSUME_ES5 = !1;\n$jscomp.ASSUME_NO_NATIVE_MAP = !1;\n$jscomp.ASSUME_NO_NATIVE_SET = !1;\n$jscomp.SIMPLE_FROUND_POLYFILL = !1;\n$jscomp.objectCreate = $jscomp.ASSUME_ES5 || \"function\" == typeof Object.create ? Object.create : function(a) {\n  var b = function() {\n  };\n  b.prototype = a;\n  return new b;\n};\n$jscomp.underscoreProtoCanBeSet = function() {\n  var a = {a:!0}, b = {};\n  try {\n    return b.__proto__ = a, b.a;\n  } catch (c) {\n  }\n  return !1;\n};\n$jscomp.setPrototypeOf = \"function\" == typeof Object.setPrototypeOf ? Object.setPrototypeOf : $jscomp.underscoreProtoCanBeSet() ? function(a, b) {\n  a.__proto__ = b;\n  if (a.__proto__ !== b) {\n    throw new TypeError(a + \" is not extensible\");\n  }\n  return a;\n} : null;\n$jscomp.inherits = function(a, b) {\n  a.prototype = $jscomp.objectCreate(b.prototype);\n  a.prototype.constructor = a;\n  if ($jscomp.setPrototypeOf) {\n    var c = $jscomp.setPrototypeOf;\n    c(a, b);\n  } else {\n    for (c in b) {\n      if (\"prototype\" != c) {\n        if (Object.defineProperties) {\n          var d = Object.getOwnPropertyDescriptor(b, c);\n          d && Object.defineProperty(a, c, d);\n        } else {\n          a[c] = b[c];\n        }\n      }\n    }\n  }\n  a.superClass_ = b.prototype;\n};\nvar module$exports$omid$common$argsChecker = {assertTruthyString:function(a, b) {\n  if (!b) {\n    throw Error(\"Value for \" + a + \" is undefined, null or blank.\");\n  }\n  if (\"string\" !== typeof b && !(b instanceof String)) {\n    throw Error(\"Value for \" + a + \" is not a string.\");\n  }\n  if (\"\" === b.trim()) {\n    throw Error(\"Value for \" + a + \" is empty string.\");\n  }\n}, assertNotNullObject:function(a, b) {\n  if (null == b) {\n    throw Error(\"Value for \" + a + \" is undefined or null\");\n  }\n}, assertNumber:function(a, b) {\n  if (null == b) {\n    throw Error(a + \" must not be null or undefined.\");\n  }\n  if (\"number\" !== typeof b || isNaN(b)) {\n    throw Error(\"Value for \" + a + \" is not a number\");\n  }\n}, assertNumberBetween:function(a, b, c, d) {\n  (0,module$exports$omid$common$argsChecker.assertNumber)(a, b);\n  if (b < c || b > d) {\n    throw Error(\"Value for \" + a + \" is outside the range [\" + c + \",\" + d + \"]\");\n  }\n}, assertFunction:function(a, b) {\n  if (!b) {\n    throw Error(a + \" must not be truthy.\");\n  }\n}, assertPositiveNumber:function(a, b) {\n  (0,module$exports$omid$common$argsChecker.assertNumber)(a, b);\n  if (0 > b) {\n    throw Error(a + \" must be a positive number.\");\n  }\n}};\nvar module$exports$omid$common$VersionUtils = {}, module$contents$omid$common$VersionUtils_SEMVER_DIGITS_NUMBER = 3;\nmodule$exports$omid$common$VersionUtils.isValidVersion = function(a) {\n  return /\\d+\\.\\d+\\.\\d+(-.*)?/.test(a);\n};\nmodule$exports$omid$common$VersionUtils.versionGreaterOrEqual = function(a, b) {\n  a = a.split(\"-\")[0].split(\".\");\n  b = b.split(\"-\")[0].split(\".\");\n  for (var c = 0; c < module$contents$omid$common$VersionUtils_SEMVER_DIGITS_NUMBER; c++) {\n    var d = parseInt(a[c], 10), e = parseInt(b[c], 10);\n    if (d > e) {\n      break;\n    } else {\n      if (d < e) {\n        return !1;\n      }\n    }\n  }\n  return !0;\n};\nvar module$exports$omid$common$ArgsSerDe = {}, module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION = \"1.0.3\";\nmodule$exports$omid$common$ArgsSerDe.serializeMessageArgs = function(a, b) {\n  return (0,module$exports$omid$common$VersionUtils.isValidVersion)(a) && (0,module$exports$omid$common$VersionUtils.versionGreaterOrEqual)(a, module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION) ? b : JSON.stringify(b);\n};\nmodule$exports$omid$common$ArgsSerDe.deserializeMessageArgs = function(a, b) {\n  return (0,module$exports$omid$common$VersionUtils.isValidVersion)(a) && (0,module$exports$omid$common$VersionUtils.versionGreaterOrEqual)(a, module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION) ? b ? b : [] : b && \"string\" === typeof b ? JSON.parse(b) : [];\n};\nvar module$exports$omid$common$constants = {AdEventType:{IMPRESSION:\"impression\", STATE_CHANGE:\"stateChange\", GEOMETRY_CHANGE:\"geometryChange\", SESSION_START:\"sessionStart\", SESSION_ERROR:\"sessionError\", SESSION_FINISH:\"sessionFinish\", MEDIA:\"media\", VIDEO:\"video\", LOADED:\"loaded\", START:\"start\", FIRST_QUARTILE:\"firstQuartile\", MIDPOINT:\"midpoint\", THIRD_QUARTILE:\"thirdQuartile\", COMPLETE:\"complete\", PAUSE:\"pause\", RESUME:\"resume\", BUFFER_START:\"bufferStart\", BUFFER_FINISH:\"bufferFinish\", SKIPPED:\"skipped\", \nVOLUME_CHANGE:\"volumeChange\", PLAYER_STATE_CHANGE:\"playerStateChange\", AD_USER_INTERACTION:\"adUserInteraction\"}, MediaEventType:{LOADED:\"loaded\", START:\"start\", FIRST_QUARTILE:\"firstQuartile\", MIDPOINT:\"midpoint\", THIRD_QUARTILE:\"thirdQuartile\", COMPLETE:\"complete\", PAUSE:\"pause\", RESUME:\"resume\", BUFFER_START:\"bufferStart\", BUFFER_FINISH:\"bufferFinish\", SKIPPED:\"skipped\", VOLUME_CHANGE:\"volumeChange\", PLAYER_STATE_CHANGE:\"playerStateChange\", AD_USER_INTERACTION:\"adUserInteraction\"}};\nmodule$exports$omid$common$constants.VideoEventType = module$exports$omid$common$constants.MediaEventType;\nmodule$exports$omid$common$constants.ImpressionType = {DEFINED_BY_JAVASCRIPT:\"definedByJavaScript\", UNSPECIFIED:\"unspecified\", LOADED:\"loaded\", BEGIN_TO_RENDER:\"beginToRender\", ONE_PIXEL:\"onePixel\", VIEWABLE:\"viewable\", AUDIBLE:\"audible\", OTHER:\"other\"};\nmodule$exports$omid$common$constants.ErrorType = {GENERIC:\"generic\", VIDEO:\"video\", MEDIA:\"media\"};\nmodule$exports$omid$common$constants.AdSessionType = {NATIVE:\"native\", HTML:\"html\", JAVASCRIPT:\"javascript\"};\nmodule$exports$omid$common$constants.EventOwner = {NATIVE:\"native\", JAVASCRIPT:\"javascript\", NONE:\"none\"};\nmodule$exports$omid$common$constants.AccessMode = {FULL:\"full\", LIMITED:\"limited\"};\nmodule$exports$omid$common$constants.AppState = {BACKGROUNDED:\"backgrounded\", FOREGROUNDED:\"foregrounded\"};\nmodule$exports$omid$common$constants.Environment = {APP:\"app\", WEB:\"web\"};\nmodule$exports$omid$common$constants.InteractionType = {CLICK:\"click\", INVITATION_ACCEPT:\"invitationAccept\"};\nmodule$exports$omid$common$constants.CreativeType = {DEFINED_BY_JAVASCRIPT:\"definedByJavaScript\", HTML_DISPLAY:\"htmlDisplay\", NATIVE_DISPLAY:\"nativeDisplay\", VIDEO:\"video\", AUDIO:\"audio\"};\nmodule$exports$omid$common$constants.MediaType = {DISPLAY:\"display\", VIDEO:\"video\"};\nmodule$exports$omid$common$constants.Reason = {NOT_FOUND:\"notFound\", HIDDEN:\"hidden\", BACKGROUNDED:\"backgrounded\", VIEWPORT:\"viewport\", OBSTRUCTED:\"obstructed\", CLIPPED:\"clipped\"};\nmodule$exports$omid$common$constants.SupportedFeatures = {CONTAINER:\"clid\", VIDEO:\"vlid\"};\nmodule$exports$omid$common$constants.VideoPosition = {PREROLL:\"preroll\", MIDROLL:\"midroll\", POSTROLL:\"postroll\", STANDALONE:\"standalone\"};\nmodule$exports$omid$common$constants.VideoPlayerState = {MINIMIZED:\"minimized\", COLLAPSED:\"collapsed\", NORMAL:\"normal\", EXPANDED:\"expanded\", FULLSCREEN:\"fullscreen\"};\nmodule$exports$omid$common$constants.NativeViewKeys = {X:\"x\", LEFT:\"left\", Y:\"y\", TOP:\"top\", WIDTH:\"width\", HEIGHT:\"height\", AD_SESSION_ID:\"adSessionId\", IS_FRIENDLY_OBSTRUCTION_FOR:\"isFriendlyObstructionFor\", CLIPS_TO_BOUNDS:\"clipsToBounds\", CHILD_VIEWS:\"childViews\", END_X:\"endX\", END_Y:\"endY\", OBSTRUCTIONS:\"obstructions\", OBSTRUCTION_CLASS:\"obstructionClass\", OBSTRUCTION_PURPOSE:\"obstructionPurpose\", OBSTRUCTION_REASON:\"obstructionReason\", PIXELS:\"pixels\"};\nmodule$exports$omid$common$constants.MeasurementStateChangeSource = {CONTAINER:\"container\", CREATIVE:\"creative\"};\nmodule$exports$omid$common$constants.ElementMarkup = {OMID_ELEMENT_CLASS_NAME:\"omid-element\"};\nmodule$exports$omid$common$constants.CommunicationType = {NONE:\"NONE\", DIRECT:\"DIRECT\", POST_MESSAGE:\"POST_MESSAGE\"};\nmodule$exports$omid$common$constants.OmidImplementer = {OMSDK:\"omsdk\"};\nvar module$contents$omid$common$InternalMessage_GUID_KEY = \"omid_message_guid\", module$contents$omid$common$InternalMessage_METHOD_KEY = \"omid_message_method\", module$contents$omid$common$InternalMessage_VERSION_KEY = \"omid_message_version\", module$contents$omid$common$InternalMessage_ARGS_KEY = \"omid_message_args\", module$exports$omid$common$InternalMessage = function(a, b, c, d) {\n  this.guid = a;\n  this.method = b;\n  this.version = c;\n  this.args = d;\n};\nmodule$exports$omid$common$InternalMessage.isValidSerializedMessage = function(a) {\n  return !!a && void 0 !== a[module$contents$omid$common$InternalMessage_GUID_KEY] && void 0 !== a[module$contents$omid$common$InternalMessage_METHOD_KEY] && void 0 !== a[module$contents$omid$common$InternalMessage_VERSION_KEY] && \"string\" === typeof a[module$contents$omid$common$InternalMessage_GUID_KEY] && \"string\" === typeof a[module$contents$omid$common$InternalMessage_METHOD_KEY] && \"string\" === typeof a[module$contents$omid$common$InternalMessage_VERSION_KEY] && (void 0 === a[module$contents$omid$common$InternalMessage_ARGS_KEY] || \n  void 0 !== a[module$contents$omid$common$InternalMessage_ARGS_KEY]);\n};\nmodule$exports$omid$common$InternalMessage.deserialize = function(a) {\n  return new module$exports$omid$common$InternalMessage(a[module$contents$omid$common$InternalMessage_GUID_KEY], a[module$contents$omid$common$InternalMessage_METHOD_KEY], a[module$contents$omid$common$InternalMessage_VERSION_KEY], a[module$contents$omid$common$InternalMessage_ARGS_KEY]);\n};\nmodule$exports$omid$common$InternalMessage.prototype.serialize = function() {\n  var a = {};\n  a = (a[module$contents$omid$common$InternalMessage_GUID_KEY] = this.guid, a[module$contents$omid$common$InternalMessage_METHOD_KEY] = this.method, a[module$contents$omid$common$InternalMessage_VERSION_KEY] = this.version, a);\n  void 0 !== this.args && (a[module$contents$omid$common$InternalMessage_ARGS_KEY] = this.args);\n  return a;\n};\nvar module$exports$omid$common$Communication = function(a) {\n  this.to = a;\n  this.communicationType_ = module$exports$omid$common$constants.CommunicationType.NONE;\n};\nmodule$exports$omid$common$Communication.prototype.sendMessage = function(a, b) {\n};\nmodule$exports$omid$common$Communication.prototype.handleMessage = function(a, b) {\n  if (this.onMessage) {\n    this.onMessage(a, b);\n  }\n};\nmodule$exports$omid$common$Communication.prototype.serialize = function(a) {\n  return JSON.stringify(a);\n};\nmodule$exports$omid$common$Communication.prototype.deserialize = function(a) {\n  return JSON.parse(a);\n};\nmodule$exports$omid$common$Communication.prototype.isDirectCommunication = function() {\n  return this.communicationType_ === module$exports$omid$common$constants.CommunicationType.DIRECT;\n};\nmodule$exports$omid$common$Communication.prototype.isCrossOrigin = function() {\n};\nvar module$exports$omid$common$DetectOmid = {OMID_PRESENT_FRAME_NAME:\"omid_v1_present\", isOmidPresent:function(a) {\n  try {\n    return a.frames ? !!a.frames[module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME] : !1;\n  } catch (b) {\n    return !1;\n  }\n}, declareOmidPresence:function(a) {\n  a.frames && a.document && (module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME in a.frames || (null == a.document.body && module$exports$omid$common$DetectOmid.isMutationObserverAvailable_(a) ? module$exports$omid$common$DetectOmid.registerMutationObserver_(a) : a.document.body ? module$exports$omid$common$DetectOmid.appendPresenceIframe_(a) : a.document.write('<iframe style=\"display:none\" id=\"' + (module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME + '\" name=\"') + (module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME + \n  '\"></iframe>'))));\n}, appendPresenceIframe_:function(a) {\n  var b = a.document.createElement(\"iframe\");\n  b.id = module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME;\n  b.name = module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME;\n  b.style.display = \"none\";\n  a.document.body.appendChild(b);\n}, isMutationObserverAvailable_:function(a) {\n  return \"MutationObserver\" in a;\n}, registerMutationObserver_:function(a) {\n  var b = new MutationObserver(function(c) {\n    c.forEach(function(c) {\n      \"BODY\" === c.addedNodes[0].nodeName && (module$exports$omid$common$DetectOmid.appendPresenceIframe_(a), b.disconnect());\n    });\n  });\n  b.observe(a.document.documentElement, {childList:!0});\n}};\nvar module$exports$omid$common$DirectCommunication = function(a) {\n  module$exports$omid$common$Communication.call(this, a);\n  this.communicationType_ = module$exports$omid$common$constants.CommunicationType.DIRECT;\n  this.handleExportedMessage = module$exports$omid$common$DirectCommunication.prototype.handleExportedMessage.bind(this);\n};\n$jscomp.inherits(module$exports$omid$common$DirectCommunication, module$exports$omid$common$Communication);\nmodule$exports$omid$common$DirectCommunication.prototype.sendMessage = function(a, b) {\n  b = void 0 === b ? this.to : b;\n  if (!b) {\n    throw Error(\"Message destination must be defined at construction time or when sending the message.\");\n  }\n  b.handleExportedMessage(a.serialize(), this);\n};\nmodule$exports$omid$common$DirectCommunication.prototype.handleExportedMessage = function(a, b) {\n  module$exports$omid$common$InternalMessage.isValidSerializedMessage(a) && this.handleMessage(module$exports$omid$common$InternalMessage.deserialize(a), b);\n};\nmodule$exports$omid$common$DirectCommunication.prototype.isCrossOrigin = function() {\n  return !1;\n};\nvar module$exports$omid$common$eventTypedefs = {};\nvar module$exports$omid$common$exporter = {};\nfunction module$contents$omid$common$exporter_getOmidExports() {\n  return \"undefined\" === typeof omidExports ? null : omidExports;\n}\nfunction module$contents$omid$common$exporter_getOrCreateName(a, b) {\n  return a && (a[b] || (a[b] = {}));\n}\nmodule$exports$omid$common$exporter.packageExport = function(a, b, c) {\n  if (c = void 0 === c ? module$contents$omid$common$exporter_getOmidExports() : c) {\n    a = a.split(\".\"), a.slice(0, a.length - 1).reduce(module$contents$omid$common$exporter_getOrCreateName, c)[a[a.length - 1]] = b;\n  }\n};\nvar module$exports$omid$common$guid = {generateGuid:function() {\n  return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(a) {\n    var b = 16 * Math.random() | 0;\n    a = \"y\" === a ? (b & 3 | 8).toString(16) : b.toString(16);\n    return a;\n  });\n}};\nvar module$exports$omid$common$logger = {error:function(a) {\n  for (var b = [], c = 0; c < arguments.length; ++c) {\n    b[c - 0] = arguments[c];\n  }\n  module$contents$omid$common$logger_executeLog(function() {\n    throw new (Function.prototype.bind.apply(Error, [null, \"Could not complete the test successfully - \"].concat($jscomp.arrayFromIterable(b))));\n  }, function() {\n    return console.error.apply(console, $jscomp.arrayFromIterable(b));\n  });\n}, debug:function(a) {\n  for (var b = [], c = 0; c < arguments.length; ++c) {\n    b[c - 0] = arguments[c];\n  }\n  module$contents$omid$common$logger_executeLog(function() {\n  }, function() {\n    return console.error.apply(console, $jscomp.arrayFromIterable(b));\n  });\n}};\nfunction module$contents$omid$common$logger_executeLog(a, b) {\n  \"undefined\" !== typeof jasmine && jasmine ? a() : \"undefined\" !== typeof console && console && console.error && b();\n}\n;var module$exports$omid$common$OmidGlobalProvider = {}, module$contents$omid$common$OmidGlobalProvider_globalThis = eval(\"this\");\nfunction module$contents$omid$common$OmidGlobalProvider_getOmidGlobal() {\n  if (\"undefined\" !== typeof omidGlobal && omidGlobal) {\n    return omidGlobal;\n  }\n  if (\"undefined\" !== typeof global && global) {\n    return global;\n  }\n  if (\"undefined\" !== typeof window && window) {\n    return window;\n  }\n  if (\"undefined\" !== typeof module$contents$omid$common$OmidGlobalProvider_globalThis && module$contents$omid$common$OmidGlobalProvider_globalThis) {\n    return module$contents$omid$common$OmidGlobalProvider_globalThis;\n  }\n  throw Error(\"Could not determine global object context.\");\n}\nmodule$exports$omid$common$OmidGlobalProvider.omidGlobal = module$contents$omid$common$OmidGlobalProvider_getOmidGlobal();\nvar module$exports$omid$common$windowUtils = {};\nfunction module$contents$omid$common$windowUtils_isValidWindow(a) {\n  return null != a && \"undefined\" !== typeof a.top && null != a.top;\n}\nmodule$exports$omid$common$windowUtils.isCrossOrigin = function(a) {\n  if (a === module$exports$omid$common$OmidGlobalProvider.omidGlobal) {\n    return !1;\n  }\n  try {\n    if (\"undefined\" === typeof a.location.hostname) {\n      return !0;\n    }\n    module$contents$omid$common$windowUtils_isSameOriginForIE(a);\n  } catch (b) {\n    return !0;\n  }\n  return !1;\n};\nfunction module$contents$omid$common$windowUtils_isSameOriginForIE(a) {\n  return \"\" === a.x || \"\" !== a.x;\n}\nmodule$exports$omid$common$windowUtils.resolveGlobalContext = function(a) {\n  \"undefined\" === typeof a && \"undefined\" !== typeof window && window && (a = window);\n  return module$contents$omid$common$windowUtils_isValidWindow(a) ? a : module$exports$omid$common$OmidGlobalProvider.omidGlobal;\n};\nmodule$exports$omid$common$windowUtils.resolveTopWindowContext = function(a) {\n  return module$contents$omid$common$windowUtils_isValidWindow(a) ? a.top : module$exports$omid$common$OmidGlobalProvider.omidGlobal;\n};\nmodule$exports$omid$common$windowUtils.evaluatePageUrl = function(a) {\n  if (!module$contents$omid$common$windowUtils_isValidWindow(a)) {\n    return null;\n  }\n  try {\n    var b = a.top;\n    return (0,module$exports$omid$common$windowUtils.isCrossOrigin)(b) ? null : b.location.href;\n  } catch (c) {\n    return null;\n  }\n};\nvar module$exports$omid$common$PostMessageCommunication = function(a, b) {\n  b = void 0 === b ? module$exports$omid$common$OmidGlobalProvider.omidGlobal : b;\n  module$exports$omid$common$Communication.call(this, b);\n  var c = this;\n  this.communicationType_ = module$exports$omid$common$constants.CommunicationType.POST_MESSAGE;\n  a.addEventListener(\"message\", function(a) {\n    if (\"object\" === typeof a.data) {\n      var b = a.data;\n      module$exports$omid$common$InternalMessage.isValidSerializedMessage(b) && (b = module$exports$omid$common$InternalMessage.deserialize(b), a.source && c.handleMessage(b, a.source));\n    }\n  });\n};\n$jscomp.inherits(module$exports$omid$common$PostMessageCommunication, module$exports$omid$common$Communication);\nmodule$exports$omid$common$PostMessageCommunication.isCompatibleContext = function(a) {\n  return !!(a && a.addEventListener && a.postMessage);\n};\nmodule$exports$omid$common$PostMessageCommunication.prototype.sendMessage = function(a, b) {\n  b = void 0 === b ? this.to : b;\n  if (!b) {\n    throw Error(\"Message destination must be defined at construction time or when sending the message.\");\n  }\n  b.postMessage(a.serialize(), \"*\");\n};\nmodule$exports$omid$common$PostMessageCommunication.prototype.isCrossOrigin = function() {\n  return this.to ? (0,module$exports$omid$common$windowUtils.isCrossOrigin)(this.to) : !0;\n};\nvar module$exports$omid$common$Rectangle = function(a, b, c, d) {\n  this.x = a;\n  this.y = b;\n  this.width = c;\n  this.height = d;\n};\nvar module$exports$omid$common$serviceCommunication = {}, module$contents$omid$common$serviceCommunication_EXPORTED_SESSION_COMMUNICATION_NAME = [\"omid\", \"v1_SessionServiceCommunication\"], module$contents$omid$common$serviceCommunication_EXPORTED_VERIFICATION_COMMUNICATION_NAME = [\"omid\", \"v1_VerificationServiceCommunication\"], module$contents$omid$common$serviceCommunication_EXPORTED_SERVICE_WINDOW_NAME = [\"omidVerificationProperties\", \"serviceWindow\"];\nfunction module$contents$omid$common$serviceCommunication_getValueForKeypath(a, b) {\n  return b.reduce(function(a, b) {\n    return a && a[b];\n  }, a);\n}\nfunction module$contents$omid$common$serviceCommunication_startServiceCommunication(a, b, c, d) {\n  if (!(0,module$exports$omid$common$windowUtils.isCrossOrigin)(b)) {\n    try {\n      var e = module$contents$omid$common$serviceCommunication_getValueForKeypath(b, c);\n      if (e) {\n        return new module$exports$omid$common$DirectCommunication(e);\n      }\n    } catch (f) {\n    }\n  }\n  return d(b) ? new module$exports$omid$common$PostMessageCommunication(a, b) : null;\n}\nfunction module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(a, b, c, d) {\n  b = $jscomp.makeIterator(b);\n  for (var e = b.next(); !e.done; e = b.next()) {\n    if (e = module$contents$omid$common$serviceCommunication_startServiceCommunication(a, e.value, c, d)) {\n      return e;\n    }\n  }\n  return null;\n}\nmodule$exports$omid$common$serviceCommunication.startSessionServiceCommunication = function(a, b, c) {\n  c = void 0 === c ? module$exports$omid$common$DetectOmid.isOmidPresent : c;\n  var d = [a, (0,module$exports$omid$common$windowUtils.resolveTopWindowContext)(a)];\n  b && d.unshift(b);\n  return module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(a, d, module$contents$omid$common$serviceCommunication_EXPORTED_SESSION_COMMUNICATION_NAME, c);\n};\nmodule$exports$omid$common$serviceCommunication.startVerificationServiceCommunication = function(a, b) {\n  b = void 0 === b ? module$exports$omid$common$DetectOmid.isOmidPresent : b;\n  var c = [], d = module$contents$omid$common$serviceCommunication_getValueForKeypath(a, module$contents$omid$common$serviceCommunication_EXPORTED_SERVICE_WINDOW_NAME);\n  d && c.push(d);\n  c.push((0,module$exports$omid$common$windowUtils.resolveTopWindowContext)(a));\n  return module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(a, c, module$contents$omid$common$serviceCommunication_EXPORTED_VERIFICATION_COMMUNICATION_NAME, b);\n};\nvar module$exports$omid$common$VastProperties = function(a, b, c, d) {\n  this.isSkippable = a;\n  this.skipOffset = b;\n  this.isAutoPlay = c;\n  this.position = d;\n};\nmodule$exports$omid$common$VastProperties.prototype.toJSON = function() {\n  return {isSkippable:this.isSkippable, skipOffset:this.skipOffset, isAutoPlay:this.isAutoPlay, position:this.position};\n};\nvar module$exports$omid$common$version = {ApiVersion:\"1.0\", Version:\"1.3.2\"};\nvar module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION = module$exports$omid$common$version.Version, module$contents$omid$verificationClient$VerificationClient_EventCallback;\nfunction module$contents$omid$verificationClient$VerificationClient_getThirdPartyOmid() {\n  var a = module$exports$omid$common$OmidGlobalProvider.omidGlobal.omid3p;\n  return a && \"function\" === typeof a.registerSessionObserver && \"function\" === typeof a.addEventListener ? a : null;\n}\nvar module$exports$omid$verificationClient$VerificationClient = function(a) {\n  if (this.communication = a || (0,module$exports$omid$common$serviceCommunication.startVerificationServiceCommunication)((0,module$exports$omid$common$windowUtils.resolveGlobalContext)())) {\n    this.communication.onMessage = this.handleMessage_.bind(this);\n  } else {\n    if (a = module$contents$omid$verificationClient$VerificationClient_getThirdPartyOmid()) {\n      this.omid3p = a;\n    }\n  }\n  this.remoteIntervals_ = this.remoteTimeouts_ = 0;\n  this.callbackMap_ = {};\n  this.imgCache_ = [];\n  this.injectionId_ = (a = module$exports$omid$common$OmidGlobalProvider.omidGlobal.omidVerificationProperties) ? a.injectionId : void 0;\n};\nmodule$exports$omid$verificationClient$VerificationClient.prototype.isSupported = function() {\n  return !(!this.communication && !this.omid3p);\n};\nmodule$exports$omid$verificationClient$VerificationClient.prototype.registerSessionObserver = function(a, b) {\n  (0,module$exports$omid$common$argsChecker.assertFunction)(\"functionToExecute\", a);\n  this.omid3p ? this.omid3p.registerSessionObserver(a, b, this.injectionId_) : this.sendMessage_(\"addSessionListener\", a, b, this.injectionId_);\n};\nmodule$exports$omid$verificationClient$VerificationClient.prototype.addEventListener = function(a, b) {\n  (0,module$exports$omid$common$argsChecker.assertTruthyString)(\"eventType\", a);\n  (0,module$exports$omid$common$argsChecker.assertFunction)(\"functionToExecute\", b);\n  this.omid3p ? this.omid3p.addEventListener(a, b) : this.sendMessage_(\"addEventListener\", b, a);\n};\nmodule$exports$omid$verificationClient$VerificationClient.prototype.sendUrl = function(a, b, c) {\n  (0,module$exports$omid$common$argsChecker.assertTruthyString)(\"url\", a);\n  module$exports$omid$common$OmidGlobalProvider.omidGlobal.document && module$exports$omid$common$OmidGlobalProvider.omidGlobal.document.createElement ? this.sendUrlWithImg_(a, b, c) : this.sendMessage_(\"sendUrl\", function(a) {\n    a && b ? b() : !a && c && c();\n  }, a);\n};\nmodule$exports$omid$verificationClient$VerificationClient.prototype.sendUrlWithImg_ = function(a, b, c) {\n  var d = this, e = module$exports$omid$common$OmidGlobalProvider.omidGlobal.document.createElement(\"img\");\n  this.imgCache_.push(e);\n  var f = function(a) {\n    var b = d.imgCache_.indexOf(e);\n    0 <= b && d.imgCache_.splice(b, 1);\n    a && a();\n  };\n  e.addEventListener(\"load\", f.bind(this, b));\n  e.addEventListener(\"error\", f.bind(this, c));\n  e.src = a;\n};\nmodule$exports$omid$verificationClient$VerificationClient.prototype.injectJavaScriptResource = function(a, b, c) {\n  var d = this;\n  (0,module$exports$omid$common$argsChecker.assertTruthyString)(\"url\", a);\n  module$exports$omid$common$OmidGlobalProvider.omidGlobal.document ? this.injectJavascriptResourceUrlInDom_(a, b, c) : this.sendMessage_(\"injectJavaScriptResource\", function(e, f) {\n    e ? (d.evaluateJavaScript_(f, a), b()) : (module$exports$omid$common$logger.error(\"Service failed to load JavaScript resource.\"), c());\n  }, a);\n};\nmodule$exports$omid$verificationClient$VerificationClient.prototype.injectJavascriptResourceUrlInDom_ = function(a, b, c) {\n  var d = module$exports$omid$common$OmidGlobalProvider.omidGlobal.document, e = d.body;\n  d = d.createElement(\"script\");\n  d.onload = b;\n  d.onerror = c;\n  d.src = a;\n  d.type = \"application/javascript\";\n  e.appendChild(d);\n};\nmodule$exports$omid$verificationClient$VerificationClient.prototype.evaluateJavaScript_ = function(a, b) {\n  try {\n    eval(a);\n  } catch (c) {\n    module$exports$omid$common$logger.error('Error evaluating the JavaScript resource from \"' + b + '\".');\n  }\n};\nmodule$exports$omid$verificationClient$VerificationClient.prototype.setTimeout = function(a, b) {\n  (0,module$exports$omid$common$argsChecker.assertFunction)(\"functionToExecute\", a);\n  (0,module$exports$omid$common$argsChecker.assertPositiveNumber)(\"timeInMillis\", b);\n  if (this.hasTimeoutMethods_()) {\n    return module$exports$omid$common$OmidGlobalProvider.omidGlobal.setTimeout(a, b);\n  }\n  var c = this.remoteTimeouts_++;\n  this.sendMessage_(\"setTimeout\", a, c, b);\n  return c;\n};\nmodule$exports$omid$verificationClient$VerificationClient.prototype.clearTimeout = function(a) {\n  (0,module$exports$omid$common$argsChecker.assertPositiveNumber)(\"timeoutId\", a);\n  this.hasTimeoutMethods_() ? module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearTimeout(a) : this.sendOneWayMessage_(\"clearTimeout\", a);\n};\nmodule$exports$omid$verificationClient$VerificationClient.prototype.setInterval = function(a, b) {\n  (0,module$exports$omid$common$argsChecker.assertFunction)(\"functionToExecute\", a);\n  (0,module$exports$omid$common$argsChecker.assertPositiveNumber)(\"timeInMillis\", b);\n  if (this.hasIntervalMethods_()) {\n    return module$exports$omid$common$OmidGlobalProvider.omidGlobal.setInterval(a, b);\n  }\n  var c = this.remoteIntervals_++;\n  this.sendMessage_(\"setInterval\", a, c, b);\n  return c;\n};\nmodule$exports$omid$verificationClient$VerificationClient.prototype.clearInterval = function(a) {\n  (0,module$exports$omid$common$argsChecker.assertPositiveNumber)(\"intervalId\", a);\n  this.hasIntervalMethods_() ? module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearInterval(a) : this.sendOneWayMessage_(\"clearInterval\", a);\n};\nmodule$exports$omid$verificationClient$VerificationClient.prototype.hasTimeoutMethods_ = function() {\n  return \"function\" === typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.setTimeout && \"function\" === typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearTimeout;\n};\nmodule$exports$omid$verificationClient$VerificationClient.prototype.hasIntervalMethods_ = function() {\n  return \"function\" === typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.setInterval && \"function\" === typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearInterval;\n};\nmodule$exports$omid$verificationClient$VerificationClient.prototype.handleMessage_ = function(a, b) {\n  b = a.method;\n  var c = a.guid;\n  a = a.args;\n  if (\"response\" === b && this.callbackMap_[c]) {\n    var d = (0,module$exports$omid$common$ArgsSerDe.deserializeMessageArgs)(module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION, a);\n    this.callbackMap_[c].apply(this, d);\n  }\n  \"error\" === b && window.console && module$exports$omid$common$logger.error(a);\n};\nmodule$exports$omid$verificationClient$VerificationClient.prototype.sendOneWayMessage_ = function(a, b) {\n  for (var c = [], d = 1; d < arguments.length; ++d) {\n    c[d - 1] = arguments[d];\n  }\n  this.sendMessage_.apply(this, [a, null].concat($jscomp.arrayFromIterable(c)));\n};\nmodule$exports$omid$verificationClient$VerificationClient.prototype.sendMessage_ = function(a, b, c) {\n  for (var d = [], e = 2; e < arguments.length; ++e) {\n    d[e - 2] = arguments[e];\n  }\n  this.communication && (e = (0,module$exports$omid$common$guid.generateGuid)(), b && (this.callbackMap_[e] = b), d = new module$exports$omid$common$InternalMessage(e, \"VerificationService.\" + a, module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION, (0,module$exports$omid$common$ArgsSerDe.serializeMessageArgs)(module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION, d)), this.communication.sendMessage(d));\n};\n(0,module$exports$omid$common$exporter.packageExport)(\"OmidVerificationClient\", module$exports$omid$verificationClient$VerificationClient);\n\n},  false ? undefined : exports));\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n//# sourceURL=webpack:///./node_modules/open-measurement-jsclients/bin/omid-verification-client-v1.js?");

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n//# sourceURL=webpack:///(webpack)/buildin/global.js?");

/***/ }),

/***/ "./src/csm.js":
/*!********************!*\
  !*** ./src/csm.js ***!
  \********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/@babel/runtime/helpers/typeof.js\");\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var detectViewability__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! detectViewability */ \"./src/detectViewability.js\");\n/* harmony import */ var pixelQueue__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! pixelQueue */ \"./src/pixelQueue.js\");\n/* harmony import */ var reportError__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! reportError */ \"./src/reportError.js\");\n/* harmony import */ var utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! utils */ \"./src/utils.js\");\n/* harmony import */ var open_measurement_jsclients_bin_omid_verification_client_v1__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! open-measurement-jsclients/bin/omid-verification-client-v1 */ \"./node_modules/open-measurement-jsclients/bin/omid-verification-client-v1.js\");\n/* harmony import */ var open_measurement_jsclients_bin_omid_verification_client_v1__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(open_measurement_jsclients_bin_omid_verification_client_v1__WEBPACK_IMPORTED_MODULE_8__);\n\n\n\n\n\n/**\n* Module to initialize Viewability Computation\n* @module CSM\n*/\n\n\n\n\n/*\nOmidVerificationClient comes from am external git repo : https://github.com/InteractiveAdvertisingBureau/Open-Measurement-JSClients\nIt has been imported to internal code repo: https://code.amazon.com/packages/Open-Measurement-JSClients\n*/\n// Documentation to APIs supported by OmidVerification Client: https://s3-us-west-2.amazonaws.com/omsdk-files/docs/OMID_API_GA_v1.pdf\n\n\n\nvar _pixelQueue = Symbol('_pixelQueue');\n\nvar _utils = Symbol('_utils');\n\nvar _reportError = Symbol('_reportError');\n\nvar _omidAdapter = Symbol('_omidAdapter');\n\nvar VENDOR_KEY = 'amazon.com-omid';\n\nvar _adID = Symbol('_adID');\n\nvar _reportPerfMetrics = Symbol('_reportPerfMetrics');\n\nvar _startViewComp = Symbol('_startViewComp');\n\nvar _sessionObsCallback = Symbol('_sessionObsCallback');\n\nvar SESSION_START_EVENT = 'sessionStart';\n\nvar _setup = Symbol('_setup');\n\nvar _reportOMSupport = Symbol('_reportOMSupport');\n\nvar CSM = /*#__PURE__*/function () {\n  function CSM() {\n    var _this = this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, CSM);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, _reportPerfMetrics, function () {\n      var items = null;\n      var reportPayload = {\n        mtd: null\n      };\n\n      if (_this[_utils].checkWinPerfAPI()) {\n        items = window.performance.getEntriesByType('measure');\n        reportPayload.mtd = 'win';\n      } else {\n        items = _this[_utils].latencyMeasureQueue;\n        reportPayload.mtd = 'prim';\n      }\n\n      for (var i = 0; i < items.length; i += 1) {\n        var req = items[i];\n\n        if (req.name.endsWith(_this[_adID])) {\n          var metricName = req.name.substring(0, req.name.length - _this[_adID].length);\n          reportPayload[metricName] = req.duration.toFixed(2);\n        }\n      }\n\n      var payloadSize = Object.keys(reportPayload).length;\n\n      if (payloadSize > 1) {\n        _this[_pixelQueue].addPixel(reportPayload);\n      }\n    });\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, _sessionObsCallback, function (event) {\n      if (event.type === SESSION_START_EVENT && event.data && _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(event.data) === 'object' && event.data.verificationParameters) {\n        var verificationParameters = JSON.parse(event.data.verificationParameters);\n\n        if (!verificationParameters.vuInstr) {\n          return; // Do nothing since instumentation Url is not there.\n        }\n\n        _this[_setup](verificationParameters.vuInstr, event.data);\n      }\n    });\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, _setup, function (vuInstr) {\n      var eventData = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      try {\n        _this[_pixelQueue] = new pixelQueue__WEBPACK_IMPORTED_MODULE_5__[\"default\"](vuInstr, _this[_omidAdapter]);\n        _this[_reportError] = new reportError__WEBPACK_IMPORTED_MODULE_6__[\"default\"](_this[_pixelQueue]); //  Generate a rand ID\n\n        _this[_adID] = Math.round(Math.random() * 10000000).toString();\n        _this[_utils] = new utils__WEBPACK_IMPORTED_MODULE_7__[\"default\"](_this[_omidAdapter], _this[_reportError], _this[_adID]);\n\n        _this[_reportOMSupport](eventData);\n\n        _this[_startViewComp]();\n      } catch (ex) {\n        _this[_reportError].reportClientError(ex);\n      }\n    });\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, _reportOMSupport, function () {\n      var eventData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var payload = {};\n      var omidJsInfo = null;\n      var omidNativeInfo = null;\n\n      if (eventData && eventData.context) {\n        omidJsInfo = eventData.context.omidJsInfo;\n        omidNativeInfo = eventData.context.omidNativeInfo;\n      }\n\n      payload = {\n        om: true,\n        omidJsInfo: omidJsInfo,\n        omidNativeInfo: omidNativeInfo\n      };\n\n      _this[_pixelQueue].firePixel({\n        adCsm: [payload]\n      });\n    });\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, _startViewComp, function () {\n      _this[_utils].startLatencyForParam('csm'); // eslint-disable-next-line\n\n\n      var isBenchmark = false;\n      isBenchmark = true;\n      var detectViewability = new detectViewability__WEBPACK_IMPORTED_MODULE_4__[\"default\"](_this[_omidAdapter], _this[_pixelQueue], _this[_reportError], _this[_utils], isBenchmark);\n      detectViewability.collectData();\n\n      _this[_utils].endLatencyForParam('csm');\n\n      _this[_reportPerfMetrics]();\n    });\n\n    this[_omidAdapter] = new open_measurement_jsclients_bin_omid_verification_client_v1__WEBPACK_IMPORTED_MODULE_8__[\"OmidVerificationClient\"]();\n  }\n  /**\n  * Reports real user measurement metrics\n  * @return {void}\n  */\n\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(CSM, [{\n    key: \"init\",\n    value: function init() {\n      var _this2 = this;\n\n      try {\n        this[_omidAdapter].registerSessionObserver(function (event) {\n          return _this2[_sessionObsCallback](event);\n        }, VENDOR_KEY);\n      } catch (ex) {// DO NOTHING\n      }\n    }\n    /**\n     * SessionStart event callback contains the verification parameters from the VAST XML.\n     * instrUrl is present in verification parameters.\n     * @param {Object} event\n     */\n\n  }]);\n\n  return CSM;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CSM);\n\n//# sourceURL=webpack:///./src/csm.js?");

/***/ }),

/***/ "./src/detectViewability.js":
/*!**********************************!*\
  !*** ./src/detectViewability.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var videoViewability__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! videoViewability */ \"./src/videoViewability.js\");\n/* harmony import */ var viewDuration__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! viewDuration */ \"./src/viewDuration.js\");\n\n\n\n/**\n * Module to detect viewability of an ad slot\n * @module detectViewability\n */\n\n\n\nvar _videoViewability = Symbol('_videoViewability');\n\nvar _omidAdapter = Symbol('_omidAdapter');\n\nvar _pixelQueue = Symbol('_pixelQueue');\n\nvar _reportError = Symbol('_reportError');\n\nvar _viewDuration = Symbol('_viewDuration');\n\nvar _utils = Symbol('_utils');\n\nvar _computeViewability = Symbol('_computeViewability');\n\nvar _fireBeacon = Symbol('_fireBeacon');\n\nvar _allViewBeaconsFired = Symbol('_allViewBeaconsFired');\n\nvar _seenForTimeIab = Symbol('_seenForTimeIab');\n\nvar _seenForTimeGroupm = Symbol('_seenForTimeGroupm');\n\nvar _setGeometryDataOMSDK = Symbol('_setGeometryDataOMSDK');\n\nvar _checkAndStartIabTimer = Symbol('_checkAndStartIabTimer');\n\nvar _resetIabTimer = Symbol('_resetIabTimer');\n\nvar _checkAndStartGroupmTimer = Symbol('_checkAndStartGroupmTimer');\n\nvar _resetGroupmTimer = Symbol('_resetGroupmTimer');\n\nvar _setGroupmTimeCutOff = Symbol('_setGroupmTimeCutOff');\n\nvar _sendViewNot = Symbol('_sendViewNot');\n\nvar _reportViewEvent = Symbol('_reportViewEvent');\n\nvar _viewabilityEventCb = Symbol('_viewabilityEventCb');\n\nvar _atfPixelFired = Symbol('_atfPixelFired');\n\nvar _leftPos = Symbol('_leftPos');\n\nvar _topPos = Symbol('_topPos');\n\nvar _iabAreaCutOff = Symbol('_iabAreaCuttOff');\n\nvar _groupmAreaCutOff = Symbol('_groupmAreaCutOff');\n\nvar _iabTimeCutOff = Symbol('_iabTimeCutOff');\n\nvar _groupmTimeCutOff = Symbol('_groupmTimeCutOff');\n\nvar _timerIab = Symbol('_timerIab');\n\nvar _timerStartedIab = Symbol('_timerStartedIab');\n\nvar _timerGroupm = Symbol('_timerGroupm');\n\nvar _timerStartedGroupm = Symbol('_timerStartedGroupm');\n\nvar _beaconSent = Symbol('_beaconSent');\n\nvar _adWidth = Symbol('_adWidth');\n\nvar _adHeight = Symbol('_adHeight');\n\nvar _winWidth = Symbol('_winWidth');\n\nvar _winHeight = Symbol('_winHeight');\n\nvar _area = Symbol('_area');\n\nvar _isBenchmark = Symbol('_isBenchmark');\n\nvar _maxTimeCutOffGroupm = Symbol('_maxTimeCutOffGroupm');\n\nvar DetectViewability =\n/**\n *\n * @param {omidAdapter} omidAdapter\n * @param {pixelQueue} pixelQueue to be used to fire Pixels\n * @param {reportError} reportError to be used to catch any exceptions\n * @param {boolean} isBenchmark : to identify benchmark mode\n */\nfunction DetectViewability(omidAdapter, pixelQueue, reportError, utils) {\n  var _this = this;\n\n  var isBenchmark = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n  _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, DetectViewability);\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, _allViewBeaconsFired, function () {\n    return _this[_beaconSent].iab && _this[_beaconSent].groupm;\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, _seenForTimeIab, function () {\n    if (_this[_beaconSent].iab) return; // Fire viewability pixel\n\n    if (_this[_area] >= _this[_iabAreaCutOff]) {\n      _this[_fireBeacon]('viewable', {\n        viewable: true,\n        defn: 'iab',\n        p: _this[_area],\n        t: _this[_iabTimeCutOff]\n      });\n\n      _this[_beaconSent].iab = true;\n    }\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, _seenForTimeGroupm, function () {\n    if (_this[_beaconSent].groupm) return; // Fire viewability Pixel\n\n    if (_this[_area] >= _this[_groupmAreaCutOff]) {\n      _this[_fireBeacon]('viewable', {\n        viewable: true,\n        defn: 'groupm',\n        p: _this[_area],\n        t: _this[_groupmTimeCutOff]\n      });\n\n      _this[_beaconSent].groupm = true;\n    }\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, _fireBeacon, function (type, data) {\n    var _payload, _payload2;\n\n    if (type === 'above_the_fold' && _this[_beaconSent].atf || type === 'viewable' && _this[_beaconSent][data.defn]) {\n      return;\n    }\n\n    try {\n      var payload = {};\n      var prefix = '';\n      var key = '';\n\n      switch (type) {\n        case 'above_the_fold':\n          _this[_beaconSent].atf = true;\n          prefix = _this[_isBenchmark] ? '' : 'atf/';\n          key = _this[_isBenchmark] ? 'atf_ben' : 'atf';\n          payload = (_payload = {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_payload, key, data.atf), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_payload, \"ah\", _this[_adHeight] !== null ? _this[_adHeight] : 'undefined'), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_payload, \"aw\", _this[_adWidth] !== null ? _this[_adWidth] : 'undefined'), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_payload, \"wh\", _this[_winHeight] !== null ? _this[_winHeight] : 'undefined'), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_payload, \"ww\", _this[_winWidth] !== null ? _this[_winWidth] : 'undefined'), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_payload, \"left\", _this[_leftPos] !== null ? _this[_leftPos] : 'undefined'), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_payload, \"top\", _this[_topPos] !== null ? _this[_topPos] : 'undefined'), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_payload, \"ts\", new Date().getTime()), _payload);\n\n          _this[_pixelQueue].firePixel(payload, prefix);\n\n          break;\n\n        case 'viewable':\n          prefix = _this[_isBenchmark] ? '' : 'v/';\n          key = _this[_isBenchmark] ? 'v_ben' : 'v';\n          payload = (_payload2 = {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_payload2, key, {\n            p: \"\".concat(data.p),\n            t: \"\".concat(data.t),\n            def: \"\".concat(data.defn)\n          }), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_payload2, \"ah\", _this[_adHeight] !== null ? _this[_adHeight] : 'undefined'), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_payload2, \"aw\", _this[_adWidth] !== null ? _this[_adWidth] : 'undefined'), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_payload2, \"wh\", _this[_winHeight] !== null ? _this[_winHeight] : 'undefined'), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_payload2, \"ww\", _this[_winWidth] !== null ? _this[_winWidth] : 'undefined'), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_payload2, \"left\", _this[_leftPos] !== null ? _this[_leftPos] : 'undefined'), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_payload2, \"top\", _this[_topPos] !== null ? _this[_topPos] : 'undefined'), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_payload2, \"ts\", new Date().getTime()), _payload2);\n\n          _this[_pixelQueue].firePixel(payload, prefix);\n\n          break;\n\n        default:\n          payload = {};\n      }\n    } catch (ex) {\n      _this[_reportError].reportClientError(ex);\n    }\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, _setGeometryDataOMSDK, function (geometryData) {\n    try {\n      _this[_leftPos] = geometryData.adView.geometry.x;\n      _this[_topPos] = geometryData.adView.geometry.y;\n      _this[_adWidth] = geometryData.adView.geometry.width;\n      _this[_adHeight] = geometryData.adView.geometry.height;\n      _this[_winHeight] = geometryData.viewport.height;\n      _this[_winWidth] = geometryData.viewport.width;\n    } catch (ex) {\n      _this[_reportError].reportClientError(ex);\n    }\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, _setGroupmTimeCutOff, function (cutOffTime) {\n    _this[_groupmTimeCutOff] = Math.min(_this[_maxTimeCutOffGroupm], cutOffTime / 2);\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, _sendViewNot, function (isViewable) {\n    if (_this[_isBenchmark]) {\n      return;\n    }\n\n    if (isViewable) {\n      _this[_viewDuration].visHandler();\n    } else {\n      _this[_viewDuration].invHandler();\n    }\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, _reportViewEvent, function (area) {\n    if (area > _this[_iabAreaCutOff]) {\n      _this[_sendViewNot](true);\n    } else {\n      _this[_sendViewNot](false);\n    }\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, _computeViewability, function (onload) {\n    // IAB - Start\n    // determines how long the ad is in view, given an area cutoff\n    var setIabTimer = function setIabTimer() {\n      if (_this[_beaconSent].iab === false) {\n        if (_this[_timerIab]) {\n          _this[_omidAdapter].clearTimeout(_this[_timerIab]);\n        }\n\n        _this[_timerIab] = _this[_utils].setTimeout(function () {\n          _this[_seenForTimeIab]();\n        }, _this[_iabTimeCutOff]);\n      }\n    };\n\n    var checkAndStartIabTimer = function checkAndStartIabTimer() {\n      if (!_this[_timerStartedIab] && _this[_videoViewability].isVideoOn() && _this[_area] > _this[_iabAreaCutOff]) {\n        setIabTimer();\n        _this[_timerStartedIab] = true;\n      }\n    };\n\n    _this[_checkAndStartIabTimer] = checkAndStartIabTimer;\n\n    var resetIabTimer = function resetIabTimer() {\n      if (_this[_timerIab]) {\n        _this[_omidAdapter].clearTimeout(_this[_timerIab]);\n\n        _this[_timerStartedIab] = false;\n      }\n    };\n\n    _this[_resetIabTimer] = resetIabTimer; // IAB - End\n    // GroupM - Start\n\n    var setGroupmTimer = function setGroupmTimer() {\n      if (_this[_beaconSent].groupm === false) {\n        if (_this[_timerGroupm]) {\n          _this[_omidAdapter].clearTimeout(_this[_timerGroupm]);\n        }\n\n        _this[_timerGroupm] = _this[_utils].setTimeout(function () {\n          _this[_seenForTimeGroupm]();\n        }, _this[_groupmTimeCutOff]);\n      }\n    };\n\n    var checkAndStartGroupmTimer = function checkAndStartGroupmTimer() {\n      if (!_this[_timerStartedGroupm] && _this[_videoViewability].isVideoOn() && !_this[_videoViewability].isMute() && !_this[_videoViewability].isAutoPlay() && _this[_area] > _this[_groupmAreaCutOff] // To make sure that adDuration is set before this func was called. https://issues.amazon.com/issues/VUE-1354\n      && _this[_groupmTimeCutOff]) {\n        try {\n          setGroupmTimer();\n          _this[_timerStartedGroupm] = true;\n        } catch (ex) {\n          _this[_reportError].reportClientError(ex);\n        }\n      }\n    };\n\n    _this[_checkAndStartGroupmTimer] = checkAndStartGroupmTimer;\n\n    var resetGroupmTimer = function resetGroupmTimer() {\n      if (_this[_timerGroupm]) {\n        _this[_omidAdapter].clearTimeout(_this[_timerGroupm]);\n\n        _this[_timerStartedGroupm] = false;\n      }\n    };\n\n    _this[_resetGroupmTimer] = resetGroupmTimer; // GroupM - END\n\n    var atfSuccessCb = function atfSuccessCb(vFrac) {\n      try {\n        var atf = false;\n        _this[_area] = vFrac;\n        atf = _this[_area] > _this[_iabAreaCutOff];\n\n        if (_this[_area] > _this[_groupmAreaCutOff]) {\n          // GroupM\n          checkAndStartGroupmTimer();\n        }\n\n        if (_this[_area] > _this[_iabAreaCutOff]) {\n          // IAB\n          checkAndStartIabTimer();\n        }\n\n        _this[_utils].endLatencyForParam('atfComp');\n\n        _this[_fireBeacon]('above_the_fold', {\n          atf: atf\n        });\n\n        _this[_reportViewEvent](vFrac);\n      } catch (ex) {\n        _this[_reportError].reportClientError(ex);\n      }\n    };\n\n    var viewSuccessCb = function viewSuccessCb(vFrac) {\n      try {\n        _this[_area] = vFrac;\n\n        _this[_reportViewEvent](vFrac);\n\n        if (_this[_beaconSent].iab && _this[_beaconSent].groupm) return; // If the area is greater than CutOff for that definition and Timer is no running, start the timer\n        // If area is less than cutoff and timer is running, reset the timer\n\n        if (vFrac >= _this[_iabAreaCutOff] && !_this[_timerStartedIab]) {\n          checkAndStartIabTimer();\n        } else if (vFrac < _this[_iabAreaCutOff] && _this[_timerStartedIab]) {\n          resetIabTimer();\n        }\n\n        if (vFrac >= _this[_groupmAreaCutOff] && !_this[_timerStartedGroupm]) {\n          checkAndStartGroupmTimer();\n        } else if (vFrac <= _this[_groupmAreaCutOff] && _this[_timerStartedGroupm]) {\n          resetGroupmTimer();\n        }\n      } catch (ex) {\n        _this[_reportError].reportClientError(ex);\n      }\n    }; // Viewability Check on load\n\n\n    if (onload) {\n      _this[_utils].startLatencyForParam('atfComp');\n\n      _this[_videoViewability] = new videoViewability__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_this[_omidAdapter], _this[_reportError]);\n\n      _this[_videoViewability].initViewCompOMSDK(atfSuccessCb, viewSuccessCb, _this[_viewabilityEventCb], _this[_setGeometryDataOMSDK], _this[_setGroupmTimeCutOff]);\n    }\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, _viewabilityEventCb, function (event) {\n    if (event === 'resume') {\n      _this[_checkAndStartIabTimer]();\n\n      _this[_checkAndStartGroupmTimer]();\n    } else if (event === 'pause') {\n      _this[_resetIabTimer]();\n\n      _this[_resetGroupmTimer]();\n    } else if (event === 'muteOn') {\n      _this[_resetGroupmTimer]();\n    } else if (event === 'muteOff') {\n      _this[_checkAndStartGroupmTimer]();\n    } else if (event === 'skipped' || event === 'complete') {\n      _this[_resetIabTimer]();\n\n      _this[_resetGroupmTimer]();\n\n      _this[_sendViewNot](false);\n    }\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"collectData\", function () {\n    _this[_atfPixelFired] = true;\n\n    _this[_computeViewability](true);\n  });\n\n  this[_omidAdapter] = omidAdapter;\n  this[_pixelQueue] = pixelQueue;\n  this[_reportError] = reportError;\n  this[_utils] = utils;\n  this[_viewDuration] = new viewDuration__WEBPACK_IMPORTED_MODULE_3__[\"default\"](omidAdapter, utils, reportError, pixelQueue); // Used for measuring view duration of ad\n\n  this[_iabAreaCutOff] = 0.5;\n  this[_groupmAreaCutOff] = 0.9;\n  this[_iabTimeCutOff] = 2000;\n  this[_groupmTimeCutOff] = null; //  Will be assigned once start event gets called\n\n  this[_maxTimeCutOffGroupm] = 15000; // Maximum time cutoff for groupm is 15000 ms\n\n  this[_timerIab] = false; //  The settimeout handler for IAB\n\n  this[_timerStartedIab] = false; //  The timer has been started for IAB\n\n  this[_timerGroupm] = false; //  The settimeout handler for GROUPM\n\n  this[_timerStartedGroupm] = false; //  The timer has been started for GROUPM\n\n  this[_beaconSent] = {\n    //  Indiciated whether the viewability beacon(s) have been sent\n    atf: false,\n    iab: false,\n    groupm: false\n  };\n  this[_leftPos] = null;\n  this[_topPos] = null;\n  this[_adWidth] = null;\n  this[_adHeight] = null;\n  this[_winHeight] = null;\n  this[_winWidth] = null;\n  this[_area] = null;\n  this[_isBenchmark] = isBenchmark;\n}\n/**\n* Checks whether all required beacons have been fired so that the view computation can be paused\n* @return {boolean}\n*/\n;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DetectViewability);\n\n//# sourceURL=webpack:///./src/detectViewability.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var csm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! csm */ \"./src/csm.js\");\n\nvar csmInstance = new csm__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\ncsmInstance.init();\n\n//# sourceURL=webpack:///./src/index.js?");

/***/ }),

/***/ "./src/pixelQueue.js":
/*!***************************!*\
  !*** ./src/pixelQueue.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\n/**\n * Manage pixels and send them to pixel logs\n * @module PixelQueue\n */\nvar PIXEL_QUEUE_CAPACITY = 4; // Max number of pixels to be held in buffer\n\nvar SEND_PIXEL_TIMEOUT = 2500; // Timout to automatically send pixels in the queue\n// Private attributes\n\nvar _instrUrl = Symbol('_instrUrl');\n\nvar _pixelQueue = Symbol('_pixelQueue');\n\nvar _omidAdapter = Symbol('_omidAdapter'); // Private methods\n\n\nvar _sanitizeInstrUrl = Symbol('_sanitizeInstrUrl');\n\nvar _getUrlCacheBuster = Symbol('_getUrlCacheBuster');\n\nvar _flushQueue = Symbol('_flushQueue');\n\nvar _pixelId = Symbol('_pixelId');\n\nvar _timerId = Symbol('_timerId');\n\nvar PixelQueue = /*#__PURE__*/function () {\n  /**\n   *\n   * @param {String} instrUrl URL endpoint for firing pixels\n   * @param {OmidAdapter} omidAdapter OmidAdapter to be used to fire pixel\n   */\n  function PixelQueue(instrUrl, omidAdapter) {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, PixelQueue);\n\n    this[_omidAdapter] = omidAdapter;\n    this[_instrUrl] = this[_sanitizeInstrUrl](instrUrl);\n    this[_pixelId] = Math.random().toString(36).substr(2);\n    this[_pixelQueue] = [];\n    this[_timerId] = null;\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(PixelQueue, [{\n    key: \"firePixel\",\n\n    /**\n     * Send pixels to pixel logs using instrumentation URL\n     * @param {Object} payload Any JSON object which is stringified and sent\n     * @param {String} argumentPath Path Suffix for instrURL.\n     */\n    value: function firePixel(payload) {\n      var argumentPath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n      if (!payload || Object.keys(payload).length === 0) {\n        throw new Error('No payload to send');\n      }\n\n      if (payload.pixelId === undefined) {\n        // eslint-disable-next-line no-param-reassign\n        payload.pixelId = this[_pixelId];\n      }\n\n      var pixelUrl = this[_instrUrl] + argumentPath + JSON.stringify(payload) + this[_getUrlCacheBuster]();\n\n      this[_omidAdapter].sendUrl(pixelUrl);\n    }\n    /**\n     * Add pixel to the pixel queue which will get fired in a timely fashion.\n     * @param {Object} payload\n     */\n\n  }, {\n    key: \"addPixel\",\n    value: function addPixel(payload) {\n      var _this = this;\n\n      if (!payload || Object.keys(payload).length === 0) {\n        throw new Error('No payload to send');\n      }\n\n      var sendPixels = function sendPixels() {\n        if (_this[_pixelQueue].length > 0) {\n          _this.firePixel({\n            adCsm: _this[_pixelQueue]\n          });\n\n          _this[_flushQueue]();\n\n          _this[_omidAdapter].clearTimeout(_this[_timerId]);\n        }\n      };\n\n      if (this[_pixelQueue].length === 0) {\n        this[_timerId] = this[_omidAdapter].setTimeout(sendPixels, SEND_PIXEL_TIMEOUT);\n      }\n\n      this[_pixelQueue].push(payload);\n\n      if (this[_pixelQueue].length >= PIXEL_QUEUE_CAPACITY) {\n        sendPixels();\n      }\n    }\n  }, {\n    key: _sanitizeInstrUrl,\n    value: function value(instrUrl) {\n      var url = instrUrl;\n\n      if (url) {\n        if (/^http:\\/\\//.test(url) === true) {\n          url = url.replace('http://', 'https://');\n        }\n\n        url = url[url.length - 1] === '/' ? url : \"\".concat(url, \"/\");\n      }\n\n      return url;\n    }\n  }, {\n    key: _getUrlCacheBuster,\n    value: function value() {\n      var rand = Math.round(Math.random() * 10000000);\n      return \"?cb=\".concat(rand);\n    }\n  }, {\n    key: _flushQueue,\n    value: function value() {\n      this[_pixelQueue] = [];\n    }\n  }, {\n    key: \"pixelId\",\n    get: function get() {\n      return this[_pixelId];\n    }\n  }]);\n\n  return PixelQueue;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (PixelQueue);\n\n//# sourceURL=webpack:///./src/pixelQueue.js?");

/***/ }),

/***/ "./src/reportError.js":
/*!****************************!*\
  !*** ./src/reportError.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\n/**\n * Reports client side errors in the form of an error pixel.\n * @module ReportError\n */\nvar _pixelQueue = Symbol('_pixelQueue');\n\nvar _errorMessages = Symbol('_errorMessages');\n\nvar _constructErrorMessage = Symbol('_constructErrorMessage');\n\nvar _getErrorMessage = Symbol('_getErrorMessage');\n\nvar _get = Symbol('_get');\n\nvar _sanitizeStackFrame = Symbol('_sanitizeStackFrame');\n\nvar MAX_STACK_DEPTH = 20; // limit on the number of stack frames\n\nvar MAX_STACK_TO_STRING_LENGTH = 256; // how long should a fn definition be\n\nvar ReportError = /*#__PURE__*/function () {\n  function ReportError(pixelQueue) {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, ReportError);\n\n    this[_pixelQueue] = pixelQueue;\n    this[_errorMessages] = [];\n  }\n  /**\n   * Removes extra white spaces\n   *\n   * @param stackFrame\n   */\n\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(ReportError, [{\n    key: _sanitizeStackFrame,\n    value: function value(stackFrame) {\n      if (stackFrame) {\n        return stackFrame.replace(/^\\s+|\\s+$/g, '');\n      }\n\n      return stackFrame;\n    }\n    /**\n     * This private function produces the record that we will log for an error.\n     *\n     * @param exception\n     * @param additionalInfo\n     */\n\n  }, {\n    key: _constructErrorMessage,\n    value: function value(exception, additionalInfo) {\n      // eslint-disable-next-line no-param-reassign\n      additionalInfo = additionalInfo || {};\n\n      if (!exception) {\n        return {};\n      } // In case of ErrorEvents, the onerror handler receives an Event object as a first argument, which is set inside the m\n      // field of the logged object\n\n\n      if (exception.m && exception.m.message) {\n        // eslint-disable-next-line no-param-reassign\n        exception = exception.m;\n      } // initialize the error record\n      // eslint-disable-next-line prefer-const\n\n\n      var rec = {\n        // concatenate the additional info message string to the error message string\n        m: this[_getErrorMessage](exception, additionalInfo),\n        // In some rare scenarios, a regular Event object is sent as the first argument to the onerror handler, where the source is a\n        // <SCRIPT> element (happens on some WebKit browsers when a script fails to load). In this case, the message will\n        // still be [object Event], but the filename will contain the failed script\n        c: exception.c ? \"\".concat(exception.c) : exception.c,\n        // to make sure it is transformed to a string\n        s: [],\n        l: exception.l || exception.line || exception.lineno || exception.lineNumber,\n        name: exception.name,\n        type: exception.type\n      };\n      var stackFrames;\n      var frame;\n      var callee;\n      var i = 0;\n      var f = 0;\n      var stackLen; // the stack is taken either from the exception.stack or from exception.err.stack - in case it comes from window.onerror\n\n      var stack = exception.stack || (exception.err ? exception.err.stack : '');\n\n      if (stack && stack.split) {\n        stackFrames = stack.split('\\n');\n\n        while (i < stackFrames.length && rec.s.length < MAX_STACK_DEPTH) {\n          frame = stackFrames[i];\n          i += 1;\n\n          if (frame) {\n            rec.s.unshift(this[_sanitizeStackFrame](frame));\n          }\n        }\n      } else {\n        // eslint-disable-next-line prefer-rest-params\n        callee = this[_get](exception.args || arguments, 'callee'); // count to avoid looping around too much\n\n        i = 0;\n        f = 0; // actual frames recorded\n\n        while (callee && i < MAX_STACK_DEPTH) {\n          stackLen = MAX_STACK_TO_STRING_LENGTH; // skip any functions that we may have introduced into the call\n\n          /** @namespace callee.skipTrace * */\n\n          if (!callee.skipTrace) {\n            frame = callee.toString();\n\n            if (frame && frame.substr) {\n              // just record the first characters\n              // increase the character count for the first frames to x4 for first and x2 for second\n              stackLen = f === 0 ? 4 * MAX_STACK_TO_STRING_LENGTH : stackLen;\n              stackLen = f === 1 ? 2 * MAX_STACK_TO_STRING_LENGTH : stackLen;\n              rec.s.unshift(frame.substr(0, stackLen));\n              f += 1;\n            }\n          }\n\n          callee = this[_get](callee, 'caller');\n          i += 1;\n        }\n      }\n\n      return rec;\n    }\n  }, {\n    key: _getErrorMessage,\n    value: function value(exception, additionalInfo) {\n      var message = additionalInfo.m || additionalInfo.message || '';\n\n      if (exception.m && exception.m.message) {\n        message += exception.m.message;\n      } else if (exception.m && exception.m.target && exception.m.target.tagName) {\n        message += \"Error handler invoked by \".concat(exception.m.target.tagName, \" tag\");\n      } else if (exception.m) {\n        message += exception.m;\n      } else if (exception.message) {\n        message += exception.message;\n      } else {\n        message += 'Unknown error';\n      }\n\n      return message;\n    }\n  }, {\n    key: _get,\n    value: function value(obj, property) {\n      try {\n        return obj[property];\n      } catch (ignored) {\n        return '';\n      }\n    }\n    /**\n     * Reports JS error to the server by firing beacons to AAX pixel logs\n     * @param  {object} ex\n     * @return {void}\n     */\n\n  }, {\n    key: \"reportClientError\",\n    value: function reportClientError(ex) {\n      var message = this[_constructErrorMessage](ex);\n\n      var payload = {\n        adViewability: [{\n          error: message\n        }],\n        c: 'viewability',\n        api: 'MAPPVDO',\n        error: 1\n      };\n\n      if (this[_errorMessages].indexOf(message) !== -1) {\n        return;\n      }\n\n      this[_errorMessages].push(message);\n\n      this[_pixelQueue].firePixel(payload);\n    }\n  }]);\n\n  return ReportError;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ReportError);\n\n//# sourceURL=webpack:///./src/reportError.js?");

/***/ }),

/***/ "./src/utils.js":
/*!**********************!*\
  !*** ./src/utils.js ***!
  \**********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\n/**\n* Module to provide various utility APIs to all other modules\n* @module utils\n*/\nvar _omidAdapter = Symbol('_omidAdapter');\n\nvar _latencyMap = Symbol('_latencyMap');\n\nvar _getLatency = Symbol('_getLatency');\n\nvar _reportError = Symbol('_reportError');\n\nvar _adID = Symbol('_adID');\n\nvar _isWinPerf = Symbol('_isWinPerf'); // To check presence of Window.Performance API\n\n\nvar _isDte = Symbol('_isDte'); // To check presence of Date function\n\n\nvar Utils = function Utils(omidAdapter, reportError, adID) {\n  var _this = this;\n\n  _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, Utils);\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"checkWinPerfAPI\", function () {\n    return typeof window !== 'undefined' && window.performance && window.performance.mark && typeof window.performance.mark === 'function';\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"checkDateFunction\", function () {\n    return typeof Date === 'function';\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"startLatencyForParam\", function (param) {\n    try {\n      if (_this[_isWinPerf]) {\n        window.performance.mark(\"\".concat(param, \"Start\").concat(_this[_adID]));\n      } else if (_this[_latencyMap].get(\"\".concat(param, \"Start\").concat(_this[_adID])) === undefined) {\n        _this[_latencyMap].set(\"\".concat(param, \"Start\").concat(_this[_adID]), _this.getTimeStamp());\n      }\n    } catch (ex) {\n      _this[_reportError].reportClientError(ex);\n    }\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"endLatencyForParam\", function (param) {\n    if (_this[_isWinPerf]) {\n      window.performance.mark(\"\".concat(param, \"End\").concat(_this[_adID]));\n\n      if (window.performance.getEntriesByName(\"\".concat(param, \"Start\").concat(_this[_adID])).length !== 0) {\n        window.performance.measure(\"\".concat(param).concat(_this[_adID]), \"\".concat(param, \"Start\").concat(_this[_adID]), \"\".concat(param, \"End\").concat(_this[_adID]));\n      }\n    } else if (_this[_latencyMap].get(\"\".concat(param, \"Start\").concat(_this[_adID])) !== undefined) {\n      _this[_latencyMap].set(\"\".concat(param, \"End\").concat(_this[_adID]), _this.getTimeStamp());\n\n      _this.latencyMeasureQueue.push({\n        name: \"\".concat(param).concat(_this[_adID]),\n        duration: _this[_getLatency](param)\n      });\n    }\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"getTimeStamp\", function () {\n    if (_this[_isWinPerf]) {\n      return performance.now();\n    }\n\n    if (_this[_isDte]) {\n      return Date.now();\n    }\n\n    return undefined;\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, _getLatency, function (param) {\n    return _this[_latencyMap].get(\"\".concat(param, \"End\").concat(_this[_adID])) - _this[_latencyMap].get(\"\".concat(param, \"Start\").concat(_this[_adID]));\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"setTimeout\", function (cb, timeout) {\n    return _this[_omidAdapter].setTimeout(function () {\n      try {\n        cb();\n      } catch (ex) {\n        _this[_reportError].reportClientError(ex);\n      }\n    }, timeout);\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"setInterval\", function (cb, timeout) {\n    return _this[_omidAdapter].setInterval(function () {\n      try {\n        cb();\n      } catch (ex) {\n        _this[_reportError].reportClientError(ex);\n      }\n    }, timeout);\n  });\n\n  this[_omidAdapter] = omidAdapter;\n  this[_latencyMap] = new Map(); // Map to store timestamps that will be used to measure latency in case window.performance is not supported\n\n  this[_reportError] = reportError;\n  this[_isWinPerf] = this.checkWinPerfAPI(); // To indicate presence of window.performance API\n\n  this[_isDte] = this.checkDateFunction(); // To indicate presence of primitive Date function\n\n  this.latencyMeasureQueue = []; // Queue that will be used to store measured latencies in case Window APi is not supported\n\n  this[_adID] = adID;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Utils);\n\n//# sourceURL=webpack:///./src/utils.js?");

/***/ }),

/***/ "./src/videoViewability.js":
/*!*********************************!*\
  !*** ./src/videoViewability.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\n/**\n* Defines APIs specific to viewability determination for video Ads of an ad slot\n* @module videoViewability\n*/\nvar _omidAdapter = Symbol('_omidAdapter');\n\nvar _reportError = Symbol('_reportError');\n\nvar _videoEventCallback = Symbol('_videoEventCallback');\n\nvar _impressionEventCallback = Symbol('_impressionEventCallback');\n\nvar _geometryChangeEventCallback = Symbol('_geometryChangeEventCallback');\n\nvar _fractionInViewportOMSDK = Symbol('_fractionInViewportOMSDK');\n\nvar _handlePauseResume = Symbol('_handlePauseResume');\n\nvar _handleVolumeChange = Symbol('_handleVolumeChange');\n\nvar _handleStart = Symbol('_handleStart');\n\nvar _viewabilityChangeEventCb = Symbol('_viewabilityChangeEventCb');\n\nvar _setGroupmTimeCutOff = Symbol('_setGroupmTimeCutOff');\n\nvar _isPlayerMute = Symbol('_isPlayerMute');\n\nvar _hasGeometryData = Symbol('_hasGeometryData');\n\nvar _isAutoPlay = Symbol('_isAutoPlay');\n\nvar _isMute = Symbol('_isMute');\n\nvar _adDuration = Symbol('_adDuration');\n\nvar _isVideoOn = Symbol('_isVideoOn');\n\nvar _atfPixelFired = Symbol('_atfPixelFired');\n\nvar _isGeometrySet = Symbol('_isGeometrySet');\n\nvar VIDEO_EVENT = 'video';\nvar IMPRESSION_EVENT = 'impression';\nvar GEOMETRY_CHANGE_EVENT = 'geometryChange';\n\nvar VideoViewability = function VideoViewability(omidAdapter, reportError) {\n  var _this = this;\n\n  _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, VideoViewability);\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"initViewCompOMSDK\", function (atfSuccessCb, viewSuccessCb, viewabilityEventCb, setGeometryDataOMSDK, setGroupmTimeCutOff) {\n    try {\n      _this[_setGroupmTimeCutOff] = setGroupmTimeCutOff;\n      _this[_viewabilityChangeEventCb] = viewabilityEventCb;\n\n      _this[_omidAdapter].addEventListener(VIDEO_EVENT, function (event) {\n        return _this[_videoEventCallback](event);\n      });\n\n      _this[_omidAdapter].addEventListener(IMPRESSION_EVENT, function (event) {\n        return _this[_impressionEventCallback](event, atfSuccessCb, viewSuccessCb, setGeometryDataOMSDK);\n      });\n    } catch (ex) {\n      _this[_reportError].reportClientError(ex);\n    }\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"isAutoPlay\", function () {\n    return _this[_isAutoPlay];\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"isMute\", function () {\n    return _this[_isMute];\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"isVideoOn\", function () {\n    return _this[_isVideoOn];\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"getAdDuration\", function () {\n    return _this[_adDuration];\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, _handlePauseResume, function (event) {\n    _this[_isVideoOn] = event.type === 'resume';\n\n    _this[_viewabilityChangeEventCb](event.type);\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, _isPlayerMute, function (event) {\n    return event.data.deviceVolume === 0 || event.data.playerVolume === 0;\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, _handleStart, function (event) {\n    _this[_isVideoOn] = true;\n    _this[_adDuration] = event.data.duration * 1000;\n    _this[_isMute] = _this[_isPlayerMute](event);\n\n    _this[_setGroupmTimeCutOff](_this[_adDuration]);\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, _handleVolumeChange, function (event) {\n    _this[_isMute] = _this[_isPlayerMute](event);\n    var cbEvent = _this[_isMute] ? 'muteOn' : 'muteOff';\n\n    _this[_viewabilityChangeEventCb](cbEvent);\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, _hasGeometryData, function (event) {\n    return event && event.data && event.data.adView && event.data.adView.geometry && event.data.adView.geometry.width && event.data.viewport;\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, _videoEventCallback, function (event) {\n    try {\n      if (event.type === 'loaded') {\n        _this[_isAutoPlay] = event.data.autoPlay;\n      } else if (event.type === 'start') {\n        _this[_handleStart](event);\n      } else if (event.type === 'pause' || event.type === 'resume') {\n        _this[_handlePauseResume](event);\n      } else if (event.type === 'volumeChange') {\n        _this[_handleVolumeChange](event);\n      } else if (event.type === 'skipped') {\n        _this[_viewabilityChangeEventCb](event.type);\n      } else if (event.type === 'complete') {\n        _this[_viewabilityChangeEventCb](event.type);\n      }\n    } catch (ex) {\n      _this[_reportError].reportClientError(ex);\n    }\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, _fractionInViewportOMSDK, function (event, atfSuccessCb, viewSuccessCb, setGeometryDataOMSDK) {\n    if (!_this[_isGeometrySet] && _this[_hasGeometryData](event)) {\n      setGeometryDataOMSDK(event.data);\n      _this[_isGeometrySet] = true;\n    }\n\n    if (event && event.data && event.data.adView && typeof event.data.adView.percentageInView === 'number') {\n      var percentageInView = event.data.adView.percentageInView / 100;\n\n      if (!_this[_atfPixelFired]) {\n        _this[_atfPixelFired] = true;\n        atfSuccessCb(percentageInView);\n      } else {\n        viewSuccessCb(percentageInView);\n      }\n    }\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, _impressionEventCallback, function (event, atfSuccessCb, viewSuccessCb, setGeometryDataOMSDK) {\n    try {\n      _this[_omidAdapter].addEventListener(GEOMETRY_CHANGE_EVENT, function (evt) {\n        return _this[_geometryChangeEventCallback](evt, atfSuccessCb, viewSuccessCb, setGeometryDataOMSDK);\n      });\n\n      _this[_fractionInViewportOMSDK](event, atfSuccessCb, viewSuccessCb, setGeometryDataOMSDK);\n      /*\n      if (!this[_isGeometrySet] && this[_hasGeometryData](event)) {\n        setGeometryDataOMSDK(event.data);\n        this[_isGeometrySet] = true;\n      }\n      if (event && event.data && event.data.adView && event.data.adView.percentageInView) {\n        this[_atfPixelFired] = true;\n        const percentageInView = (event.data.adView.percentageInView) / 100;\n        atfSuccessCb(percentageInView);\n      }\n      */\n\n    } catch (ex) {\n      _this[_reportError].reportClientError(ex);\n    }\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, _geometryChangeEventCallback, function (event, atfSuccessCb, viewSuccessCb, setGeometryDataOMSDK) {\n    try {\n      _this[_fractionInViewportOMSDK](event, atfSuccessCb, viewSuccessCb, setGeometryDataOMSDK);\n      /*\n      if (!this[_isGeometrySet] && this[_hasGeometryData](event)) {\n        setGeometryDataOMSDK(event.data);\n        this[_isGeometrySet] = true;\n      }\n      if (event && event.data && event.data.adView && event.data.adView.percentageInView) {\n        const percentageInView = event.data.adView.percentageInView;\n        if (!this[_atfPixelFired]) {\n            this[_atfPixelFired] = true;\n            atfSuccessCb(percentageInView);\n        } else {\n            viewSuccessCb(percentageInView);\n        }\n      }\n      */\n\n    } catch (ex) {\n      _this[_reportError].reportClientError(ex);\n    }\n  });\n\n  this[_omidAdapter] = omidAdapter;\n  this[_reportError] = reportError;\n  this[_isAutoPlay] = false; // to determine whether an ad is autoplay\n\n  this[_isMute] = false; // To check if player or device is on Mute\n\n  this[_isVideoOn] = false; // To check if video is playing\n\n  this[_adDuration] = 0; // Duration of ad\n\n  this[_atfPixelFired] = false; // To check if atf pixel has been fired or not\n\n  this[_isGeometrySet] = false; // To check if geometry is set or not\n}\n/**\n* Method to subscribe to OMSDK events\n* @param {function} atfSuccessCb (percentageInView) Called After Calculation\n* @param {function} viewSuccessCb (percentageInView) Called After Calculation\n* @param {function} viewabilityEventCb (event_type) Called for any video event like pause, resume\n* @param {function} setGeometryDataOMSDK (geometryData) Called On impression event to set geometry data\n* @param {function} setGroupmTimeCutOff (duration) Called On Start event to set timeCutOff for GroupM\n* @return {void}\n*/\n;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (VideoViewability);\n\n//# sourceURL=webpack:///./src/videoViewability.js?");

/***/ }),

/***/ "./src/viewDuration.js":
/*!*****************************!*\
  !*** ./src/viewDuration.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\n/**\n* Module to fire view Duration pixels on given intervals\n* @moduel viewDuration\n*/\nvar _utils = Symbol('_utils');\n\nvar _reportError = Symbol('_reportError');\n\nvar _pixelQueue = Symbol('_pixelQueue');\n\nvar _omidAdapter = Symbol('_pixelQueue');\n\nvar _checkAndReportDuration = Symbol('_checkAndReportDuration');\n\nvar _vd = Symbol('_vd');\n\nvar ViewDuration = function ViewDuration(omidAdapter, utils, reportError, pixelQueue) {\n  var _this = this;\n\n  _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, ViewDuration);\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"visHandler\", function () {\n    if (!_this[_vd].visible) {\n      _this[_vd].startTs = _this[_utils].getTimeStamp();\n      _this[_vd].latestTs = _this[_utils].getTimeStamp();\n      _this[_vd].setIntervalHandler = _this[_utils].setInterval(function () {\n        _this[_checkAndReportDuration]();\n      }, 1000);\n    }\n\n    _this[_vd].visible = true;\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"invHandler\", function () {\n    if (_this[_vd].visible) {\n      _this[_vd].totalDuration += _this[_utils].getTimeStamp() - _this[_vd].latestTs;\n\n      _this[_omidAdapter].clearInterval(_this[_vd].setIntervalHandler);\n    }\n\n    _this[_vd].visible = false;\n  });\n\n  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, _checkAndReportDuration, function () {\n    try {\n      if (_this[_vd].visible) {\n        var currDuration = _this[_utils].getTimeStamp() - _this[_vd].startTs;\n\n        while (_this[_vd].pCount < _this[_vd].pixelReportTime.length && currDuration >= _this[_vd].pixelReportTime[_this[_vd].pCount]) {\n          _this[_vd].latestTs = _this[_utils].getTimeStamp();\n          _this[_vd].totalDuration += currDuration;\n\n          _this[_pixelQueue].addPixel({\n            vdr: currDuration.toFixed(2),\n            tdr: _this[_vd].totalDuration.toFixed(2)\n          });\n\n          _this[_vd].pCount += 1;\n        }\n\n        if (_this[_vd].pCount >= _this[_vd].pixelReportTime.length) {\n          _this[_omidAdapter].clearInterval(_this[_vd].setIntervalHandler);\n        }\n      }\n    } catch (ex) {\n      _this[_reportError].reportClientError(ex);\n    }\n  });\n\n  this[_omidAdapter] = omidAdapter;\n  this[_utils] = utils;\n  this[_reportError] = reportError;\n  this[_pixelQueue] = pixelQueue;\n  this[_vd] = {\n    startTs: 0,\n    // Timestamp for the start of interval\n    latestTs: 0,\n    // Timestamp for the last time when calculated duration was added to total duration\n    totalDuration: 0,\n    // Total duration for which the add was viewed\n    visible: false,\n    // To check current status of viewability\n    pixelReportTime: [2000, 4000, 8000, 16000],\n    // Intervals on which pixels should get fired\n    setIntervalHandler: null,\n    pCount: 0 // Pixels fired so far\n\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ViewDuration);\n\n//# sourceURL=webpack:///./src/viewDuration.js?");

/***/ })

/******/ });