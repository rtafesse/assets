!function o(s,u,a){function f(i,e){if(!u[i]){if(!s[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(c)return c(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var r=u[i]={exports:{}};s[i][0].call(r.exports,function(e){var t=s[i][1][e];return f(t||e)},r,r.exports,o,s,u,a)}return u[i].exports}for(var c="function"==typeof require&&require,e=0;e<a.length;e++)f(a[e]);return f}({1:[function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<i;t++)for(var o=arguments[t],s=0,u=o.length;s<u;s++,r++)n[r]=o[s];return n};Object.defineProperty(i,"__esModule",{value:!0}),i.NativeWebBridge=void 0;var s=e(12),u=e(9),a={onScrollChange:"scrollOffset",onViewportSizeChange:"viewportSize",onWidgetSizeChange:"widgetSize",onWidgetReadyForDisplayChange:"readyForDisplay",onMediaPermissionsChanged:"mediaPermissionsChanged"},r=function(){function e(e){var r=this;this.notifier=new s.default,this.subscriptions=new Set,this.updateValueStore=new Map,this._displayReady=!1,this.isBrowser=!1,this.displayData={readyForDisplay:!1,viewportSize:{width:0,height:0},widgetSize:{width:0,height:0},scrollOffset:0},this.sendUpdate=function(e,t){var i=u.default(t);r.storeUpdateValue(e,i),r.notify(e,[i]),r.validateDisplayReady()},this.handleResponse=function(e,t,i){r.context.handleResponse(e,t,i)},this.subscribe=function(e){var t=r.notifier.subscribe(e);return r.notifyExistingSubscriptions(Object.keys(e)),r.subscribeToObserverKeys(r.notifier.getAllObserverKeys()).then(function(){}).catch(function(e){console.warn("NativeWebBridge.subscribe() error",e)}),t},this.unsubscribe=function(e){return r.notifier.unsubscribe(e)},this.getScreenSize=function(){return r.context.sendRequest("getScreenSize")},this.getViewportSize=function(){return r.context.sendRequest("getViewportSize")},this.getWidgetSize=function(){return r.context.sendRequest("getWidgetSize")},this.getTheme=function(){return r.context.sendRequest("getTheme")},this.getPlatform=function(){return r.context.sendRequest("getPlatform")},this.getIsUserLoggedIn=function(){return r.context.sendRequest("getIsUserLoggedIn")},this.getWatchlistStatus=function(e){return r.context.sendRequest("getWatchlistStatus",{tconst:e})},this.setAllowHorizontalScroll=function(){return r.context.sendRequest("setAllowHorizontalScroll")},this.setWidgetAspectRatio=function(n){return"number"!=typeof n||n<=0?new Promise(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e[1]({type:"invalidValue",message:"setWidgetAspectRatio can not be less than or equal to zero - [aspectRatio argument = "+n+"]"})}):new Promise(function(t,i){r.context.sendRequest("setWidgetAspectRatio",{aspectRatio:n}).then(function(e){r.notify("onWidgetSizeChange",[e]),t(e)}).catch(function(e){i(e)})})},this.subscribeToScrollChanges=function(e){return void 0===e&&(e=!0),r.addSubscription("subscribeToScrollChanges",{realtime:e})},this.unsubscribeFromScrollChanges=function(){return r.removeSubscription("unsubscribeFromScrollChanges")},this.addToWatchlist=function(e){return r.context.sendRequest("addToWatchlist",{tconst:e})},this.removeFromWatchlist=function(e){return r.context.sendRequest("removeFromWatchlist",{tconst:e})},this.playVideoWithTrackers=function(e,t){return r.context.sendRequest("playVideoWithTrackers",{videoId:e,trackers:t})},this.broadcastAction=function(i){return"string"!=typeof i?new Promise(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e[1]({type:"invalidValue",data:"NativeWebBridge.broadcastAction() must be a string. Argument is : "+(void 0===i?"undefined":n(i))})}):r.context.sendRequest("broadcastAction",{data:i})},this.getCurrentlyPlayingAsset=function(){return r.context.sendRequest("getCurrentlyPlayingAsset")},this.requestPlayback=function(e){return r.context.sendRequest("requestPlayback",e)},this.setMediaPlay=function(e){return r.context.sendRequest("setMediaPlay",e)},this.setMediaPaused=function(e){return r.context.sendRequest("setMediaPaused",e)},this.setMediaEnded=function(e){return r.context.sendRequest("setMediaEnded",e)},this.addSubscription=function(e){for(var t,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];return r.subscriptions.has(e)?new Promise(function(e){e()}):(r.subscriptions.add(e),(t=r.context).sendRequest.apply(t,o([e],i)))},this.notify=function(e){for(var t,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];(t=r.notifier).notify.apply(t,o([e],i))},this.removeSubscription=function(e){return r.subscriptions.has(e)?(r.subscriptions.delete(e),r.context.sendRequest(e)):new Promise(function(e){e()})},this.notifyExistingSubscriptions=function(e){e.forEach(function(e){r.updateValueStore.has(a[e])&&r.notify(e,[r.updateValueStore.get(a[e])])})},this.subscribeToWidgetSizeChanges=function(){return r.addSubscription("subscribeToWidgetSizeChanges")},this.subscribeToViewportSizeChanges=function(){return r.addSubscription("subscribeToViewportSizeChanges")},this.subscribeToBroadcasts=function(){return r.addSubscription("subscribeToBroadcasts")},this.subscribeToWidgetReadyForDisplayChanges=function(){return r.addSubscription("subscribeToWidgetReadyForDisplayChanges")},this.subscribeToMediaNotifications=function(){return r.addSubscription("subscribeToMediaNotifications")},this.subscribeToDisplayReady=function(){var i=[r.subscribeToViewportSizeChanges(),r.subscribeToWidgetSizeChanges(),r.subscribeToScrollChanges(),r.subscribeToWidgetReadyForDisplayChanges()];return new Promise(function(e,t){Promise.all(i).then(function(){e()}).catch(function(e){t({reason:e})})})},this.subscribeToObserverKeys=function(e){var i=[];return e.forEach(function(e){switch(e){case"onWidgetReadyForDisplayChange":i.push(r.subscribeToWidgetReadyForDisplayChanges());break;case"onScrollChange":i.push(r.subscribeToScrollChanges());break;case"onWidgetSizeChange":i.push(r.subscribeToWidgetSizeChanges());break;case"onViewportSizeChange":i.push(r.subscribeToViewportSizeChanges());break;case"onBroadcastAction":i.push(r.subscribeToBroadcasts());break;case"onDisplayReady":i.push(r.subscribeToDisplayReady());break;case"onMediaPermissionsChanged":i.push(r.subscribeToMediaNotifications())}}),new Promise(function(e,t){Promise.all(i).then(function(){e(!0)}).catch(function(e){t(e)})})},this.storeUpdateValue=function(e,t){if("string"==typeof a[e])switch(r.updateValueStore.set(a[e],t),e){case"displayReady":r.displayData.readyForDisplay=t;break;case"widgetSize":r.displayData.widgetSize=t;break;case"viewportSize":r.displayData.viewportSize=t;break;case"scrollOffset":r.displayData.scrollOffset=t}},this.validateDisplayReady=function(){if(!r.displayReady){var e=r.updateValueStore;e.has("viewportSize")&&e.has("widgetSize")&&e.has("scrollOffset")&&e.has("readyForDisplay")&&e.get("readyForDisplay")&&(r._displayReady=!0,r.displayData.readyForDisplay=e.get("readyForDisplay"),r.displayData.viewportSize=e.get("viewportSize"),r.displayData.widgetSize=e.get("widgetSize"),r.displayData.scrollOffset=e.get("scrollOffset"),r.notifier.notify("onDisplayReady",[r.displayData]))}},this.context=e,this.context.isBrowser&&(this.isBrowser=!0,this.context.updateMethod=this.sendUpdate)}return Object.defineProperty(e.prototype,"displayReady",{get:function(){return this._displayReady},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.context.element},set:function(e){this.context.element=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.context.root},set:function(e){this.context.root=e},enumerable:!1,configurable:!0}),e}();i.NativeWebBridge=r,i.default=r},{12:12,9:9}],2:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.IntersectionElement=void 0;var n=e(11),o=e(10),s=e(12),d=e(6),u=e(3),r=function(){function e(e,t){var i,c,h,r=this;void 0===t&&(t={}),this.offsetRect=new o.default(0,0,1,1),this.lastOffset=new n.default(0,0),this.notifier=new s.default,this._offset=new n.default(0,0),this._direction=new n.default(0,0),this._offsetVelocity=new n.default(0,0),this._size=new o.default(0,0,1,1),this._containerSize=new o.default(0,0,1,1),this.setIntersectionProvider=function(e){e.observer={offsetChange:r.offsetChange,sizeChange:r.sizeChange,containerSizeChange:r.containerSizeChange},r._provider=new u.default(e)},this.clear=function(){r.thresholds.forEach(function(e){return e.entry.clear()}),r.notifier.clear()},this.subscribe=function(e){return r.notifier.subscribe(e)},this.unsubscribe=function(e){return r.notifier.subscribe(e)},this.notify=function(e,t){r.notifier.notify(e,[t])},this.offsetChange=function(e){var t=r._offset;r._offsetVelocity.copy(r._offset),r._offset.set(e.x,e.y),r._offsetVelocity.subtractVectors(r._offset,r._offsetVelocity),r.offsetRect.x=r.offset.x,r.offsetRect.y=r.offset.y,r.updateDirection(),r.updateOffset(),t.x===r.offset.x&&t.y===r.offset.y||r.notify("offsetChange",r.offset)},this.sizeChange=function(e){var t=r._size;r._size.width=e.width,r._size.height=e.height,r.offsetRect.width=r.size.width,r.offsetRect.height=r.size.height,r.updateSize(),t.width===r.size.width&&t.height===r.size.height||r.notify("sizeChange",r.size)},this.containerSizeChange=function(e){var t=r._containerSize;r._containerSize.width=e.width,r._containerSize.height=e.height,r.updateContainerSize(),t.width===r.containerSize.width&&t.height===r.containerSize.height||r.notify("containerSizeChange",r.containerSize)},this.updateSize=function(){r.thresholds.forEach(function(e){e.entry.size={width:r.size.width,height:r.size.height}})},this.updateContainerSize=function(){r.thresholds.forEach(function(e){e.entry.containerSize={width:r.containerSize.width,height:r.containerSize.height}})},this.updateOffset=function(){r.thresholds.forEach(function(e){e.entry.offset={x:r.offset.x,y:r.offset.y}})},this.updateDirection=function(){var e=r.lastOffset,t=r.offset,i=r.direction.x,n=r.direction.y;r._direction.x=t.x<e.x?-1:t.x>e.x?1:i,r._direction.y=t.y<e.y?-1:t.y>e.y?1:n,r.lastOffset.copy(r._offset),i===r.direction.x&&n===r.direction.y||r.notify("directionChange",r.direction)},this.thresholds=(i=e,c=this,h=new Set,i.forEach(function(e){var t=e.thresholds,i=e.start,n=e.end,r=e.callback,o=e.offsetCallback;if(r||o){var s,u;void 0!==i?s=l(i):void 0!==t?s=l(t):(s=l(0),console.warn("Threshold Created without `threshold` or `thresholdStart` value. Inferring thresholdStart = {x:0, y:0}")),void 0!==n?u=l(n):void 0!==t?u=l(t):(u=l(0),console.warn("Threshold Created without `threshold` or `thresholdEnd` value. Inferring thresholdEnd = {x:0, y:0}"));var a=new d.default(s,u),f={};r&&(f.intersectionChange=function(e){r(e,c)}),o&&(f.offsetChange=function(e){o(e,c)}),a.subscribe(f),h.add({entry:a,observer:f})}else console.warn("Threshold [thresholds:"+t+", start:"+JSON.stringify(i)+", end:"+JSON.stringify(n)+"] must have a callback or offsetCallback defined to be applied")}),h),this.meta=t,this.createdTime=performance.now()}return Object.defineProperty(e.prototype,"provider",{get:function(){return this._provider},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetVelocity",{get:function(){return this._offsetVelocity},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this._offset},set:function(e){this.offsetChange(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(e){this.sizeChange(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"containerSize",{get:function(){return this._containerSize},set:function(e){this.containerSizeChange(e)},enumerable:!1,configurable:!0}),e}();function l(e){return"number"==typeof e?new n.default(e,e):new n.default(e.x,void 0!==e.y?e.y:e.x)}i.IntersectionElement=r,i.default=r},{10:10,11:11,12:12,3:3,6:6}],3:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.IntersectionProvider=void 0;var n=e(12),r=e(4),o=e(5),s=function(){function e(e){var i=this;if(this.notifier=new n.default,this._containerSize={width:0,height:0},this._size={width:0,height:0},this.subscribe=function(e){return i.notifier.subscribe(e)},this.unsubscribe=function(e){return i.notifier.unsubscribe(e)},this.notify=function(e,t){i.notifier.notify(e,[t])},e.observer&&this.subscribe(e.observer),e.nwb)o.default(e,this);else{if(!e.element||!e.rootElement)throw new Error("IntersectionProvider does not have correct parameters ");r.default(e,this)}}return Object.defineProperty(e.prototype,"containerSize",{get:function(){return this._containerSize},set:function(e){var t=this.containerSize;this._containerSize=e,this.containerSize.width===t.width&&this.containerSize.height===t.height||this.notify("containerSizeChange",this.containerSize)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(e){var t=this.size;this._size=e,this.size.width===t.width&&this.size.height===t.height||this.notify("sizeChange",this.size)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this._offset},set:function(e){if(void 0===this._offset)this._offset={x:e.x,y:e.y},this.notify("offsetChange",this.offset);else{var t=this.offset.x,i=this.offset.y;this._offset.x=e.x,this._offset.y=e.y,t===this.offset.x&&i===this.offset.y||this.notify("offsetChange",this.offset)}},enumerable:!1,configurable:!0}),e}();i.IntersectionProvider=s,i.default=s},{12:12,4:4,5:5}],4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var c=e(11),h=e(15),d=Math.round(1e3/60),n=function(e,t){var i=this;this.elementOffset=new c.default,this.scrollOffset=new c.default,this.offset=new c.default,this.destroy=function(){i.intersectionObserver.unobserve(i.element)},this.addScrollListener=function(){i.rootElement?i.rootElement.addEventListener("scroll",i.scroll):i.window&&i.window.addEventListener("scroll",i.scroll),i.provider.offset=i.offset},this.removeScrollListener=function(){i.rootElement?i.rootElement.removeEventListener("scroll",i.scroll):i.window&&i.window.removeEventListener("scroll",i.scroll),i.provider.offset=i.offset},this.intersectionObserverCallback=function(e){e[0].isIntersecting?i.addScrollListener():i.removeScrollListener()},this.scrollHandler=function(e){i.calculateOffset(e.target)},this.calculateOffset=function(e){i.scrollOffset.x=e.scrollLeft,i.scrollOffset.y=e.scrollTop,i.provider.offset=i.offset.subtractVectors(i.elementOffset,i.scrollOffset)},this.resizeHandler=function(){if(i.rootElement){var e=i.rootElement.getBoundingClientRect();i.provider.containerSize={width:e.width,height:e.height}}else i.window&&(i.provider.containerSize={width:i.window.innerWidth,height:i.window.innerHeight});var t=i.element.getBoundingClientRect();i.provider.size={width:t.width,height:t.height}};var n=e.fps&&e.fps>=d?e.fps:d,r={threshold:[0]};if(this.provider=t,this.resize=h(this.resizeHandler,n),this.scroll=h(this.scrollHandler,n),!e.element)throw new Error("Element IntersectionProvider requires an element definition in its config");this.element=e.element;var o=this.element.getBoundingClientRect();if(this.provider.size={width:o.width,height:o.height},e.rootElement){this.rootElement=e.rootElement;var s=this.rootElement.getBoundingClientRect();this.provider.containerSize={width:s.width,height:s.height},r.root=this.rootElement;var u=l(this.element,this.rootElement),a=u.x,f=u.y;this.elementOffset.set(a,f),this.calculateOffset(e.rootElement)}e.window&&(this.window=e.window,this.provider.containerSize={width:this.window.innerWidth,height:this.window.innerHeight},this.window.addEventListener("resize",this.resize)),e.rootMargin&&(r.rootMargin=e.rootMargin),this.intersectionObserver=new IntersectionObserver(this.intersectionObserverCallback,r),this.intersectionObserver.observe(this.element)},l=function(e,t){for(var i=0,n=0;e&&e!==t;)i+=e.offsetLeft-e.scrollLeft+e.clientLeft,n+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{x:i,y:n}};i.default=function(e,t){return new n(e,t)}},{11:11,15:15}],5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,i){var t=e.nwb;e.element&&(t.element=e.element,t.root=e.window),t.subscribe({onViewportSizeChange:function(e){i.containerSize=e},onWidgetSizeChange:function(e){i.size=e},onScrollChange:function(e){var t;i.offset={x:(null===(t=i.offset)||void 0===t?void 0:t.x)||0,y:e}}})}},{}],6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.IntersectionThreshold=void 0;var r=e(10),o=e(12),s=e(14),n=function(){function e(e,t){var n=this;this.notifier=new o.default,this.thresholdSize=new r.default(0,0,1,1),this._size={width:0,height:0},this._containerSize={width:0,height:0},this._ratio={x:0,y:0},this._start={x:0,y:0},this._end={x:0,y:0},this.subscribe=function(e){return n.notifier.subscribe(e)},this.unsubscribe=function(e){return n.notifier.unsubscribe(e)},this.clear=function(){n.notifier.clear()},this.update=function(e,t,i){n._offset=i,n._size=e,n._containerSize=t,n.updateSize()},this.updateSize=function(){n.thresholdSize.x=0<n.size.width?Math.round(-n.size.width*(1-n.start.x)):0,n.thresholdSize.y=0<n.size.height?Math.round(-n.size.height*(1-n.start.y)):0,n.thresholdSize.width=Math.round(n.containerSize.width-n.thresholdSize.x-n.size.width*n.end.x),n.thresholdSize.height=Math.round(n.containerSize.height-n.thresholdSize.y-n.size.height*n.end.y),n.offset&&n.updateOffset()},this.updateOffset=function(){var e=n.intersecting,t=s.default(n.offset.x,n.thresholdSize.x,n.thresholdSize.right),i=s.default(n.offset.y,n.thresholdSize.y,n.thresholdSize.bottom);n.ratio.x=isNaN(t)?0:t,n.ratio.y=isNaN(i)?0:i,0<n.containerSize.height&&0<n.size.height&&(n._intersecting=0<=n.ratio.x&&n.ratio.x<=1&&0<=n.ratio.y&&n.ratio.y<=1),e!==n.intersecting&&n.notify("intersectionChange",n),n.intersecting&&n.notify("offsetChange",n)},this.notify=function(e,t){return n.notifier.notify(e,[t])},this._start=e,this._end=void 0!==t?t:e}return Object.defineProperty(e.prototype,"intersecting",{get:function(){return this._intersecting},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this._start},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ratio",{get:function(){return this._ratio},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(e){var t=this.size;this._size=e,t.width===e.width&&t.height===e.height||this.updateSize()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"containerSize",{get:function(){return this._containerSize},set:function(e){var t=this.containerSize;this._containerSize=e,t.width===e.width&&t.height===e.height||this.updateSize()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this._offset},set:function(e){if(void 0===this._offset)this._offset={x:e.x,y:e.y},this.updateOffset();else{var t=this.offset.x,i=this.offset.y;this._offset.x=e.x,this._offset.y=e.y,t===this.offset.x&&i===this.offset.y||this.updateOffset()}},enumerable:!1,configurable:!0}),e}();i.IntersectionThreshold=n,i.default=n},{10:10,12:12,14:14}],7:[function(e,t,i){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(i,"__esModule",{value:!0});var f=e(8),o=e(9),n=function(){function e(){var u=this;this.promiseMap=new Map,this.isIOS=e.isIOS(),this.isAndroid=e.isAndroid(),this.sendRequest=function(o,s){return void 0===s&&(s=null),new Promise(function(e,t){var i=f.default();try{if(u.promiseMap.set(i,{key:o,resolve:e,reject:t}),u.isIOS){var n={key:o,data:s,uuid:i};window.webkit.messageHandlers.nativeRequest.postMessage(n)}else{if(!u.isAndroid)throw new Error("could not find a Native Request handler");var r="object"===(void 0===s?"undefined":a(s))?JSON.stringify(s):s;window.NativeWebBridgeAndroid.sendRequest(o,i,r)}}catch(e){u.promiseMap.delete(i),t({type:"native",error:e})}})},this.handleResponse=function(e,t,i){var n,r=u.promiseMap.get(e);r?i?r.reject({type:"native",error:i}):"string"==typeof t?(n=o.default(t),r.resolve(n)):r.resolve(t):console.warn("promise id "+e+" not found"),u.promiseMap.delete(e)}}return e.hasAppContext=function(){return e.isIOS()||e.isAndroid()},e.isIOS=function(){return void 0!==window.webkit&&void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.nativeRequest&&"function"==typeof window.webkit.messageHandlers.nativeRequest.postMessage},e.isAndroid=function(){return void 0!==window.NativeWebBridgeAndroid&&void 0!==window.NativeWebBridgeAndroid.sendRequest},e}();i.default=n},{8:8,9:9}],8:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=/[xy]/g;i.default=function(){var i=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(n,function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"==e?t:3&t|8).toString(16)})}},{}],9:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t){var i=t;try{i=JSON.parse(t)}catch(e){i=t}return i}},{}],10:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Rectangle=void 0;var n=e(13),r=function(){function e(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this._x=0,this._y=0,this._width=1,this._height=1;var n=function(e,t){void 0===t&&(t=[]);var i={x:0,y:0,width:1,height:1},n={};"object"==typeof e?n=e:(n.x=e,n.y=void 0!==t[0]?t[0]:i.y,n.width=void 0!==t[1]?t[1]:i.width,n.height=void 0!==t[2]?t[2]:i.height);return i.x=void 0!==n.left?n.left:i.x,i.x=void 0!==n.l?n.l:i.x,i.x=void 0!==n.x?n.x:i.x,i.y=void 0!==n.top?n.top:i.y,i.y=void 0!==n.t?n.t:i.y,i.y=void 0!==n.y?n.y:i.y,i.width=void 0!==n.w?n.w:i.width,i.width=void 0!==n.width?n.width:i.width,i.height=void 0!==n.h?n.h:i.height,i.height=void 0!==n.height?n.height:i.height,i}(e,t);this.updateSize=function(){}.bind(this),this.updatePosition=function(){}.bind(this),this.x="number"==typeof n.x?n.x:this._x,this.y="number"==typeof n.y?n.y:this._y,this.width="number"==typeof n.width?n.width:this._width,this.height="number"==typeof n.height?n.height:this._height}return e.isRectangle=function(e){return s(e.x)&&s(e.y)&&o(e.width)&&o(e.height)},e.prototype.toString=function(){return"Rectangle x:"+this.x+", y:"+this.y+", w:"+this.w+", h:"+this.h},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(e){if(!o(e))throw"number"==typeof e&&e<0?new Error("Rectangle set width failed, '"+e+"' is < 0"):new Error("Rectangle set width failed, '"+e+"' is not numeric");this._width=e,this.updateSize()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"w",{get:function(){return this.width},set:function(e){this.width=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(e){if(!o(e))throw"number"==typeof e&&e<0?new Error("Rectangle set height failed, '"+e+"' is < 0"):new Error("Rectangle set height failed, '"+e+"' is not numeric");this._height=e,this.updateSize()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"h",{get:function(){return this.height},set:function(e){this.height=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){if(!s(e))throw new Error("Rectangle set x failed, '"+e+"' is not numeric");this._x=e,this.updatePosition()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},set:function(e){this.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"l",{get:function(){return this.x},set:function(e){this.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){if(!s(e))throw new Error("Rectangle set y failed, '"+e+"' is not numeric");this._y=e,this.updatePosition()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},set:function(e){this.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"t",{get:function(){return this.y},set:function(e){this.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},set:function(e){if(!s(e))throw new Error("Rectangle set right failed, '"+e+"' is not numeric");this._x=e-this.width,this.updatePosition()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"r",{get:function(){return this.right},set:function(e){this.right=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},set:function(e){if(!s(e))throw new Error("Rectangle set bottom failed, '"+e+"' is not numeric");this._y=e-this.height,this.updatePosition()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this.bottom},set:function(e){this.bottom=e},enumerable:!1,configurable:!0}),e}();function o(e){return n.default(e)&&0<=e}function s(e){return n.default(e)}i.Rectangle=r,i.default=r},{13:13}],11:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Vector=void 0;var n=function(){function n(e,t,i){var r=this;void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),this.x=0,this.y=0,this.z=0,this.set=function(e,t,i){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),r.x=e,r.y=t,r.z=i,r},this.toString=function(e){return void 0===e&&(e=-1),"Vector x:"+(-1<e?r.x.toFixed(e):r.x)+", y:"+(-1<e?r.y.toFixed(e):r.y)+", z:"+(-1<e?r.z.toFixed(e):r.z)},this.reset=function(){return r.set()},this.clone=function(){return new n(r.x,r.y,r.z)},this.copy=function(e){return r.x=e.x,r.y=e.y,r.z=e.z,r},this.round=function(){return r.set(Math.round(r.x),Math.round(r.y),Math.round(r.z))},this.add=function(e){return r.x+=e.x,r.y+=e.y,r.z+=e.z,r},this.addVectors=function(e,t){return r.x=e.x+t.x,r.y=e.y+t.y,r.z=e.z+t.z,r},this.addScalar=function(e){return r.x+=e,r.y+=e,r.z+=e,r},this.subtract=function(e){return r.x-=e.x,r.y-=e.y,r.z-=e.z,r},this.subtractVectors=function(e,t){return r.x=e.x-t.x,r.y=e.y-t.y,r.z=e.z-t.z,r},this.subtractScalar=function(e){return r.x-=e,r.y-=e,r.z-=e,r},this.multiply=function(e){return r.x*=e.x,r.y*=e.y,r.z*=e.z,r},this.multiplyVectors=function(e,t){return r.x=e.x*t.x,r.y=e.y*t.y,r.z=e.z*t.z,r},this.multiplyScalar=function(e){return r.x*=e,r.y*=e,r.z*=e,r},this.divide=function(e){return r.x/=e.x,r.y/=e.y,r.z/=e.z,r},this.divideVectors=function(e,t){return r.x=e.x/t.x,r.y=e.y/t.y,r.z=e.z/t.z,r},this.divideScalar=function(e){return r.x/=e,r.y/=e,r.z/=e,r},this.cross=function(e){var t=r.x,i=r.y,n=r.z;return r.x=i*e.z-n*e.y,r.y=n*e.x-t*e.z,r.y=t*e.y-i*e.x,r},this.crossVectors=function(e,t){return r.x=e.y*t.z-e.z*t.y,r.y=e.z*t.x-e.x*t.z,r.y=e.x*t.y-e.y*t.x,r},this.min=function(e){return r.x=r.x<e.x?e.x:r.x,r.y=r.y<e.y?e.y:r.y,r.z=r.z<e.z?e.z:r.z,r},this.max=function(e){return r.x=r.x>e.x?e.x:r.x,r.y=r.y>e.y?e.y:r.y,r.z=r.z>e.z?e.z:r.z,r},this.clamp=function(e,t){return r.min(e).max(t)},this.negate=function(){return r.multiplyScalar(-1)},this.normalize=function(){return r.length<1?r:r.divideScalar(r.length)},this.limit=function(e,t){var i=r.length;return i<e?r.setLength(e):t<i&&r.setLength(t),r},this.distanceSquared=function(e){var t=r.x-e.x,i=r.y-e.y,n=r.z-e.z;return t*t+i*i+n*n},this.distance=function(e){return Math.sqrt(r.distanceSquared(e))},this.setLength=function(e){var t=r.length;return 0!==t&&e!==t&&r.multiplyScalar(e/t),r},this.dot=function(e){return r.x*e.x+r.y*e.y+r.z*e.z},this.dotVectors=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z},this.angleTo=function(e){return Math.atan2(r.x-e.x,r.y-e.y)},this.interpolateTo=function(e,t){return void 0===t&&(t=.5),r.x=r.x+(e.x-r.x)*t,r.y=r.y+(e.y-r.y)*t,r.z=r.z+(e.z-r.z)*t,r},this.interpolateVectors=function(e,t,i){return void 0===i&&(i=.5),r.x=e.x+(t.x-e.x)*i,r.y=e.y+(t.y-e.y)*i,r.z=e.z+(t.z-e.z)*i,r},this.x=e,this.y=t,this.z=i}return Object.defineProperty(n.prototype,"raw",{get:function(){return{x:this.x,y:this.y,z:this.z}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"length",{get:function(){return Math.sqrt(this.lengthSquared)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lengthSquared",{get:function(){return this.x*this.x+this.y*this.y+this.z*this.z},enumerable:!1,configurable:!0}),n.create=function(e){return new n(e.x,e.y,e.z)},n.distance=function(e,t){var i=t.x-e.x,n=t.y-e.y,r=t.z-e.z;return Math.sqrt(i*i+n*n+r*r)},n}();i.Vector=n,i.default=n},{}],12:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(e){var n=this;if(void 0===e&&(e=[]),this.observers=[],this.clear=function(){for(var e=n.observers.length-1;0<e;e--)n.observers.splice(e,1)},this.notify=function(t,i){"string"==typeof t&&n.observers.forEach(function(e){n.notifyObserver(e,t,i)})},this.notifyObserver=function(e,t,i){e&&"object"==typeof e&&e[t]&&"function"==typeof e[t]&&e[t].apply(e,i)},this.subscribe=function(e){return!(!e||"object"!=typeof e||-1!==n.observers.indexOf(e)||(n.observers.push(e),0))},this.unsubscribe=function(e){var t=n.observers.indexOf(e);return!(!e||-1===t||(n.observers.splice(t,1),0))},this.getAllObserverKeys=function(){var t=new Set;return n.observers.forEach(function(e){Object.keys(e).forEach(function(e){t.add(e)})}),t},!(e instanceof Array))throw new TypeError("Notifiers should be instantiated with either an Array of observers or no argument at all. Received "+e);this.clear(),e.forEach(function(e){return n.subscribe(e)})};i.default=n},{}],13:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e){return!Number.isNaN(parseFloat(e))&&Number.isFinite(e)}},{}],14:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t,i){return(e-t)/(i-t)}},{}],15:[function(e,r,t){(function(e){var v="Expected a function",o=NaN,s="[object Symbol]",u=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,c=/^0o[0-7]+$/i,h=parseInt,t="object"==typeof e&&e&&e.Object===Object&&e,i="object"==typeof self&&self&&self.Object===Object&&self,n=t||i||Function("return this")(),d=Object.prototype.toString,w=Math.max,x=Math.min,z=function(){return n.Date.now()};function l(n,r,e){var o,s,u,a,f,c,h=0,d=!1,l=!1,t=!0;if("function"!=typeof n)throw new TypeError(v);function y(e){var t=o,i=s;return o=s=void 0,h=e,a=n.apply(i,t)}function p(e){var t=e-c;return void 0===c||r<=t||t<0||l&&u<=e-h}function b(){var e,t,i=z();if(p(i))return g(i);f=setTimeout(b,(t=r-((e=i)-c),l?x(t,u-(e-h)):t))}function g(e){return f=void 0,t&&o?y(e):(o=s=void 0,a)}function i(){var e,t=z(),i=p(t);if(o=arguments,s=this,c=t,i){if(void 0===f)return h=e=c,f=setTimeout(b,r),d?y(e):a;if(l)return f=setTimeout(b,r),y(c)}return void 0===f&&(f=setTimeout(b,r)),a}return r=S(r)||0,m(e)&&(d=!!e.leading,u=(l="maxWait"in e)?w(S(e.maxWait)||0,r):u,t="trailing"in e?!!e.trailing:t),i.cancel=function(){void 0!==f&&clearTimeout(f),o=c=s=f=void(h=0)},i.flush=function(){return void 0===f?a:g(z())},i}function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function S(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||(i=t)&&"object"==typeof i&&d.call(t)==s)return o;var t,i;if(m(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=m(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(u,"");var r=f.test(e);return r||c.test(e)?h(e.slice(2),r?2:8):a.test(e)?o:+e}r.exports=function(e,t,i){var n=!0,r=!0;if("function"!=typeof e)throw new TypeError(v);return m(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),l(e,t,{leading:n,maxWait:t,trailing:r})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(e,t,i){"use strict";var n=o(e(1)),r=o(e(7));function o(e){return e&&e.__esModule?e:{default:e}}window.NativeWebBridge=new n.default(new r.default)},{1:1,7:7}],17:[function(e,t,i){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};e(16);var r,o=e(2),s=(r=o)&&r.__esModule?r:{default:r};var u=null,a=null,f=null,c=null,h=null,d=!1,l={atf:!1,viewable:!1},y="atf",p="viewable",b={atf:"atf",viewable:"v"},g=function(e){if(!l[e]){l[e]=!0;var t={},i=b[e];switch(e){case y:t.atf=d;break;case p:t.v={p:.5,t:1,def:"iab"},t.left=0,t.sx=0,t.pt="inline",t.sy=0,null!==c&&(t.ah=c.height,t.aw=c.width),null!==f&&(t.ww=f.width)}v(i,t)}},v=function(e,t){e&&t&&u&&u.viewabilityEndpoint&&((new Image).src=""+u.viewabilityEndpoint+e+"/"+JSON.stringify(t))},w=function(e){!e.intersecting||l.viewable?e.intersecting||z():x()},x=function(){if(null===a){var e=0;a=setInterval(function(){10===++e&&(g(p),z())},100)}},z=function(){null!==a&&(clearInterval(a),a=null)},m=function(e){f=e.viewportSize,c=e.widgetSize,h=e.scrollOffset,d=h<f.height,g(y)},S=function(e){e};function _(e){f=e}function O(e){c=e}var P=function(){var e=window.NativeWebBridge;e.subscribe({onDisplayReady:m,onScrollChange:S,onViewportSizeChange:_,onWidgetSizeChange:O}),new s.default([{thresholds:.5,callback:w}]).setIntersectionProvider({nwb:e}),setTimeout(function(){g(y)},50)};t.exports={initNativeWebBridgeAppViewability:function(e){var t,i;(u=n({},e))&&u.impressionPixel&&u.slotName?(u.viewabilityEndpoint=(t=new URL(e.impressionPixel),i=t.searchParams.get("b"),t.origin+"/x/px/"+i+"/"),"complete"!==document.readyState?(window.onload=function(){P()},setTimeout(function(){l[y]||(d="unknown",g(y))},2e3)):P()):console.error("initNativeWebBridgeAppViewability failed to get necessary data",e)}}},{16:16,2:2}]},{},[17]);
